"use strict";(self.webpackChunkAirBnb=self.webpackChunkAirBnb||[]).push([[179],{2011:(_t,Ie,R)=>{R.d(Ie,{Dh:()=>me,GT:()=>pe,cc:()=>Ne,hO:()=>Ge,on:()=>q,pX:()=>ue,xv:()=>ge});var o=R(4650),ie=R(9260),O=R(2122);_t=R.hmd(_t);const de=["ngOnDestroy"],ue=(ve,ct,gt,He={})=>new Proxy(ve,{get:(Me,Ee)=>gt.runOutsideAngular(()=>{var We;if(ve[Ee])return!(null===(We=He?.spy)||void 0===We)&&We.get&&He.spy.get(Ee,ve[Ee]),ve[Ee];if(de.indexOf(Ee)>-1)return()=>{};const Ze=ct.toPromise().then(G=>{const ye=G&&G[Ee];return"function"==typeof ye?ye.bind(G):ye&&ye.then?ye.then(Q=>gt.run(()=>Q)):gt.run(()=>ye)});return new Proxy(()=>{},{get:(G,ye)=>Ze[ye],apply:(G,ye,Q)=>Ze.then(re=>{var le;const ce=re&&re(...Q);return!(null===(le=He?.spy)||void 0===le)&&le.apply&&He.spy.apply(Ee,Q,ce),ce})})})}),pe=(ve,ct)=>{ct.forEach(gt=>{Object.getOwnPropertyNames(gt.prototype||gt).forEach(He=>{Object.defineProperty(ve.prototype,He,Object.getOwnPropertyDescriptor(gt.prototype||gt,He))})})};class ae{constructor(ct){return ct}}const me=new o.OlP("angularfire2.app.options"),ge=new o.OlP("angularfire2.app.name");function q(ve,ct,gt){const Me="object"==typeof gt&&gt||{};Me.name=Me.name||"string"==typeof gt&&gt||"[DEFAULT]";const We=ie.Z.apps.filter(Ze=>Ze&&Ze.name===Me.name)[0]||ct.runOutsideAngular(()=>ie.Z.initializeApp(ve,Me));try{JSON.stringify(ve)!==JSON.stringify(We.options)&&W("error",`${We.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(We)}const W=(ve,...ct)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ve](...ct)},ee={provide:ae,useFactory:q,deps:[me,o.R0b,[new o.FiY,ge]]};let Ge=(()=>{class ve{constructor(gt){ie.Z.registerVersion("angularfire",O.q4.full,"core"),ie.Z.registerVersion("angularfire",O.q4.full,"app-compat"),ie.Z.registerVersion("angular",o.q4F.full,gt.toString())}static initializeApp(gt,He){return{ngModule:ve,providers:[{provide:me,useValue:gt},{provide:ge,useValue:He}]}}}return ve.\u0275fac=function(gt){return new(gt||ve)(o.LFG(o.Lbi))},ve.\u0275mod=o.oAB({type:ve}),ve.\u0275inj=o.cJS({providers:[ee]}),ve})();function Ne(ve,ct,gt,He,Me){const[,Ee,We]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===ve)||[];if(Ee)return function xe(ve,ct){try{return ve.toString()===ct.toString()}catch{return ve===ct}}(Me,We)||(Ce("error",`${ct} was already initialized on the ${gt} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:Me,was:We})),Ee;{const Ze=He();return globalThis.\u0275AngularfireInstanceCache.push([ve,Ze,Me]),Ze}}const dt=!!_t.hot,Ce=(ve,...ct)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ve](...ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(_t,Ie,R)=>{R.d(Ie,{q4:()=>Je,iC:()=>Qs,fc:()=>Nn,HU:()=>mr,vb:()=>Ks,JM:()=>N2});var o=R(4650),ie=R(259),O=R(5861),de=R(9681),ue=R(2090),pe=R(4859),ae=R(1877),me=R(8766);const ge="@firebase/installations",q="0.6.0",ee=`w:${q}`,Ge="FIS_v2",ct=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(x){return x instanceof ue.ZR&&x.code.includes("request-failed")}function He({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Me(x){return{token:x.token,requestStatus:2,expiresIn:re(x.expiresIn),creationTime:Date.now()}}function Ee(x,E){return We.apply(this,arguments)}function We(){return(We=(0,O.Z)(function*(x,E){const B=(yield E.json()).error;return ct.create("request-failed",{requestName:x,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Ze({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function G(x,{refreshToken:E}){const V=Ze(x);return V.append("Authorization",function le(x){return`${Ge} ${x}`}(E)),V}function ye(x){return Q.apply(this,arguments)}function Q(){return(Q=(0,O.Z)(function*(x){const E=yield x();return E.status>=500&&E.status<600?x():E})).apply(this,arguments)}function re(x){return Number(x.replace("s","000"))}function ce(x,E){return Be.apply(this,arguments)}function Be(){return(Be=(0,O.Z)(function*({appConfig:x,heartbeatServiceProvider:E},{fid:V}){const B=He(x),te=Ze(x),oe=E.getImmediate({optional:!0});if(oe){const ft=yield oe.getHeartbeatsHeader();ft&&te.append("x-firebase-client",ft)}const Le={method:"POST",headers:te,body:JSON.stringify({fid:V,authVersion:Ge,appId:x.appId,sdkVersion:ee})},ot=yield ye(()=>fetch(B,Le));if(ot.ok){const ft=yield ot.json();return{fid:ft.fid||V,registrationStatus:2,refreshToken:ft.refreshToken,authToken:Me(ft.authToken)}}throw yield Ee("Create Installation",ot)})).apply(this,arguments)}function Fe(x){return new Promise(E=>{setTimeout(E,x)})}const fn=/^[cdef][\w-]{21}$/;function tt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const V=function Dn(x){return function Ct(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return fn.test(V)?V:""}catch{return""}}function Rn(x){return`${x.appName}!${x.appId}`}const ln=new Map;function pn(x,E){const V=Rn(x);xn(V,E),function Os(x,E){const V=function ur(){return!rs&&"BroadcastChannel"in self&&(rs=new BroadcastChannel("[Firebase] FID Change"),rs.onmessage=x=>{xn(x.data.key,x.data.fid)}),rs}();V&&V.postMessage({key:x,fid:E}),function dr(){0===ln.size&&rs&&(rs.close(),rs=null)}()}(V,E)}function xn(x,E){const V=ln.get(x);if(V)for(const B of V)B(E)}let rs=null;const Sr="firebase-installations-store";let Pr=null;function xa(){return Pr||(Pr=(0,me.X3)("firebase-installations-database",1,{upgrade:(x,E)=>{0===E&&x.createObjectStore(Sr)}})),Pr}function it(x,E){return ir.apply(this,arguments)}function ir(){return(ir=(0,O.Z)(function*(x,E){const V=Rn(x),te=(yield xa()).transaction(Sr,"readwrite"),oe=te.objectStore(Sr),Ae=yield oe.get(V);return yield oe.put(E,V),yield te.done,(!Ae||Ae.fid!==E.fid)&&pn(x,E.fid),E})).apply(this,arguments)}function po(x){return Si.apply(this,arguments)}function Si(){return(Si=(0,O.Z)(function*(x){const E=Rn(x),B=(yield xa()).transaction(Sr,"readwrite");yield B.objectStore(Sr).delete(E),yield B.done})).apply(this,arguments)}function Or(x,E){return ws.apply(this,arguments)}function ws(){return(ws=(0,O.Z)(function*(x,E){const V=Rn(x),te=(yield xa()).transaction(Sr,"readwrite"),oe=te.objectStore(Sr),Ae=yield oe.get(V),Le=E(Ae);return void 0===Le?yield oe.delete(V):yield oe.put(Le,V),yield te.done,Le&&(!Ae||Ae.fid!==Le.fid)&&pn(x,Le.fid),Le})).apply(this,arguments)}function Zn(x){return di.apply(this,arguments)}function di(){return(di=(0,O.Z)(function*(x){let E;const V=yield Or(x.appConfig,B=>{const te=Hn(B),oe=xt(x,te);return E=oe.registrationPromise,oe.installationEntry});return""===V.fid?{installationEntry:yield E}:{installationEntry:V,registrationPromise:E}})).apply(this,arguments)}function Hn(x){return zt(x||{fid:tt(),registrationStatus:0})}function xt(x,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(ct.create("app-offline"))};const V={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},B=function vt(x,E){return bn.apply(this,arguments)}(x,V);return{installationEntry:V,registrationPromise:B}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Li(x)}:{installationEntry:E}}function bn(){return(bn=(0,O.Z)(function*(x,E){try{const V=yield ce(x,E);return it(x.appConfig,V)}catch(V){throw gt(V)&&409===V.customData.serverCode?yield po(x.appConfig):yield it(x.appConfig,{fid:E.fid,registrationStatus:0}),V}})).apply(this,arguments)}function Li(x){return ri.apply(this,arguments)}function ri(){return(ri=(0,O.Z)(function*(x){let E=yield Dr(x.appConfig);for(;1===E.registrationStatus;)yield Fe(100),E=yield Dr(x.appConfig);if(0===E.registrationStatus){const{installationEntry:V,registrationPromise:B}=yield Zn(x);return B||V}return E})).apply(this,arguments)}function Dr(x){return Or(x,E=>{if(!E)throw ct.create("installation-not-found");return zt(E)})}function zt(x){return function Rs(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function mn(x,E){return os.apply(this,arguments)}function os(){return(os=(0,O.Z)(function*({appConfig:x,heartbeatServiceProvider:E},V){const B=yn(x,V),te=G(x,V),oe=E.getImmediate({optional:!0});if(oe){const ft=yield oe.getHeartbeatsHeader();ft&&te.append("x-firebase-client",ft)}const Le={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:ee,appId:x.appId}})},ot=yield ye(()=>fetch(B,Le));if(ot.ok)return Me(yield ot.json());throw yield Ee("Generate Auth Token",ot)})).apply(this,arguments)}function yn(x,{fid:E}){return`${He(x)}/${E}/authTokens:generate`}function Di(x){return hr.apply(this,arguments)}function hr(){return(hr=(0,O.Z)(function*(x,E=!1){let V;const B=yield Or(x.appConfig,oe=>{if(!Zt(oe))throw ct.create("not-registered");const Ae=oe.authToken;if(!E&&$(Ae))return oe;if(1===Ae.requestStatus)return V=ut(x,E),oe;{if(!navigator.onLine)throw ct.create("app-offline");const Le=X(oe);return V=Nt(x,Le),Le}});return V?yield V:B.authToken})).apply(this,arguments)}function ut(x,E){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(x,E){let V=yield lt(x.appConfig);for(;1===V.authToken.requestStatus;)yield Fe(100),V=yield lt(x.appConfig);const B=V.authToken;return 0===B.requestStatus?Di(x,E):B})).apply(this,arguments)}function lt(x){return Or(x,E=>{if(!Zt(E))throw ct.create("not-registered");return function Se(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function Nt(x,E){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,O.Z)(function*(x,E){try{const V=yield mn(x,E),B=Object.assign(Object.assign({},E),{authToken:V});return yield it(x.appConfig,B),V}catch(V){if(!gt(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const B=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield it(x.appConfig,B)}else yield po(x.appConfig);throw V}})).apply(this,arguments)}function Zt(x){return void 0!==x&&2===x.registrationStatus}function $(x){return 2===x.requestStatus&&!function U(x){const E=Date.now();return E<x.creationTime||x.creationTime+x.expiresIn<E+36e5}(x)}function X(x){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:E})}function Ke(){return(Ke=(0,O.Z)(function*(x){const E=x,{installationEntry:V,registrationPromise:B}=yield Zn(E);return B?B.catch(console.error):Di(E).catch(console.error),V.fid})).apply(this,arguments)}function un(){return(un=(0,O.Z)(function*(x,E=!1){const V=x;return yield kn(V),(yield Di(V,E)).token})).apply(this,arguments)}function kn(x){return rn.apply(this,arguments)}function rn(){return(rn=(0,O.Z)(function*(x){const{registrationPromise:E}=yield Zn(x);E&&(yield E)})).apply(this,arguments)}function mo(x){return ct.create("missing-app-config-values",{valueName:x})}const Ea="installations",jn=x=>{const E=x.getProvider("app").getImmediate(),V=function Fn(x){if(!x||!x.options)throw mo("App Configuration");if(!x.name)throw mo("App Name");const E=["projectId","apiKey","appId"];for(const V of E)if(!x.options[V])throw mo(V);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(E);return{app:E,appConfig:V,heartbeatServiceProvider:(0,de._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},Uo=x=>{const E=x.getProvider("app").getImmediate(),V=(0,de._getProvider)(E,Ea).getImmediate();return{getId:()=>function ne(x){return Ke.apply(this,arguments)}(V),getToken:te=>function bt(x){return un.apply(this,arguments)}(V,te)}};(function C1(){(0,de._registerComponent)(new pe.wA(Ea,jn,"PUBLIC")),(0,de._registerComponent)(new pe.wA("installations-internal",Uo,"PRIVATE"))})(),(0,de.registerVersion)(ge,q),(0,de.registerVersion)(ge,q,"esm2017");const Ss="@firebase/remote-config",fi=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ol{constructor(E,V,B,te){this.client=E,this.storage=V,this.storageCache=B,this.logger=te}isCachedDataFresh(E,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-V,te=B<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${te}.`),te}fetch(E){var V=this;return(0,O.Z)(function*(){const[B,te]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(te&&V.isCachedDataFresh(E.cacheMaxAgeMillis,B))return te;E.eTag=te&&te.eTag;const oe=yield V.client.fetch(E),Ae=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Ae.push(V.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Ae),oe})()}}function b1(x=navigator){return x.languages&&x.languages[0]||x.language}class al{constructor(E,V,B,te,oe,Ae){this.firebaseInstallations=E,this.sdkVersion=V,this.namespace=B,this.projectId=te,this.apiKey=oe,this.appId=Ae}fetch(E){var V=this;return(0,O.Z)(function*(){const[B,te]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,Le={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},ot={sdk_version:V.sdkVersion,app_instance_id:B,app_instance_id_token:te,app_id:V.appId,language_code:b1()},ft={method:"POST",headers:Le,body:JSON.stringify(ot)},Ft=fetch(Ae,ft),Vt=new Promise((ai,Lr)=>{E.signal.addEventListener(()=>{const Xs=new Error("The operation was aborted.");Xs.name="AbortError",Lr(Xs)})});let pi;try{yield Promise.race([Ft,Vt]),pi=yield Ft}catch(ai){let Lr="fetch-client-network";throw"AbortError"===ai?.name&&(Lr="fetch-timeout"),fi.create(Lr,{originalErrorMessage:ai?.message})}let oi=pi.status;const aa=pi.headers.get("ETag")||void 0;let Ua,Bt;if(200===pi.status){let ai;try{ai=yield pi.json()}catch(Lr){throw fi.create("fetch-client-parse",{originalErrorMessage:Lr?.message})}Ua=ai.entries,Bt=ai.state}if("INSTANCE_STATE_UNSPECIFIED"===Bt?oi=500:"NO_CHANGE"===Bt?oi=304:("NO_TEMPLATE"===Bt||"EMPTY_CONFIG"===Bt)&&(Ua={}),304!==oi&&200!==oi)throw fi.create("fetch-status",{httpStatus:oi});return{status:oi,eTag:aa,config:Ua}})()}}class a0{constructor(E,V){this.client=E,this.storage=V}fetch(E){var V=this;return(0,O.Z)(function*(){const B=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(E,B)})()}attemptFetch(E,{throttleEndTimeMillis:V,backoffCount:B}){var te=this;return(0,O.Z)(function*(){yield function Ei(x,E){return new Promise((V,B)=>{const te=Math.max(E-Date.now(),0),oe=setTimeout(V,te);x.addEventListener(()=>{clearTimeout(oe),B(fi.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,V);try{const oe=yield te.client.fetch(E);return yield te.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function P3(x){if(!(x instanceof ue.ZR&&x.customData))return!1;const E=Number(x.customData.httpStatus);return 429===E||500===E||503===E||504===E}(oe))throw oe;const Ae={throttleEndTimeMillis:Date.now()+(0,ue.$s)(B),backoffCount:B+1};return yield te.storage.setThrottleMetadata(Ae),te.attemptFetch(E,Ae)}})()}}class O3{constructor(E,V,B,te,oe){this.app=E,this._client=V,this._storageCache=B,this._storage=te,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cl(x,E){const V=x.target.error||void 0;return fi.create(E,{originalErrorMessage:V&&V?.message})}const yo="app_namespace_store";class d0{constructor(E,V,B,te=function u0(){return new Promise((x,E)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=B=>{E(cl(B,"storage-open"))},V.onsuccess=B=>{x(B.target.result)},V.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(yo,{keyPath:"compositeKey"})}}catch(V){E(fi.create("storage-open",{originalErrorMessage:V?.message}))}})}()){this.appId=E,this.appName=V,this.namespace=B,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var V=this;return(0,O.Z)(function*(){const B=yield V.openDbPromise;return new Promise((te,oe)=>{const Le=B.transaction([yo],"readonly").objectStore(yo),ot=V.createCompositeKey(E);try{const ft=Le.get(ot);ft.onerror=Ft=>{oe(cl(Ft,"storage-get"))},ft.onsuccess=Ft=>{const Vt=Ft.target.result;te(Vt?Vt.value:void 0)}}catch(ft){oe(fi.create("storage-get",{originalErrorMessage:ft?.message}))}})})()}set(E,V){var B=this;return(0,O.Z)(function*(){const te=yield B.openDbPromise;return new Promise((oe,Ae)=>{const ot=te.transaction([yo],"readwrite").objectStore(yo),ft=B.createCompositeKey(E);try{const Ft=ot.put({compositeKey:ft,value:V});Ft.onerror=Vt=>{Ae(cl(Vt,"storage-set"))},Ft.onsuccess=()=>{oe()}}catch(Ft){Ae(fi.create("storage-set",{originalErrorMessage:Ft?.message}))}})})()}delete(E){var V=this;return(0,O.Z)(function*(){const B=yield V.openDbPromise;return new Promise((te,oe)=>{const Le=B.transaction([yo],"readwrite").objectStore(yo),ot=V.createCompositeKey(E);try{const ft=Le.delete(ot);ft.onerror=Ft=>{oe(cl(Ft,"storage-delete"))},ft.onsuccess=()=>{te()}}catch(ft){oe(fi.create("storage-delete",{originalErrorMessage:ft?.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class F3{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,O.Z)(function*(){const V=E.storage.getLastFetchStatus(),B=E.storage.getLastSuccessfulFetchTimestampMillis(),te=E.storage.getActiveConfig(),oe=yield V;oe&&(E.lastFetchStatus=oe);const Ae=yield B;Ae&&(E.lastSuccessfulFetchTimestampMillis=Ae);const Le=yield te;Le&&(E.activeConfig=Le)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function M1(){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,O.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Co(){(0,de._registerComponent)(new pe.wA("remote-config",function x(E,{instanceIdentifier:V}){const B=E.getProvider("app").getImmediate(),te=E.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fi.create("registration-window");if(!(0,ue.hl)())throw fi.create("indexed-db-unavailable");const{projectId:oe,apiKey:Ae,appId:Le}=B.options;if(!oe)throw fi.create("registration-project-id");if(!Ae)throw fi.create("registration-api-key");if(!Le)throw fi.create("registration-app-id");const ot=new d0(Le,B.name,V=V||"firebase"),ft=new F3(ot),Ft=new ae.Yd(Ss);Ft.logLevel=ae.in.ERROR;const Vt=new al(te,de.SDK_VERSION,V,oe,Ae,Le),pi=new a0(Vt,ot),oi=new ol(pi,ot,ft,Ft),aa=new O3(B,oi,ft,ot,Ft);return function Gn(x){const E=(0,ue.m9)(x);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(aa),aa},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Ss,"0.4.0"),(0,de.registerVersion)(Ss,"0.4.0","esm2017")}();const Ds="/firebase-messaging-sw.js",Bs="/firebase-cloud-messaging-push-scope",Us="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",p2="google.c.a.c_id",w1="google.c.a.c_l",ll="google.c.a.ts",ju="google.c.a.e";var js=(()=>{return(x=js||(js={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",js;var x})();function Rr(x){const E=new Uint8Array(x);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ar(x){const V=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(V),te=new Uint8Array(B.length);for(let oe=0;oe<B.length;++oe)te[oe]=B.charCodeAt(oe);return te}const Ta="fcm_token_details_db",Ni="fcm_token_object_Store";function Gu(x){return qu.apply(this,arguments)}function qu(){return qu=(0,O.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Ta))return null;let E=null;return(yield(0,me.X3)(Ta,5,{upgrade:(B=(0,O.Z)(function*(te,oe,Ae,Le){var ot;if(oe<2||!te.objectStoreNames.contains(Ni))return;const ft=Le.objectStore(Ni),Ft=yield ft.index("fcmSenderId").get(x);if(yield ft.clear(),Ft)if(2===oe){const Vt=Ft;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;E={token:Vt.fcmToken,createTime:null!==(ot=Vt.createTime)&&void 0!==ot?ot:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:Rr(Vt.vapidKey)}}}else if(3===oe){const Vt=Ft;E={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Rr(Vt.auth),p256dh:Rr(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Rr(Vt.vapidKey)}}}else if(4===oe){const Vt=Ft;E={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Rr(Vt.auth),p256dh:Rr(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Rr(Vt.vapidKey)}}}}),function(oe,Ae,Le,ot){return B.apply(this,arguments)})})).close(),yield(0,me.Lj)(Ta),yield(0,me.Lj)("fcm_vapid_details_db"),yield(0,me.Lj)("undefined"),Yn(E)?E:null;var B}),qu.apply(this,arguments)}function Yn(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:E}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const Fr="firebase-messaging-store";let pr=null;function D1(){return pr||(pr=(0,me.X3)("firebase-messaging-database",1,{upgrade:(x,E)=>{0===E&&x.createObjectStore(Fr)}})),pr}function $o(x){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,O.Z)(function*(x){const E=cs(x),B=yield(yield D1()).transaction(Fr).objectStore(Fr).get(E);if(B)return B;{const te=yield Gu(x.appConfig.senderId);if(te)return yield sn(x,te),te}})).apply(this,arguments)}function sn(x,E){return x1.apply(this,arguments)}function x1(){return(x1=(0,O.Z)(function*(x,E){const V=cs(x),te=(yield D1()).transaction(Fr,"readwrite");return yield te.objectStore(Fr).put(E,V),yield te.done,E})).apply(this,arguments)}function Wo(x){return E1.apply(this,arguments)}function E1(){return(E1=(0,O.Z)(function*(x){const E=cs(x),B=(yield D1()).transaction(Fr,"readwrite");yield B.objectStore(Fr).delete(E),yield B.done})).apply(this,arguments)}function cs({appConfig:x}){return x.appId}const qn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pt(x,E){return T1.apply(this,arguments)}function T1(){return(T1=(0,O.Z)(function*(x,E){const V=yield dl(x),B=ke(E),te={method:"POST",headers:V,body:JSON.stringify(B)};let oe;try{oe=yield(yield fetch(qs(x.appConfig),te)).json()}catch(Ae){throw qn.create("token-subscribe-failed",{errorInfo:Ae?.toString()})}if(oe.error)throw qn.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw qn.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function Wu(x,E){return I1.apply(this,arguments)}function I1(){return(I1=(0,O.Z)(function*(x,E){const V=yield dl(x),B=ke(E.subscriptionOptions),te={method:"PATCH",headers:V,body:JSON.stringify(B)};let oe;try{oe=yield(yield fetch(`${qs(x.appConfig)}/${E.token}`,te)).json()}catch(Ae){throw qn.create("token-update-failed",{errorInfo:Ae?.toString()})}if(oe.error)throw qn.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw qn.create("token-update-no-token");return oe.token})).apply(this,arguments)}function k1(x,E){return ul.apply(this,arguments)}function ul(){return(ul=(0,O.Z)(function*(x,E){const B={method:"DELETE",headers:yield dl(x)};try{const oe=yield(yield fetch(`${qs(x.appConfig)}/${E}`,B)).json();if(oe.error)throw qn.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(te){throw qn.create("token-unsubscribe-failed",{errorInfo:te?.toString()})}})).apply(this,arguments)}function qs({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function dl(x){return g2.apply(this,arguments)}function g2(){return(g2=(0,O.Z)(function*({appConfig:x,installations:E}){const V=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function ke({p256dh:x,auth:E,endpoint:V,vapidKey:B}){const te={web:{endpoint:V,auth:E,p256dh:x}};return B!==Us&&(te.web.applicationPubKey=B),te}const Jt=6048e5;function V1(x){return L1.apply(this,arguments)}function L1(){return(L1=(0,O.Z)(function*(x){const E=yield hl(x.swRegistration,x.vapidKey),V={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:E.endpoint,auth:Rr(E.getKey("auth")),p256dh:Rr(E.getKey("p256dh"))},B=yield $o(x.firebaseDependencies);if(B){if(j3(B.subscriptionOptions,V))return Date.now()>=B.createTime+Jt?Ia(x,{token:B.token,createTime:Date.now(),subscriptionOptions:V}):B.token;try{yield k1(x.firebaseDependencies,B.token)}catch(te){console.warn(te)}return _2(x.firebaseDependencies,V)}return _2(x.firebaseDependencies,V)})).apply(this,arguments)}function Kn(x){return H1.apply(this,arguments)}function H1(){return(H1=(0,O.Z)(function*(x){const E=yield $o(x.firebaseDependencies);E&&(yield k1(x.firebaseDependencies,E.token),yield Wo(x.firebaseDependencies));const V=yield x.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function Ia(x,E){return Br.apply(this,arguments)}function Br(){return(Br=(0,O.Z)(function*(x,E){try{const V=yield Wu(x.firebaseDependencies,E),B=Object.assign(Object.assign({},E),{token:V,createTime:Date.now()});return yield sn(x.firebaseDependencies,B),V}catch(V){throw yield Kn(x),V}})).apply(this,arguments)}function _2(x,E){return v2.apply(this,arguments)}function v2(){return(v2=(0,O.Z)(function*(x,E){const B={token:yield Pt(x,E),createTime:Date.now(),subscriptionOptions:E};return yield sn(x,B),B.token})).apply(this,arguments)}function hl(x,E){return fl.apply(this,arguments)}function fl(){return(fl=(0,O.Z)(function*(x,E){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ar(E)})})).apply(this,arguments)}function j3(x,E){return E.vapidKey===x.vapidKey&&E.endpoint===x.endpoint&&E.auth===x.auth&&E.p256dh===x.p256dh}function y2(x){const E={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Qn(x,E){if(!E.notification)return;x.notification={};const V=E.notification.title;V&&(x.notification.title=V);const B=E.notification.body;B&&(x.notification.body=B);const te=E.notification.image;te&&(x.notification.image=te);const oe=E.notification.icon;oe&&(x.notification.icon=oe)}(E,x),function Es(x,E){!E.data||(x.data=E.data)}(E,x),function pl(x,E){var V,B,te,oe,Ae;if(!(E.fcmOptions||null!==(V=E.notification)&&void 0!==V&&V.click_action))return;x.fcmOptions={};const Le=null!==(te=null===(B=E.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==te?te:null===(oe=E.notification)||void 0===oe?void 0:oe.click_action;Le&&(x.fcmOptions.link=Le);const ot=null===(Ae=E.fcmOptions)||void 0===Ae?void 0:Ae.analytics_label;ot&&(x.fcmOptions.analyticsLabel=ot)}(E,x),E}function Zo(x){return"object"==typeof x&&!!x&&p2 in x}function $s(x,E){const V=[];for(let B=0;B<x.length;B++)V.push(x.charAt(B)),B<E.length&&V.push(E.charAt(B));return V.join("")}function C2(x){return qn.create("missing-app-config-values",{valueName:x})}$s("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$s("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class f0{constructor(E,V,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function h0(x){if(!x||!x.options)throw C2("App Configuration Object");if(!x.name)throw C2("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:V}=x;for(const B of E)if(!V[B])throw C2(B);return{appName:x.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:te,installations:V,analyticsProvider:B}}_delete(){return Promise.resolve()}}function ml(x){return z1.apply(this,arguments)}function z1(){return(z1=(0,O.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Ds,{scope:Bs}),x.swRegistration.update().catch(()=>{})}catch(E){throw qn.create("failed-service-worker-registration",{browserErrorMessage:E?.message})}})).apply(this,arguments)}function b2(x,E){return gl.apply(this,arguments)}function gl(){return(gl=(0,O.Z)(function*(x,E){if(!E&&!x.swRegistration&&(yield ml(x)),E||!x.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw qn.create("invalid-sw-registration");x.swRegistration=E}})).apply(this,arguments)}function M2(x,E){return _l.apply(this,arguments)}function _l(){return(_l=(0,O.Z)(function*(x,E){E?x.vapidKey=E:x.vapidKey||(x.vapidKey=Us)})).apply(this,arguments)}function P1(){return(P1=(0,O.Z)(function*(x,E){if(!navigator)throw qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qn.create("permission-blocked");return yield M2(x,E?.vapidKey),yield b2(x,E?.serviceWorkerRegistration),V1(x)})).apply(this,arguments)}function vl(x,E,V){return yl.apply(this,arguments)}function yl(){return(yl=(0,O.Z)(function*(x,E,V){const B=Cl(E);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:V[p2],message_name:V[w1],message_time:V[ll],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cl(x){switch(x){case js.NOTIFICATION_CLICKED:return"notification_open";case js.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yo(){return(Yo=(0,O.Z)(function*(x,E){const V=E.data;if(!V.isFirebaseMessaging)return;x.onMessageHandler&&V.messageType===js.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(y2(V)):x.onMessageHandler.next(y2(V)));const B=V.data;Zo(B)&&"1"===B[ju]&&(yield vl(x,V.messageType,B))})).apply(this,arguments)}const Ko="@firebase/messaging",Ai=x=>{const E=new f0(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function G3(x,E){return Yo.apply(this,arguments)}(E,V)),E},Tr=x=>{const E=x.getProvider("messaging").getImmediate();return{getToken:B=>function N1(x,E){return P1.apply(this,arguments)}(E,B)}};function bl(){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,O.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bn(){(0,de._registerComponent)(new pe.wA("messaging",Ai,"PUBLIC")),(0,de._registerComponent)(new pe.wA("messaging-internal",Tr,"PRIVATE")),(0,de.registerVersion)(Ko,"0.12.0"),(0,de.registerVersion)(Ko,"0.12.0","esm2017")}();const Va="analytics",W3="firebase_id",Xo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",B1="https://www.googletagmanager.com/gtag/js",Xn=new ae.Yd("@firebase/analytics");function U1(x){return Promise.all(x.map(E=>E.catch(V=>V)))}function j1(x,E){const V=document.createElement("script");V.src=`${B1}?l=${x}&id=${E}`,V.async=!0,document.head.appendChild(V)}function Zu(x,E,V,B,te,oe){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,O.Z)(function*(x,E,V,B,te,oe){const Ae=B[te];try{if(Ae)yield E[Ae];else{const ot=(yield U1(V)).find(ft=>ft.measurementId===te);ot&&(yield E[ot.appId])}}catch(Le){Xn.error(Le)}x("config",te,oe)})).apply(this,arguments)}function La(x,E,V,B,te){return ea.apply(this,arguments)}function ea(){return(ea=(0,O.Z)(function*(x,E,V,B,te){try{let oe=[];if(te&&te.send_to){let Ae=te.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Le=yield U1(V);for(const ot of Ae){const ft=Le.find(Vt=>Vt.measurementId===ot),Ft=ft&&E[ft.appId];if(!Ft){oe=[];break}oe.push(Ft)}}0===oe.length&&(oe=Object.values(E)),yield Promise.all(oe),x("event",B,te||{})}catch(oe){Xn.error(oe)}})).apply(this,arguments)}function Y3(x){const E=window.document.getElementsByTagName("script");for(const V of Object.values(E))if(V.src&&V.src.includes(B1)&&V.src.includes(x))return V;return null}const Pi=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),x2=new class As{constructor(E={},V=1e3){this.throttleMetadata=E,this.intervalMillis=V}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,V){this.throttleMetadata[E]=V}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function Q3(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function E2(x){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,O.Z)(function*(x){var E;const{appId:V,apiKey:B}=x,te={method:"GET",headers:Q3(B)},oe=Xo.replace("{app-id}",V),Ae=yield fetch(oe,te);if(200!==Ae.status&&304!==Ae.status){let Le="";try{const ot=yield Ae.json();null!==(E=ot.error)&&void 0!==E&&E.message&&(Le=ot.error.message)}catch{}throw Pi.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Le})}return Ae.json()})).apply(this,arguments)}function si(x){return ls.apply(this,arguments)}function ls(){return(ls=(0,O.Z)(function*(x,E=x2,V){const{appId:B,apiKey:te,measurementId:oe}=x.options;if(!B)throw Pi.create("no-app-id");if(!te){if(oe)return{measurementId:oe,appId:B};throw Pi.create("no-api-key")}const Ae=E.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Le=new W1;return setTimeout((0,O.Z)(function*(){Le.abort()}),void 0!==V?V:6e4),q1({appId:B,apiKey:te,measurementId:oe},Ae,Le,E)})).apply(this,arguments)}function q1(x,E,V){return ta.apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(x,{throttleEndTimeMillis:E,backoffCount:V},B,te=x2){var oe;const{appId:Ae,measurementId:Le}=x;try{yield A2(B,E)}catch(ot){if(Le)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${ot?.message}]`),{appId:Ae,measurementId:Le};throw ot}try{const ot=yield E2(x);return te.deleteThrottleMetadata(Ae),ot}catch(ot){const ft=ot;if(!$1(ft)){if(te.deleteThrottleMetadata(Ae),Le)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:Ae,measurementId:Le};throw ot}const Ft=503===Number(null===(oe=ft?.customData)||void 0===oe?void 0:oe.httpStatus)?(0,ue.$s)(V,te.intervalMillis,30):(0,ue.$s)(V,te.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+Ft,backoffCount:V+1};return te.setThrottleMetadata(Ae,Vt),Xn.debug(`Calling attemptFetch again in ${Ft} millis`),q1(x,Vt,B,te)}})).apply(this,arguments)}function A2(x,E){return new Promise((V,B)=>{const te=Math.max(E-Date.now(),0),oe=setTimeout(V,te);x.addEventListener(()=>{clearTimeout(oe),B(Pi.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function $1(x){if(!(x instanceof ue.ZR&&x.customData))return!1;const E=Number(x.customData.httpStatus);return 429===E||500===E||503===E||504===E}class W1{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let wo,I2;function So(){return(So=(0,O.Z)(function*(x,E,V,B,te){if(te&&te.global)x("event",V,B);else{const oe=yield E;x("event",V,Object.assign(Object.assign({},B),{send_to:oe}))}})).apply(this,arguments)}function ia(x){I2=x}function El(x){wo=x}function Zs(){return K1.apply(this,arguments)}function K1(){return(K1=(0,O.Z)(function*(){if(!(0,ue.hl)())return Xn.warn(Pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(x){return Xn.warn(Pi.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function Na(){return(Na=(0,O.Z)(function*(x,E,V,B,te,oe,Ae){var Le;const ot=si(x);ot.then(oi=>{V[oi.measurementId]=oi.appId,x.options.measurementId&&oi.measurementId!==x.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${oi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(oi=>Xn.error(oi)),E.push(ot);const ft=Zs().then(oi=>{if(oi)return B.getId()}),[Ft,Vt]=yield Promise.all([ot,ft]);Y3(oe)||j1(oe,Ft.measurementId),I2&&(te("consent","default",I2),ia(void 0)),te("js",new Date);const pi=null!==(Le=Ae?.config)&&void 0!==Le?Le:{};return pi.origin="firebase",pi.update=!0,null!=Vt&&(pi[W3]=Vt),te("config",Ft.measurementId,pi),wo&&(te("set",wo),El(void 0)),Ft.measurementId})).apply(this,arguments)}class Q1{constructor(E){this.app=E}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},Do=[];const Pa={};let Ra,ra,Oa="dataLayer",k2=!1;function F8(x,E,V){!function p0(){const x=[];if((0,ue.ru)()&&x.push("This is a browser extension environment."),(0,ue.zI)()||x.push("Cookies are not available."),x.length>0){const E=x.map((B,te)=>`(${te+1}) ${B}`).join(" "),V=Pi.create("invalid-analytics-context",{errorInfo:E});Xn.warn(V.message)}}();const B=x.options.appId;if(!B)throw Pi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Pi.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ir[B])throw Pi.create("already-exists",{id:B});if(!k2){!function Z3(x){let E=[];Array.isArray(window[x])?E=window[x]:window[x]=E}(Oa);const{wrappedGtag:oe,gtagCore:Ae}=function w2(x,E,V,B,te){let oe=function(...Ae){window[B].push(arguments)};return window[te]&&"function"==typeof window[te]&&(oe=window[te]),window[te]=function G1(x,E,V,B){function oe(){return(oe=(0,O.Z)(function*(Ae,Le,ot){try{"event"===Ae?yield La(x,E,V,Le,ot):"config"===Ae?yield Zu(x,E,V,B,Le,ot):"consent"===Ae?x("consent","update",ot):x("set",Le)}catch(ft){Xn.error(ft)}})).apply(this,arguments)}return function te(Ae,Le,ot){return oe.apply(this,arguments)}}(oe,x,E,V),{gtagCore:oe,wrappedGtag:window[te]}}(Ir,Do,Pa,Oa,"gtag");ra=oe,Ra=Ae,k2=!0}return Ir[B]=function za(x,E,V,B,te,oe,Ae){return Na.apply(this,arguments)}(x,Do,Pa,E,Ra,Oa,V),new Q1(x)}function U8(){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,O.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const nt="@firebase/analytics";!function Vn(){(0,de._registerComponent)(new pe.wA(Va,(E,{options:V})=>F8(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,de._registerComponent)(new pe.wA("analytics-internal",function x(E){try{const V=E.getProvider(Va).getImmediate();return{logEvent:(B,te,oe)=>function on(x,E,V,B){x=(0,ue.m9)(x),function X3(x,E,V,B,te){return So.apply(this,arguments)}(ra,Ir[x.app.options.appId],E,V,B).catch(te=>Xn.error(te))}(V,B,te,oe)}}catch(V){throw Pi.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,de.registerVersion)(nt,"0.9.0"),(0,de.registerVersion)(nt,"0.9.0","esm2017")}();var us=R(4408),gn=R(7565);const J1=new class xo extends gn.v{}(class L2 extends us.o{constructor(E,V){super(E,V),this.scheduler=E,this.work=V}schedule(E,V=0){return V>0?super.schedule(E,V):(this.delay=V,this.state=E,this.scheduler.flush(this),this)}execute(E,V){return V>0||this.closed?super.execute(E,V):this._execute(E,V)}requestAsyncId(E,V,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(E,V,B):(E.flush(this),0)}});var Al=R(4986),H2=R(8505),sa=R(5363),Ys=R(9468);const Je=new o.GfV("7.5.0"),z2="__angularfire_symbol__analyticsIsSupportedValue",Eo="__angularfire_symbol__analyticsIsSupported",oa="__angularfire_symbol__remoteConfigIsSupportedValue",Fa="__angularfire_symbol__remoteConfigIsSupported",En="__angularfire_symbol__messagingIsSupportedValue",Tl="__angularfire_symbol__messagingIsSupported";function N2(x,E,V){if(E){if(1===E.length)return E[0];const oe=E.filter(Ae=>Ae.app===V);if(1===oe.length)return oe[0]}return V.container.getProvider(x).getImmediate({optional:!0})}globalThis[Eo]||(globalThis[Eo]=U8().then(x=>globalThis[z2]=x).catch(()=>globalThis[z2]=!1)),globalThis[Tl]||(globalThis[Tl]=bl().then(x=>globalThis[En]=x).catch(()=>globalThis[En]=!1)),globalThis[Fa]||(globalThis[Fa]=M1().then(x=>globalThis[oa]=x).catch(()=>globalThis[oa]=!1));const Ks=(x,E)=>{const V=E?[E]:(0,ie.C6)(),B=[];return V.forEach(te=>{te.container.getProvider(x).instances.forEach(Ae=>{B.includes(Ae)||B.push(Ae)})}),B};function jr(){}class ds{constructor(E,V=J1){this.zone=E,this.delegate=V}now(){return this.delegate.now()}schedule(E,V,B){const te=this.zone;return this.delegate.schedule(function(Ae){te.runGuarded(()=>{E.apply(this,[Ae])})},V,B)}}class kl{constructor(E){this.zone=E,this.task=null}call(E,V){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jr,{},jr,jr)),V.pipe((0,H2.b)({next:B,complete:B,error:B})).subscribe(E).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mr=(()=>{class x{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new ds(Zone.current)),this.insideAngular=V.run(()=>new ds(Zone.current,Al.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(V){return new(V||x)(o.LFG(o.R0b))},x.\u0275prov=o.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function kr(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Nn(x){return x.pipe((0,sa.Q)(kr().outsideAngular))}function Qs(x){return kr(),function Mn(x){return function(V){return(V=V.lift(new kl(x.ngZone))).pipe((0,Ys.R)(x.outsideAngular),(0,sa.Q)(x.insideAngular))}}(kr())(x)}},2090:(_t,Ie,R)=>{R.d(Ie,{$s:()=>lt,BH:()=>Kt,DV:()=>Sr,Dv:()=>Li,G6:()=>Ee,GJ:()=>fo,L:()=>me,LL:()=>ln,Pz:()=>fn,Sg:()=>tt,UG:()=>xe,UI:()=>xa,US:()=>pe,Wj:()=>zt,Wl:()=>xn,Yr:()=>Me,ZB:()=>W,ZR:()=>Rn,aH:()=>Ct,b$:()=>ve,cI:()=>jt,dS:()=>mn,eu:()=>Ze,g5:()=>O,gK:()=>ri,gQ:()=>Zn,h$:()=>ae,hl:()=>We,hu:()=>ie,jU:()=>dt,lb:()=>Rs,m9:()=>Zt,ne:()=>di,p$:()=>q,pd:()=>ws,r3:()=>ss,ru:()=>Ce,tV:()=>ge,uI:()=>Ne,ug:()=>os,vZ:()=>it,w1:()=>gt,w9:()=>dr,xO:()=>Si,xb:()=>Pr,z$:()=>Ge,zI:()=>G,zd:()=>Or});const ie=function($,U){if(!$)throw O(U)},O=function($){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$)},de=function($){const U=[];let X=0;for(let Se=0;Se<$.length;Se++){let ne=$.charCodeAt(Se);ne<128?U[X++]=ne:ne<2048?(U[X++]=ne>>6|192,U[X++]=63&ne|128):55296==(64512&ne)&&Se+1<$.length&&56320==(64512&$.charCodeAt(Se+1))?(ne=65536+((1023&ne)<<10)+(1023&$.charCodeAt(++Se)),U[X++]=ne>>18|240,U[X++]=ne>>12&63|128,U[X++]=ne>>6&63|128,U[X++]=63&ne|128):(U[X++]=ne>>12|224,U[X++]=ne>>6&63|128,U[X++]=63&ne|128)}return U},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,U){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let ne=0;ne<$.length;ne+=3){const Ke=$[ne],bt=ne+1<$.length,un=bt?$[ne+1]:0,kn=ne+2<$.length,rn=kn?$[ne+2]:0;let Yt=(15&un)<<2|rn>>6,Hi=63&rn;kn||(Hi=64,bt||(Yt=64)),Se.push(X[Ke>>2],X[(3&Ke)<<4|un>>4],X[Yt],X[Hi])}return Se.join("")},encodeString($,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa($):this.encodeByteArray(de($),U)},decodeString($,U){return this.HAS_NATIVE_SUPPORT&&!U?atob($):function($){const U=[];let X=0,Se=0;for(;X<$.length;){const ne=$[X++];if(ne<128)U[Se++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Ke=$[X++];U[Se++]=String.fromCharCode((31&ne)<<6|63&Ke)}else if(ne>239&&ne<365){const kn=((7&ne)<<18|(63&$[X++])<<12|(63&$[X++])<<6|63&$[X++])-65536;U[Se++]=String.fromCharCode(55296+(kn>>10)),U[Se++]=String.fromCharCode(56320+(1023&kn))}else{const Ke=$[X++],bt=$[X++];U[Se++]=String.fromCharCode((15&ne)<<12|(63&Ke)<<6|63&bt)}}return U.join("")}(this.decodeStringToByteArray($,U))},decodeStringToByteArray($,U){this.init_();const X=U?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let ne=0;ne<$.length;){const Ke=X[$.charAt(ne++)],un=ne<$.length?X[$.charAt(ne)]:0;++ne;const rn=ne<$.length?X[$.charAt(ne)]:64;++ne;const Ye=ne<$.length?X[$.charAt(ne)]:64;if(++ne,null==Ke||null==un||null==rn||null==Ye)throw Error();Se.push(Ke<<2|un>>4),64!==rn&&(Se.push(un<<4&240|rn>>2),64!==Ye&&Se.push(rn<<6&192|Ye))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},ae=function($){const U=de($);return pe.encodeByteArray(U,!0)},me=function($){return ae($).replace(/\./g,"")},ge=function($){try{return pe.decodeString($,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function q($){return W(void 0,$)}function W($,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return U}for(const X in U)!U.hasOwnProperty(X)||!ee(X)||($[X]=W($[X],U[X]));return $}function ee($){return"__proto__"!==$}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function dt(){return"object"==typeof self&&self.self===self}function Ce(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){const $=Ge();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Me(){return!1}function Ee(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){try{return"object"==typeof indexedDB}catch{return!1}}function Ze(){return new Promise(($,U)=>{try{let X=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Se);ne.onsuccess=()=>{ne.result.close(),X||self.indexedDB.deleteDatabase(Se),$(!0)},ne.onupgradeneeded=()=>{X=!1},ne.onerror=()=>{var Ke;U((null===(Ke=ne.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(X){U(X)}})}function G(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ce=()=>{try{return function ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=$&&ge($[1]);return U&&JSON.parse(U)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Ct=()=>{var $;return null===($=ce())||void 0===$?void 0:$.config},fn=$=>{var U;return null===(U=ce())||void 0===U?void 0:U[`_${$}`]};class Kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,X)=>{this.resolve=U,this.reject=X})}wrapCallback(U){return(X,Se)=>{X?this.reject(X):this.resolve(Se),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(X):U(X,Se))}}}function tt($,U){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=U||"demo-project",ne=$.iat||0,Ke=$.sub||$.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:ne,exp:ne+3600,auth_time:ne,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},$);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(bt)),""].join(".")}class Rn extends Error{constructor(U,X,Se){super(X),this.code=U,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ln.prototype.create)}}class ln{constructor(U,X,Se){this.service=U,this.serviceName=X,this.errors=Se}create(U,...X){const Se=X[0]||{},ne=`${this.service}/${U}`,Ke=this.errors[U],bt=Ke?function pn($,U){return $.replace(lr,(X,Se)=>{const ne=U[Se];return null!=ne?String(ne):`<${Se}?>`})}(Ke,Se):"Error";return new Rn(ne,`${this.serviceName}: ${bt} (${ne}).`,Se)}}const lr=/\{\$([^}]+)}/g;function jt($){return JSON.parse($)}function xn($){return JSON.stringify($)}const Os=function($){let U={},X={},Se={},ne="";try{const Ke=$.split(".");U=jt(ge(Ke[0])||""),X=jt(ge(Ke[1])||""),ne=Ke[2],Se=X.d||{},delete X.d}catch{}return{header:U,claims:X,data:Se,signature:ne}},dr=function($){const X=Os($).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},fo=function($){const U=Os($).claims;return"object"==typeof U&&!0===U.admin};function ss($,U){return Object.prototype.hasOwnProperty.call($,U)}function Sr($,U){if(Object.prototype.hasOwnProperty.call($,U))return $[U]}function Pr($){for(const U in $)if(Object.prototype.hasOwnProperty.call($,U))return!1;return!0}function xa($,U,X){const Se={};for(const ne in $)Object.prototype.hasOwnProperty.call($,ne)&&(Se[ne]=U.call(X,$[ne],ne,$));return Se}function it($,U){if($===U)return!0;const X=Object.keys($),Se=Object.keys(U);for(const ne of X){if(!Se.includes(ne))return!1;const Ke=$[ne],bt=U[ne];if(ir(Ke)&&ir(bt)){if(!it(Ke,bt))return!1}else if(Ke!==bt)return!1}for(const ne of Se)if(!X.includes(ne))return!1;return!0}function ir($){return null!==$&&"object"==typeof $}function Si($){const U=[];for(const[X,Se]of Object.entries($))Array.isArray(Se)?Se.forEach(ne=>{U.push(encodeURIComponent(X)+"="+encodeURIComponent(ne))}):U.push(encodeURIComponent(X)+"="+encodeURIComponent(Se));return U.length?"&"+U.join("&"):""}function Or($){const U={};return $.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[ne,Ke]=Se.split("=");U[decodeURIComponent(ne)]=decodeURIComponent(Ke)}}),U}function ws($){const U=$.indexOf("?");if(!U)return"";const X=$.indexOf("#",U);return $.substring(U,X>0?X:void 0)}class Zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,X){X||(X=0);const Se=this.W_;if("string"==typeof U)for(let Ye=0;Ye<16;Ye++)Se[Ye]=U.charCodeAt(X)<<24|U.charCodeAt(X+1)<<16|U.charCodeAt(X+2)<<8|U.charCodeAt(X+3),X+=4;else for(let Ye=0;Ye<16;Ye++)Se[Ye]=U[X]<<24|U[X+1]<<16|U[X+2]<<8|U[X+3],X+=4;for(let Ye=16;Ye<80;Ye++){const Yt=Se[Ye-3]^Se[Ye-8]^Se[Ye-14]^Se[Ye-16];Se[Ye]=4294967295&(Yt<<1|Yt>>>31)}let rn,qe,ne=this.chain_[0],Ke=this.chain_[1],bt=this.chain_[2],un=this.chain_[3],kn=this.chain_[4];for(let Ye=0;Ye<80;Ye++){Ye<40?Ye<20?(rn=un^Ke&(bt^un),qe=1518500249):(rn=Ke^bt^un,qe=1859775393):Ye<60?(rn=Ke&bt|un&(Ke|bt),qe=2400959708):(rn=Ke^bt^un,qe=3395469782);const Yt=(ne<<5|ne>>>27)+rn+kn+qe+Se[Ye]&4294967295;kn=un,un=bt,bt=4294967295&(Ke<<30|Ke>>>2),Ke=ne,ne=Yt}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+Ke&4294967295,this.chain_[2]=this.chain_[2]+bt&4294967295,this.chain_[3]=this.chain_[3]+un&4294967295,this.chain_[4]=this.chain_[4]+kn&4294967295}update(U,X){if(null==U)return;void 0===X&&(X=U.length);const Se=X-this.blockSize;let ne=0;const Ke=this.buf_;let bt=this.inbuf_;for(;ne<X;){if(0===bt)for(;ne<=Se;)this.compress_(U,ne),ne+=this.blockSize;if("string"==typeof U){for(;ne<X;)if(Ke[bt]=U.charCodeAt(ne),++bt,++ne,bt===this.blockSize){this.compress_(Ke),bt=0;break}}else for(;ne<X;)if(Ke[bt]=U[ne],++bt,++ne,bt===this.blockSize){this.compress_(Ke),bt=0;break}}this.inbuf_=bt,this.total_+=X}digest(){const U=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&X,X/=256;this.compress_(this.buf_);let Se=0;for(let ne=0;ne<5;ne++)for(let Ke=24;Ke>=0;Ke-=8)U[Se]=this.chain_[ne]>>Ke&255,++Se;return U}}function di($,U){const X=new Hn($,U);return X.subscribe.bind(X)}class Hn{constructor(U,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{U(this)}).catch(Se=>{this.error(Se)})}next(U){this.forEachObserver(X=>{X.next(U)})}error(U){this.forEachObserver(X=>{X.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,X,Se){let ne;if(void 0===U&&void 0===X&&void 0===Se)throw new Error("Missing Observer.");ne=function vt($,U){if("object"!=typeof $||null===$)return!1;for(const X of U)if(X in $&&"function"==typeof $[X])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:X,complete:Se},void 0===ne.next&&(ne.next=bn),void 0===ne.error&&(ne.error=bn),void 0===ne.complete&&(ne.complete=bn);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Ke}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,U)}sendOne(U,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{X(this.observers[U])}catch(Se){typeof console<"u"&&console.error&&console.error(Se)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}const Li=function($,U,X,Se){let ne;if(Se<U?ne="at least "+U:Se>X&&(ne=0===X?"none":"no more than "+X),ne)throw new Error($+" failed: Was called with "+Se+(1===Se?" argument.":" arguments.")+" Expects "+ne+".")};function ri($,U){return`${$} failed: ${U} argument `}function zt($,U,X,Se){if((!Se||X)&&"function"!=typeof X)throw new Error(ri($,U)+"must be a valid function.")}function Rs($,U,X,Se){if((!Se||X)&&("object"!=typeof X||null===X))throw new Error(ri($,U)+"must be a valid context object.")}const mn=function($){const U=[];let X=0;for(let Se=0;Se<$.length;Se++){let ne=$.charCodeAt(Se);if(ne>=55296&&ne<=56319){const Ke=ne-55296;Se++,ie(Se<$.length,"Surrogate pair missing trail surrogate."),ne=65536+(Ke<<10)+($.charCodeAt(Se)-56320)}ne<128?U[X++]=ne:ne<2048?(U[X++]=ne>>6|192,U[X++]=63&ne|128):ne<65536?(U[X++]=ne>>12|224,U[X++]=ne>>6&63|128,U[X++]=63&ne|128):(U[X++]=ne>>18|240,U[X++]=ne>>12&63|128,U[X++]=ne>>6&63|128,U[X++]=63&ne|128)}return U},os=function($){let U=0;for(let X=0;X<$.length;X++){const Se=$.charCodeAt(X);Se<128?U++:Se<2048?U+=2:Se>=55296&&Se<=56319?(U+=4,X++):U+=3}return U};function lt($,U=1e3,X=2){const Se=U*Math.pow(X,$),ne=Math.round(.5*Se*(Math.random()-.5)*2);return Math.min(144e5,Se+ne)}function Zt($){return $&&$._delegate?$._delegate:$}},1529:(_t,Ie,R)=>{var o=R(4650);let ie=null;function O(){return ie}const ae=new o.OlP("DocumentToken");let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ge(){return(0,o.LFG)(W)}()},providedIn:"platform"}),n})();const q=new o.OlP("Location Initialized");let W=(()=>{class n extends me{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ee()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ee()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ge(){return new W((0,o.LFG)(ae))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Ne(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function dt(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(ct)},providedIn:"root"}),n})();const ve=new o.OlP("appBaseHref");let ct=(()=>{class n extends Ce{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ne(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+dt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const l=this.prepareExternalUrl(r+dt(s));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){const l=this.prepareExternalUrl(r+dt(s));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(me),o.LFG(ve,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gt=(()=>{class n extends Ce{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ne(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let l=this.prepareExternalUrl(r+dt(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){let l=this.prepareExternalUrl(r+dt(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(me),o.LFG(ve,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=xe(We(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+dt(i))}normalize(e){return n.stripTrailingSlash(function Ee(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,We(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+dt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+dt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=dt,n.joinWithSlash=Ne,n.stripTrailingSlash=xe,n.\u0275fac=function(e){return new(e||n)(o.LFG(Ce))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Me(){return new He((0,o.LFG)(Ce))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}function h2(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let tn=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class f2{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Er=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new f2(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,l),vo(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{vo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function vo(n,t){n.context.$implicit=t.item}let Gn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new rl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class rl{constructor(){this.$implicit=null,this.ngIf=null}}function zi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class fr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Aa=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Go=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new fr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Aa,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ol=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),l=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,r,l)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),b1=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})(),xs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const js="browser";function m2(n){return n===js}function Ni(n){return"server"===n}let S1=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new $u((0,o.LFG)(ae),window)}),n})();class $u{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function pr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Fr(this.window.history)||Fr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Fr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $o{}class Yo extends class G3 extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(n){ie||(ie=n)}(new Yo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function O1(){return Ko=Ko||document.querySelector("base"),Ko?Ko.getAttribute("href"):null}();return null==e?null:function Tr(n){Ai=Ai||document.createElement("a"),Ai.setAttribute("href",n);const t=Ai.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return h2(document.cookie,t)}}let Ai,Ko=null;const Bn=new o.OlP("TRANSITION_ID"),Ml=[{provide:o.ip1,useFactory:function bl(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=O(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Bn,ae,o.zs3],multi:!0}];let wl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const R1=new o.OlP("EventManagerPlugins");let Sl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(R1),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class F1{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=O().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Qo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ka=(()=>{class n extends Qo{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,r.push(i.appendChild(l))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach($3),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach($3))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function $3(n){O().remove(n)}const Va={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},W3=/%COMP%/g;function j1(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?j1(n,r,e):(r=r.replace(W3,n),e.push(r))}return e}function Z3(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Jo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new La(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Y3(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new K3(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=j1(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Sl),o.LFG(ka),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class La{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Va[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(w2(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(w2(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Va[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Va[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Z3(i)):this.eventManager.addEventListener(t,e,Z3(i))}}function w2(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Y3 extends La{constructor(t,e,i,r){super(t),this.component=i;const s=j1(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Xn(n){return"_ngcontent-%COMP%".replace(W3,n)}(r+"-"+i.id),this.hostAttr=function U1(n){return"_nghost-%COMP%".replace(W3,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class K3 extends La{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=j1(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const d=document.createElement("style");d.textContent=s[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Pi=(()=>{class n extends F1{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const S2=["alt","control","meta","shift"],D2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},As={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let x2=(()=>{class n extends F1{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),l="code."),S2.forEach(v=>{const b=i.indexOf(v);b>-1&&(i.splice(b,1),l+=v+".")}),l+=s,0!=i.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=l,f}static matchEventFullKeyCode(e,i){let r=D2[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),S2.forEach(l=>{l!==r&&(0,As[l])(e)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const W1=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:js},{provide:o.g9A,useValue:function q1(){Yo.makeCurrent()},multi:!0},{provide:ae,useFactory:function A2(){return(0,o.RDi)(document),document},deps:[]}]),wo=new o.OlP(""),X3=[{provide:o.rWj,useClass:class q3{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const d=function(f){l=l||f,s--,0==s&&i(l)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],So=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function ta(){return new o.qLn},deps:[]},{provide:R1,useClass:Pi,multi:!0,deps:[ae,o.R0b,o.Lbi]},{provide:R1,useClass:x2,multi:!0,deps:[ae]},{provide:Jo,useClass:Jo,deps:[Sl,ka,o.AFp]},{provide:o.FYo,useExisting:Jo},{provide:Qo,useExisting:ka},{provide:ka,useClass:ka,deps:[ae]},{provide:Sl,useClass:Sl,deps:[R1,o.R0b]},{provide:$o,useClass:wl,deps:[]},[]];let Z1=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Bn,useExisting:o.AFp},Ml]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wo,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...So,...X3],imports:[xs,o.hGG]}),n})(),Ws=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Ha(){return new Ws((0,o.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let V2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(_0),i},providedIn:"root"}),n})(),_0=(()=>{class n extends V2{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function g0(n){return new _0(n.get(ae))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var on=R(8996),Ur=R(3269);function nt(...n){const t=(0,Ur.yG)(n);return(0,on.D)(n,t)}var Et=R(7579);class Vn extends Et.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const L2=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var gn=R(9751);const{isArray:xo}=Array,{getPrototypeOf:J1,prototype:v0,keys:Al}=Object;function H2(n){if(1===n.length){const t=n[0];if(xo(t))return{args:t,keys:null};if(function sa(n){return n&&"object"==typeof n&&J1(n)===v0}(t)){const e=Al(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ys=R(4671),Je=R(4004);const{isArray:z2}=Array;function oa(n){return(0,Je.U)(t=>function Eo(n,t){return z2(t)?n(...t):n(t)}(n,t))}function Fa(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var En=R(5403),Tl=R(9672);function Ba(...n){const t=(0,Ur.yG)(n),e=(0,Ur.jO)(n),{args:i,keys:r}=H2(n);if(0===i.length)return(0,on.D)([],t);const s=new gn.y(function y0(n,t,e=Ys.y){return i=>{Il(t,()=>{const{length:r}=n,s=new Array(r);let l=r,d=r;for(let f=0;f<r;f++)Il(t,()=>{const v=(0,on.D)(n[f],t);let b=!1;v.subscribe((0,En.x)(i,S=>{s[f]=S,b||(b=!0,d--),d||i.next(e(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,t,r?l=>Fa(r,l):Ys.y));return e?s.pipe(oa(e)):s}function Il(n,t,e){n?(0,Tl.f)(e,n,t):t()}var ec=R(8189);function Ks(...n){return function N2(){return(0,ec.J)(1)}()((0,on.D)(n,(0,Ur.yG)(n)))}var jr=R(8421);function ds(n){return new gn.y(t=>{(0,jr.Xf)(n()).subscribe(t)})}var kl=R(9635),mr=R(576);function kr(n,t){const e=(0,mr.m)(n)?n:()=>n,i=r=>r.error(e());return new gn.y(t?r=>t.schedule(i,0,r):i)}var Ts=R(515),$n=R(727),Nn=R(4482);function Ao(){return(0,Nn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,En.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Qs extends gn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Nn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new $n.w0;const e=this.getSubject();t.add(this.source.subscribe((0,En.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=$n.w0.EMPTY)}return t}refCount(){return Ao()(this)}}function Mn(n,t){return(0,Nn.e)((e,i)=>{let r=null,s=0,l=!1;const d=()=>l&&!r&&i.complete();e.subscribe((0,En.x)(i,f=>{r?.unsubscribe();let v=0;const b=s++;(0,jr.Xf)(n(f,b)).subscribe(r=(0,En.x)(i,S=>i.next(t?t(f,S,b,v++):S),()=>{r=null,d()}))},()=>{l=!0,d()}))})}function nn(n){return n<=0?()=>Ts.E:(0,Nn.e)((t,e)=>{let i=0;t.subscribe((0,En.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Vr(...n){const t=(0,Ur.yG)(n);return(0,Nn.e)((e,i)=>{(t?Ks(n,e,t):Ks(n,e)).subscribe(i)})}function x(n,t){return(0,Nn.e)((e,i)=>{let r=0;e.subscribe((0,En.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var E=R(5577);function V(n){return(0,Nn.e)((t,e)=>{let i=!1;t.subscribe((0,En.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function B(n=te){return(0,Nn.e)((t,e)=>{let i=!1;t.subscribe((0,En.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function te(){return new L2}function oe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?x((r,s)=>n(r,s,i)):Ys.y,nn(1),e?V(t):B(()=>new L2))}function Ae(n,t){return(0,mr.m)(t)?(0,E.z)(n,t,1):(0,E.z)(n,1)}var Le=R(8505);function ot(n){return(0,Nn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,En.x)(e,void 0,void 0,l=>{s=(0,jr.Xf)(n(l,ot(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function ft(n,t,e,i,r){return(s,l)=>{let d=e,f=t,v=0;s.subscribe((0,En.x)(l,b=>{const S=v++;f=d?n(f,b,S):(d=!0,b),i&&l.next(f)},r&&(()=>{d&&l.next(f),l.complete()})))}}function Ft(n,t){return(0,Nn.e)(ft(n,t,arguments.length>=2,!0))}function Vt(n){return n<=0?()=>Ts.E:(0,Nn.e)((t,e)=>{let i=[];t.subscribe((0,En.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function pi(n,t){const e=arguments.length>=2;return i=>i.pipe(n?x((r,s)=>n(r,s,i)):Ys.y,Vt(1),e?V(t):B(()=>new L2))}function aa(n){return(0,Je.U)(()=>n)}function Ua(n){return(0,Nn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Bt="primary",ai=Symbol("RouteTitle");class Lr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xs(n){return new Lr(n)}function _g(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],d=n[s];if(l.startsWith(":"))r[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function To(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Ku(n[r],t[r]))return!1;return!0}function Ku(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function b0(n){return Array.prototype.concat.apply([],n)}function M0(n){return n.length>0?n[n.length-1]:null}function Ti(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Is(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,on.D)(Promise.resolve(n)):nt(n)}const vg={exact:function S0(n,t,e){if(!la(n.segments,t.segments)||!ca(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!S0(n.children[i],t.children[i],e))return!1;return!0},subset:P2},Xu={exact:function Ju(n,t){return To(n,t)},subset:function D0(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ku(n[e],t[e]))},ignored:()=>!0};function G8(n,t,e){return vg[e.paths](n.root,t.root,e.matrixParams)&&Xu[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function P2(n,t,e){return e4(n,t,t.segments,e)}function e4(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!la(r,e)||t.hasChildren()||!ca(r,e,i))}if(n.segments.length===e.length){if(!la(n.segments,e)||!ca(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!P2(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(la(n.segments,r)&&ca(n.segments,r,i)&&n.children[Bt])&&e4(n.children[Bt],t,s,i)}}function ca(n,t,e){return t.every((i,r)=>Xu[e](n[r].parameters,i.parameters))}class O2{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xs(this.queryParams)),this._queryParamMap}toString(){return ua.serialize(this)}}class en{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ti(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return r4(this)}}class t4{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Xs(this.parameters)),this._parameterMap}toString(){return n6(this)}}function la(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let e6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new n4},providedIn:"root"}),n})();class n4{parse(t){const e=new F2(t);return new O2(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${R2(t.root,!0)}`,i=function W8(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ll(e)}=${Ll(r)}`).join("&"):`${Ll(e)}=${Ll(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function q8(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ua=new n4;function r4(n){return n.segments.map(t=>n6(t)).join("/")}function R2(n,t){if(!n.hasChildren())return r4(n);if(t){const e=n.children[Bt]?R2(n.children[Bt],!1):"",i=[];return Ti(n.children,(r,s)=>{s!==Bt&&i.push(`${s}:${R2(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function x0(n,t){let e=[];return Ti(n.children,(i,r)=>{r===Bt&&(e=e.concat(t(i,r)))}),Ti(n.children,(i,r)=>{r!==Bt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Bt?[R2(n.children[Bt],!1)]:[`${r}:${R2(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${r4(n)}/${e[0]}`:`${r4(n)}/(${e.join("//")})`}}function E0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ll(n){return E0(n).replace(/%3B/gi,";")}function hs(n){return E0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function da(n){return decodeURIComponent(n)}function t6(n){return da(n.replace(/\+/g,"%20"))}function n6(n){return`${hs(n.path)}${function $8(n){return Object.keys(n).map(t=>`;${hs(t)}=${hs(n[t])}`).join("")}(n.parameters)}`}const Z8=/^[^\/()?;=#]+/;function s4(n){const t=n.match(Z8);return t?t[0]:""}const A0=/^[^=?&#]+/,Y8=/^[^&#]+/;class F2{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Bt]=new en(t,e)),i}parseSegment(){const t=s4(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(t),new t4(da(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=s4(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=s4(this.remaining);r&&(i=r,this.capture(i))}t[da(e)]=da(i)}parseQueryParam(t){const e=function T0(n){const t=n.match(A0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function yg(n){const t=n.match(Y8);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=t6(e),s=t6(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=s4(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Bt);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[Bt]:new en([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,!1)}}function tc(n){return n.segments.length>0?new en([],{[Bt]:n}):n}function ks(n){const t={};for(const i of Object.keys(n.children)){const s=ks(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function B2(n){if(1===n.numberOfChildren&&n.children[Bt]){const t=n.children[Bt];return new en(n.segments.concat(t.segments),t.children)}return n}(new en(n.segments,t))}function ja(n){return n instanceof O2}function bg(n,t,e,i,r){if(0===e.length)return Hl(t.root,t.root,t.root,i,r);const s=function k0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new i6(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Ti(s.outlets,(f,v)=>{d[v]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new i6(e,t,i)}(e);return s.toRoot()?Hl(t.root,t.root,new en([],{}),i,r):function l(f){const v=function r6(n,t,e,i){if(n.isAbsolute)return new ic(t.root,!0,0);if(-1===i)return new ic(e,e===t.root,0);return function s6(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new ic(i,!1,r-s)}(e,i+(U2(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,f),b=v.processChildren?fa(v.segmentGroup,v.index,s.commands):rc(v.segmentGroup,v.index,s.commands);return Hl(t.root,v.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function U2(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ha(n){return"object"==typeof n&&null!=n&&n.outlets}function Hl(n,t,e,i,r){let l,s={};i&&Ti(i,(f,v)=>{s[v]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),l=n===t?e:Q8(n,t,e);const d=tc(ks(l));return new O2(d,s,r)}function Q8(n,t,e){const i={};return Ti(n.children,(r,s)=>{i[s]=r===t?e:Q8(r,t,e)}),new en(n.segments,i)}class i6{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&U2(i[0]))throw new o.vHH(4003,!1);const r=i.find(ha);if(r&&r!==M0(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ic{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function rc(n,t,e){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return fa(n,t,e);const i=function X8(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const l=n.segments[r],d=e[i];if(ha(d))break;const f=`${d}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&v&&"object"==typeof v&&void 0===v.outlets){if(!a4(f,v,l))return s;i+=2}else{if(!a4(f,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new en(n.segments.slice(0,i.pathIndex),{});return s.children[Bt]=new en(n.segments.slice(i.pathIndex),n.children),fa(s,0,r)}return i.match&&0===r.length?new en(n.segments,{}):i.match&&!n.hasChildren()?Jn(n,t,e):i.match?fa(n,0,r):Jn(n,t,e)}function fa(n,t,e){if(0===e.length)return new en(n.segments,{});{const i=function o4(n){return ha(n[0])?n[0].outlets:{[Bt]:n}}(e),r={};return Ti(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=rc(n.children[l],t,s))}),Ti(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new en(n.segments,r)}}function Jn(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(ha(s)){const f=zl(s.outlets);return new en(i,f)}if(0===r&&U2(e[0])){i.push(new t4(n.segments[t].path,L0(e[0]))),r++;continue}const l=ha(s)?s.outlets[Bt]:`${s}`,d=r<e.length-1?e[r+1]:null;l&&d&&U2(d)?(i.push(new t4(l,L0(d))),r+=2):(i.push(new t4(l,{})),r++)}return new en(i,{})}function zl(n){const t={};return Ti(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Jn(new en([],{}),0,e))}),t}function L0(n){const t={};return Ti(n,(e,i)=>t[i]=`${e}`),t}function a4(n,t,e){return n==e.path&&To(t,e.parameters)}class Io{constructor(t,e){this.id=t,this.url=e}}class c4 extends Io{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class j2 extends Io{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class l4 extends Io{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class H0 extends Io{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J8 extends Io{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u4 extends Io{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mg extends Io{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sc extends Io{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o6 extends Io{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z0{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class N0{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class P0{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O0{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d4{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h4{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nl{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class f4{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pl(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Pl(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=gr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return gr(t,this._root).map(e=>e.value)}}function Pl(n,t){if(n===t.value)return t;for(const e of t.children){const i=Pl(n,e);if(i)return i}return null}function gr(n,t){if(n===t.value)return[t];for(const e of t.children){const i=gr(n,e);if(i.length)return i.unshift(t),i}return[]}class Gr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function fs(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class R0 extends f4{constructor(t,e){super(t),this.snapshot=e,Rl(this,t)}toString(){return this.snapshot.toString()}}function oc(n,t){const e=function ac(n,t){const l=new sr([],{},{},"",{},Bt,t,null,n.root,-1,{});return new m4("",new Gr(l,[]))}(n,t),i=new Vn([new t4("",{})]),r=new Vn({}),s=new Vn({}),l=new Vn({}),d=new Vn(""),f=new qr(i,r,l,d,s,Bt,t,e.root);return f.snapshot=e.root,new R0(new Gr(f,[]),e)}class qr{constructor(t,e,i,r,s,l,d,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this.title=this.data?.pipe((0,Je.U)(v=>v[ai]))??nt(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(t=>Xs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(t=>Xs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ol(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function p4(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class sr{constructor(t,e,i,r,s,l,d,f,v,b,S,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this.title=this.data?.[ai],this.routeConfig=f,this._urlSegment=v,this._lastPathIndex=b,this._correctedLastPathIndex=I??b,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m4 extends f4{constructor(t,e){super(e),this.url=t,Rl(this,e)}toString(){return F0(this._root)}}function Rl(n,t){t.value._routerState=n,t.children.forEach(e=>Rl(n,e))}function F0(n){const t=n.children.length>0?` { ${n.children.map(F0).join(", ")} } `:"";return`${n.value}${t}`}function a6(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,To(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),To(t.params,e.params)||n.params.next(e.params),function C0(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!To(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),To(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fl(n,t){const e=To(n.params,t.params)&&function Vl(n,t){return la(n,t)&&n.every((e,i)=>To(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Fl(n.parent,t.parent))}function G2(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function c6(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return G2(n,i,r);return G2(n,i)})}(n,t,e);return new Gr(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(d=>G2(n,d)),l}}const i=function e5(n){return new qr(new Vn(n.url),new Vn(n.params),new Vn(n.queryParams),new Vn(n.fragment),new Vn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>G2(n,s));return new Gr(i,r)}}const Js="ngNavigationCancelingError";function Ga(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ja(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=l6(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function l6(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Js]=!0,i.cancellationCode=t,e&&(i.url=e),i}function g4(n){return B0(n)&&ja(n.url)}function B0(n){return n&&n[Js]}class _4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new v4,this.attachRef=null}}let v4=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new _4,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y4=!1;let q2=(()=>{class n{constructor(e,i,r,s,l){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=r||Bt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,y4);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,y4);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,y4);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,y4);this._activatedRoute=e;const r=this.location,l=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new t5(e,d,r.injector);if(i&&function y(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(l);this.activated=r.createComponent(v,r.length,f)}else this.activated=r.createComponent(l,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(v4),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class t5{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===qr?this.route:t===v4?this.childContexts:this.parent.get(t,e)}}let m=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[q2],encapsulation:2}),n})();function _(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function St(n){const t=n.children&&n.children.map(St),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Bt&&(e.component=m),e}function An(n){return n.outlet||Bt}function $r(n,t){const e=n.filter(i=>An(i)===t);return e.push(...n.filter(i=>An(i)!==t)),e}function $2(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Bl{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),a6(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=fs(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Ti(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=fs(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=fs(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=fs(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new h4(s.value.snapshot))}),t.children.length&&this.forwardEvent(new O0(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(a6(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),a6(d.route.value),this.activateChildRoutes(t,null,l.children)}else{const d=$2(r.snapshot),f=d?.get(o._Vd)??null;l.attachRef=null,l.route=r,l.resolver=f,l.injector=d,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}class U0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class C4{constructor(t,e){this.component=t,this.route=e}}function j0(n,t,e){const i=n._root;return W2(i,t?t._root:null,e,[i.value])}function cc(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function W2(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=fs(t);return n.children.forEach(l=>{(function u6(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const f=function d6(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!la(n.url,t.url);case"pathParamsOrQueryParamsChange":return!la(n.url,t.url)||!To(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fl(n,t)||!To(n.queryParams,t.queryParams);default:return!Fl(n,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new U0(i)):(s.data=l.data,s._resolvedData=l._resolvedData),W2(n,t,s.component?d?d.children:null:e,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new C4(d.outlet.component,l))}else l&&qa(t,d,r),r.canActivateChecks.push(new U0(i)),W2(n,null,s.component?d?d.children:null:e,i,r)})(l,s[l.value.outlet],e,i.concat([l.value]),r),delete s[l.value.outlet]}),Ti(s,(l,d)=>qa(l,e.getContext(d),r)),r}function qa(n,t,e){const i=fs(n),r=n.value;Ti(i,(s,l)=>{qa(s,r.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new C4(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function lc(n){return"function"==typeof n}function G0(n){return n instanceof L2||"EmptyError"===n?.name}const q0=Symbol("INITIAL_VALUE");function b4(){return Mn(n=>Ba(n.map(t=>t.pipe(nn(1),Vr(q0)))).pipe((0,Je.U)(t=>{for(const e of t)if(!0!==e){if(e===q0)return q0;if(!1===e||e instanceof O2)return e}return!0}),x(t=>t!==q0),nn(1)))}function Wr(n){return(0,kl.z)((0,Le.b)(t=>{if(ja(t))throw Ga(0,t)}),(0,Je.U)(t=>!0===t))}const $0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W0(n,t,e,i,r){const s=_r(n,t,e);return s.matched?function c5(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?nt(r.map(l=>{const d=cc(l,n);return Is(function kb(n){return n&&lc(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(b4(),Wr()):nt(!0)}(i=_(t,i),t,e).pipe((0,Je.U)(l=>!0===l?s:{...$0})):nt(s)}function _r(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...$0}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||_g)(e,n,t);if(!r)return{...$0};const s={};Ti(r.posParams,(d,f)=>{s[f]=d.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function uc(n,t,e,i,r="corrected"){if(e.length>0&&function Bb(n,t,e){return e.some(i=>Z0(n,t,i)&&An(i)!==Bt)}(n,e,i)){const l=new en(t,function Fb(n,t,e,i){const r={};r[Bt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&An(s)!==Bt){const l=new en([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,r[An(s)]=l}return r}(n,t,i,new en(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function Eg(n,t,e){return e.some(i=>Z0(n,t,i))}(n,e,i)){const l=new en(n.segments,function xg(n,t,e,i,r,s){const l={};for(const d of i)if(Z0(n,e,d)&&!r[An(d)]){const f=new en([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:t.length,l[An(d)]=f}return{...r,...l}}(n,t,e,i,n.children,r));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const s=new en(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function Z0(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function l5(n,t,e,i){return!!(An(n)===i||i!==Bt&&Z0(t,e,n))&&("**"===n.path||_r(t,n,e).matched)}function Ag(n,t,e){return 0===t.length&&!n.children[e]}const f6=!1;class Y0{constructor(t){this.segmentGroup=t||null}}class Tg{constructor(t){this.urlTree=t}}function M4(n){return kr(new Y0(n))}function u5(n){return kr(new Tg(n))}class jb{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=uc(this.urlTree.root,[],[],this.config).segmentGroup,e=new en(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Bt).pipe((0,Je.U)(s=>this.createUrlTree(ks(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ot(s=>{if(s instanceof Tg)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Y0?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Bt).pipe((0,Je.U)(r=>this.createUrlTree(ks(r),t.queryParams,t.fragment))).pipe(ot(r=>{throw r instanceof Y0?this.noMatchError(r):r}))}noMatchError(t){return new o.vHH(4002,f6)}createUrlTree(t,e,i){const r=tc(t);return new O2(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Je.U)(s=>new en([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,on.D)(r).pipe(Ae(s=>{const l=i.children[s],d=$r(e,s);return this.expandSegmentGroup(t,d,l,s).pipe((0,Je.U)(f=>({segment:f,outlet:s})))}),Ft((s,l)=>(s[l.outlet]=l.segment,s),{}),pi())}expandSegment(t,e,i,r,s,l){return(0,on.D)(i).pipe(Ae(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,l).pipe(ot(v=>{if(v instanceof Y0)return nt(null);throw v}))),oe(d=>!!d),ot((d,f)=>{if(G0(d))return Ag(e,r,s)?nt(new en([],{})):M4(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,l,d){return l5(r,e,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l):M4(e):M4(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?u5(s):this.lineralizeSegments(i,s).pipe((0,E.z)(l=>{const d=new en(l,{});return this.expandSegment(t,d,e,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){const{matched:d,consumedSegments:f,remainingSegments:v,positionalParamSegments:b}=_r(e,r,s);if(!d)return M4(e);const S=this.applyRedirectCommands(f,r.redirectTo,b);return r.redirectTo.startsWith("/")?u5(S):this.lineralizeSegments(r,S).pipe((0,E.z)(I=>this.expandSegment(t,e,i,I.concat(v),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=_(i,t),i.loadChildren?(i._loadedRoutes?nt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Je.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new en(r,{})))):nt(new en(r,{}))):W0(e,i,r,t).pipe(Mn(({matched:l,consumedSegments:d,remainingSegments:f})=>l?this.getChildConfig(t=i._injector??t,i,r).pipe((0,E.z)(b=>{const S=b.injector??t,I=b.routes,{segmentGroup:H,slicedSegments:N}=uc(e,d,f,I),j=new en(H.segments,H.children);if(0===N.length&&j.hasChildren())return this.expandChildren(S,I,j).pipe((0,Je.U)(Oe=>new en(d,Oe)));if(0===I.length&&0===N.length)return nt(new en(d,{}));const J=An(i)===s;return this.expandSegment(S,j,I,N,J?Bt:s,!0).pipe((0,Je.U)(Pe=>new en(d.concat(Pe.segments),Pe.children)))})):M4(e)))}getChildConfig(t,e,i){return e.children?nt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?nt({routes:e._loadedRoutes,injector:e._loadedInjector}):function Rb(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?nt(!0):nt(r.map(l=>{const d=cc(l,n);return Is(function s5(n){return n&&lc(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(b4(),Wr())}(t,e,i).pipe((0,E.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Le.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function w4(n){return kr(l6(f6,3))}())):nt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return nt(i);if(r.numberOfChildren>1||!r.children[Bt])return kr(new o.vHH(4e3,f6));r=r.children[Bt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new O2(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ti(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let l={};return Ti(e.children,(d,f)=>{l[f]=this.createSegmentGroup(t,d,i,r)}),new en(s,l)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,f6);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class zI{}class $a{constructor(t,e,i,r,s,l,d,f){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d,this.urlSerializer=f}recognize(){const t=uc(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Bt).pipe((0,Je.U)(e=>{if(null===e)return null;const i=new sr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gr(i,e),s=new m4(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=Ol(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,on.D)(Object.keys(i.children)).pipe(Ae(r=>{const s=i.children[r],l=$r(e,r);return this.processSegmentGroup(t,l,s,r)}),Ft((r,s)=>r&&s?(r.push(...s),r):null),function oi(n,t=!1){return(0,Nn.e)((e,i)=>{let r=0;e.subscribe((0,En.x)(i,s=>{const l=n(s,r++);(l||t)&&i.next(s),!l&&i.complete()}))})}(r=>null!==r),V(null),pi(),(0,Je.U)(r=>{if(null===r)return null;const s=p5(r);return function h5(n){n.sort((t,e)=>t.value.outlet===Bt?-1:e.value.outlet===Bt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,on.D)(e).pipe(Ae(l=>this.processSegmentAgainstRoute(l._injector??t,l,i,r,s)),oe(l=>!!l),ot(l=>{if(G0(l))return Ag(i,r,s)?nt([]):nt(null);throw l}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!l5(e,i,r,s))return nt(null);let l;if("**"===e.path){const d=r.length>0?M0(r).parameters:{},f=kg(i)+r.length;l=nt({snapshot:new sr(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K0(e),An(e),e.component??e._loadedComponent??null,e,S4(i),f,Q0(e),f),consumedSegments:[],remainingSegments:[]})}else l=W0(i,e,r,t).pipe((0,Je.U)(({matched:d,consumedSegments:f,remainingSegments:v,parameters:b})=>{if(!d)return null;const S=kg(i)+f.length;return{snapshot:new sr(f,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K0(e),An(e),e.component??e._loadedComponent??null,e,S4(i),S,Q0(e),S),consumedSegments:f,remainingSegments:v}}));return l.pipe(Mn(d=>{if(null===d)return nt(null);const{snapshot:f,consumedSegments:v,remainingSegments:b}=d;t=e._injector??t;const S=e._loadedInjector??t,I=function f5(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:H,slicedSegments:N}=uc(i,v,b,I.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===N.length&&H.hasChildren())return this.processChildren(S,I,H).pipe((0,Je.U)(J=>null===J?null:[new Gr(f,J)]));if(0===I.length&&0===N.length)return nt([new Gr(f,[])]);const j=An(e)===s;return this.processSegment(S,I,H,N,j?Bt:s).pipe((0,Je.U)(J=>null===J?null:[new Gr(f,J)]))}))}}function qb(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function p5(n){const t=[],e=new Set;for(const i of n){if(!qb(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=p5(i.children);t.push(new Gr(i.value,r))}return t.filter(i=>!e.has(i))}function S4(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function kg(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function K0(n){return n.data||{}}function Q0(n){return n.resolve||{}}function X0(n){return"string"==typeof n.title||null===n.title}function g5(n){return Mn(t=>{const e=n(t);return e?(0,on.D)(e).pipe((0,Je.U)(()=>t)):nt(t)})}let zg=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Bt);return i}getResolvedTitleForRoute(e){return e.data[ai]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Ng)},providedIn:"root"}),n})(),Ng=(()=>{class n extends zg{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ws))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Zb{}class Pg extends class Yb{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const p6=new o.OlP("",{providedIn:"root",factory:()=>({})}),v5=new o.OlP("ROUTES");let y5=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return nt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Is(e.loadComponent()).pipe((0,Le.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Ua(()=>{this.componentLoaders.delete(e)})),r=new Qs(i,()=>new Et.x).pipe(Ao());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return nt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Je.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,v,b=!1;Array.isArray(d)?v=d:(f=d.create(e).injector,v=b0(f.get(v5,[],o.XFs.Self|o.XFs.Optional)));return{routes:v.map(St),injector:f}}),Ua(()=>{this.childrenLoaders.delete(i)})),l=new Qs(s,()=>new Et.x).pipe(Ao());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(e){return Is(e()).pipe((0,E.z)(i=>i instanceof o.YKP||Array.isArray(i)?nt(i):(0,on.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Og{}class Rg{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Fg(n){throw n}function Bg(n,t,e){return t.parse("/")}const Kb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ug(){const n=(0,o.f3M)(e6),t=(0,o.f3M)(v4),e=(0,o.f3M)(He),i=(0,o.f3M)(o.zs3),r=(0,o.f3M)(o.Sil),s=(0,o.f3M)(v5,{optional:!0})??[],l=(0,o.f3M)(p6,{optional:!0})??{},d=(0,o.f3M)(Ng),f=(0,o.f3M)(zg,{optional:!0}),v=(0,o.f3M)(Og,{optional:!0}),b=(0,o.f3M)(Zb,{optional:!0}),S=new ei(null,n,t,e,i,r,b0(s));return v&&(S.urlHandlingStrategy=v),b&&(S.routeReuseStrategy=b),S.titleStrategy=f??d,function eh(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(l,S),S}let ei=(()=>{class n{constructor(e,i,r,s,l,d,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Et.x,this.errorHandler=Fg,this.malformedUriErrorHandler=Bg,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>nt(void 0),this.urlHandlingStrategy=new Rg,this.routeReuseStrategy=new Pg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(y5),this.configLoader.onLoadEndListener=I=>this.triggerEvent(new N0(I)),this.configLoader.onLoadStartListener=I=>this.triggerEvent(new z0(I)),this.ngModule=l.get(o.h0i),this.console=l.get(o.c2e);const S=l.get(o.R0b);this.isNgZoneEnabled=S instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function w0(){return new O2(new en([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oc(this.currentUrlTree,this.rootComponentType),this.transitions=new Vn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(x(r=>0!==r.id),(0,Je.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Mn(r=>{let s=!1,l=!1;return nt(r).pipe((0,Le.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mn(d=>{const f=this.browserUrlTree.toString(),v=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return C5(d.source)&&(this.browserUrlTree=d.extractedUrl),nt(d).pipe(Mn(S=>{const I=this.transitions.getValue();return i.next(new c4(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),I!==this.transitions.getValue()?Ts.E:Promise.resolve(S)}),function Gb(n,t,e,i){return Mn(r=>function Z2(n,t,e,i,r){return new jb(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Je.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Le.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function Lg(n,t,e,i,r,s){return(0,E.z)(l=>function NI(n,t,e,i,r,s,l="emptyOnly",d="legacy"){return new $a(n,t,e,i,r,l,d,s).recognize().pipe(Mn(f=>null===f?function Ig(n){return new gn.y(t=>t.error(n))}(new zI):nt(f)))}(n,t,e,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,r,s).pipe((0,Je.U)(d=>({...l,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Le.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(H,S)}this.browserUrlTree=S.urlAfterRedirects}const I=new J8(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(I)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:H,source:N,restoredState:j,extras:J}=d,De=new c4(I,this.serializeUrl(H),N,j);i.next(De);const Pe=oc(H,this.rootComponentType).snapshot;return nt(r={...d,targetSnapshot:Pe,urlAfterRedirects:H,extras:{...J,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Ts.E}),(0,Le.b)(d=>{const f=new u4(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,Je.U)(d=>r={...d,guards:j0(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Lb(n,t){return(0,E.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?nt({...e,guardsResult:!0}):function Hb(n,t,e,i){return(0,on.D)(n).pipe((0,E.z)(r=>function Ob(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?nt(s.map(d=>{const f=$2(t)??r,v=cc(d,f);return Is(function h6(n){return n&&lc(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):f.runInContext(()=>v(n,t,e,i))).pipe(oe())})).pipe(b4()):nt(!0)}(r.component,r.route,e,t,i)),oe(r=>!0!==r,!0))}(l,i,r,n).pipe((0,E.z)(d=>d&&function Sg(n){return"boolean"==typeof n}(d)?function a5(n,t,e,i){return(0,on.D)(t).pipe(Ae(r=>Ks(function Nb(n,t){return null!==n&&t&&t(new P0(n)),nt(!0)}(r.route.parent,i),function zb(n,t){return null!==n&&t&&t(new d4(n)),nt(!0)}(r.route,i),function Dg(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function r5(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>ds(()=>nt(l.guards.map(f=>{const v=$2(l.node)??e,b=cc(f,v);return Is(function o5(n){return n&&lc(n.canActivateChild)}(b)?b.canActivateChild(i,n):v.runInContext(()=>b(i,n))).pipe(oe())})).pipe(b4())));return nt(s).pipe(b4())}(n,r.path,e),function Pb(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return nt(!0);const r=i.map(s=>ds(()=>{const l=$2(t)??e,d=cc(s,l);return Is(function Ib(n){return n&&lc(n.canActivate)}(d)?d.canActivate(t,n):l.runInContext(()=>d(t,n))).pipe(oe())}));return nt(r).pipe(b4())}(n,r.route,e))),oe(r=>!0!==r,!0))}(i,s,n,t):nt(d)),(0,Je.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Le.b)(d=>{if(r.guardsResult=d.guardsResult,ja(d.guardsResult))throw Ga(0,d.guardsResult);const f=new Mg(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),x(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),g5(d=>{if(d.guards.canActivateChecks.length)return nt(d).pipe((0,Le.b)(f=>{const v=new sc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(v)}),Mn(f=>{let v=!1;return nt(f).pipe(function PI(n,t){return(0,E.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return nt(e);let s=0;return(0,on.D)(r).pipe(Ae(l=>function D4(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!X0(r)&&(s[ai]=r.title),function m5(n,t,e,i){const r=function Hg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return nt({});const s={};return(0,on.D)(r).pipe((0,E.z)(l=>function Wb(n,t,e,i){const r=$2(t)??i,s=cc(n,r);return Is(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[l],t,e,i).pipe(oe(),(0,Le.b)(d=>{s[l]=d}))),Vt(1),aa(s),ot(l=>G0(l)?Ts.E:kr(l)))}(s,n,t,i).pipe((0,Je.U)(l=>(n._resolvedData=l,n.data=Ol(n,e).resolve,r&&X0(r)&&(n.data[ai]=r.title),null)))}(l.route,i,n,t)),(0,Le.b)(()=>s++),Vt(1),(0,E.z)(l=>s===r.length?nt(e):Ts.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Le.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Le.b)(f=>{const v=new o6(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(v)}))}),g5(d=>{const f=v=>{const b=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Le.b)(S=>{v.component=S}),(0,Je.U)(()=>{})));for(const S of v.children)b.push(...f(S));return b};return Ba(f(d.targetSnapshot.root)).pipe(V(),nn(1))}),g5(()=>this.afterPreactivation()),(0,Je.U)(d=>{const f=function Ri(n,t,e){const i=G2(n,t._root,e?e._root:void 0);return new R0(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:f}}),(0,Le.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,Je.U)(i=>(new Bl(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Le.b)({next(){s=!0},complete(){s=!0}}),Ua(()=>{s||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ot(d=>{if(l=!0,B0(d)){g4(d)||(this.navigated=!0,this.restoreHistory(r,!0));const f=new l4(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(f),g4(d)){const v=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||C5(r.source)};this.scheduleNavigation(v,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new H0(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(f);try{r.resolve(this.errorHandler(d))}catch(v){r.reject(v)}}return Ts.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const l=this.parseUrl(e.url);this.scheduleNavigation(l,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(St),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:d,preserveFragment:f}=i,v=r||this.routerState.root,b=f?this.currentUrlTree.fragment:l;let S=null;switch(d){case"merge":S={...this.currentUrlTree.queryParams,...s};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}return null!==S&&(S=this.removeEmptyProps(S)),bg(v,this.currentUrlTree,e,S,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ja(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function jg(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new o.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Kb}:!1===i?{...RI}:i,ja(e))return G8(this.currentUrlTree,e,r);const s=this.parseUrl(e);return G8(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new j2(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let d,f,v;l?(d=l.resolve,f=l.reject,v=l.promise):v=new Promise((I,H)=>{d=I,f=H});const b=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),S=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:b,targetPageId:S,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:d,reject:f,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(I=>Promise.reject(I))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new l4(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return Ug()},providedIn:"root"}),n})();function C5(n){return"imperative"!==n}let Za=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Et.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ei),o.Y36(qr),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class b5{}let M5=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(x(e=>e instanceof j2),Ae(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const l=s._injector??e,d=s._loadedInjector??l;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(l,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,on.D)(r).pipe((0,ec.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):nt(null);const s=r.pipe((0,E.z)(l=>null===l?nt(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,on.D)([s,l]).pipe((0,ec.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ei),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(b5),o.LFG(y5))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ul=new o.OlP("");let qg=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof c4?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof j2&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Nl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Nl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function jl(n,t){return{\u0275kind:n,\u0275providers:t}}function g6(n){return[{provide:v5,multi:!0,useValue:n}]}function Jb(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(ei),r=n.get(w5);1===n.get(S5)&&i.initialNavigation(),n.get(ko,null,o.XFs.Optional)?.setUpPreloading(),n.get(Ul,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const w5=new o.OlP("",{factory:()=>new Et.x}),S5=new o.OlP("",{providedIn:"root",factory:()=>1});const ko=new o.OlP("");function nM(n){return jl(0,[{provide:ko,useExisting:M5},{provide:b5,useExisting:n}])}const Zg=new o.OlP("ROUTER_FORROOT_GUARD"),rM=[He,{provide:e6,useClass:n4},{provide:ei,useFactory:Ug},v4,{provide:qr,useFactory:function $g(n){return n.routerState.root},deps:[ei]},y5];function Yg(){return new o.PXZ("Router",ei)}let sh=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[rM,[],g6(e),{provide:Zg,useFactory:Kg,deps:[[ei,new o.FiY,new o.tp0]]},{provide:p6,useValue:i||{}},i?.useHash?{provide:Ce,useClass:gt}:{provide:Ce,useClass:ct},{provide:Ul,useFactory:()=>{const n=(0,o.f3M)(ei),t=(0,o.f3M)(S1),e=(0,o.f3M)(p6);return e.scrollOffset&&t.setOffset(e.scrollOffset),new qg(n,t,e)}},i?.preloadingStrategy?nM(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:Yg},i?.initialNavigation?Qg(i):[],[{provide:D5,useFactory:Jb},{provide:o.tb,multi:!0,useExisting:D5}]]}}static forChild(e){return{ngModule:n,providers:[g6(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Zg,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[m]}),n})();function Kg(n){return"guarded"}function Qg(n){return["disabled"===n.initialNavigation?jl(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(ei);return()=>{t.setUpLocationChangeListener()}}},{provide:S5,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?jl(2,[{provide:S5,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(q,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const l=t.get(ei),d=t.get(w5);(function r(s){t.get(ei).events.pipe(x(d=>d instanceof j2||d instanceof l4||d instanceof H0),(0,Je.U)(d=>d instanceof j2||d instanceof l4&&(0===d.code||1===d.code)&&null),x(d=>null!==d),nn(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),l.afterPreactivation=()=>(s(!0),i||d.closed?nt(void 0):d),l.initialNavigation()}))}}]).\u0275providers:[]]}const D5=new o.OlP(""),Xg=[];let cM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[sh.forRoot(Xg),sh]}),n})(),oh=(()=>{class n{constructor(){this.cardFilter=new Et.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jg{}class e9{}class dc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof dc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new dc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof dc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(d=>-1===s.indexOf(d)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class t9{encodeKey(t){return ah(t)}encodeValue(t){return ah(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const uM=/%(\d[a-f0-9])/gi,x5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ah(n){return encodeURIComponent(n).replace(uM,(t,e)=>x5[e]??t)}function ch(n){return`${n}`}class hc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new t9,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Gl(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],f=e.get(l)||[];f.push(d),e.set(l,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(ch):[ch(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new hc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ch(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(ch(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class jI{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function E5(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function hM(n){return typeof Blob<"u"&&n instanceof Blob}function n9(n){return typeof FormData<"u"&&n instanceof FormData}class _6{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function dM(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new dc),this.context||(this.context=new jI),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+l}}else this.params=new hc,this.urlWithParams=e}serializeBody(){return null===this.body?null:E5(this.body)||hM(this.body)||n9(this.body)||function x4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||n9(this.body)?null:hM(this.body)?this.body.type||null:E5(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,v=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((S,I)=>S.set(I,t.setHeaders[I]),f)),t.setParams&&(v=Object.keys(t.setParams).reduce((S,I)=>S.set(I,t.setParams[I]),v)),new _6(e,i,s,{params:v,headers:f,context:b,reportProgress:d,responseType:r,withCredentials:l})}}var Fi=(()=>((Fi=Fi||{})[Fi.Sent=0]="Sent",Fi[Fi.UploadProgress=1]="UploadProgress",Fi[Fi.ResponseHeader=2]="ResponseHeader",Fi[Fi.DownloadProgress=3]="DownloadProgress",Fi[Fi.Response=4]="Response",Fi[Fi.User=5]="User",Fi))();class E4{constructor(t,e=200,i="OK"){this.headers=t.headers||new dc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class A5 extends E4{constructor(t={}){super(t),this.type=Fi.ResponseHeader}clone(t={}){return new A5({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class v6 extends E4{constructor(t={}){super(t),this.type=Fi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new v6({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class i9 extends E4{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function T5(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let I5=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof _6)s=e;else{let f,v;f=r.headers instanceof dc?r.headers:new dc(r.headers),r.params&&(v=r.params instanceof hc?r.params:new hc({fromObject:r.params})),s=new _6(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=nt(s).pipe(Ae(f=>this.handler.handle(f)));if(e instanceof _6||"events"===r.observe)return l;const d=l.pipe(x(f=>f instanceof v6));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Je.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,Je.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,Je.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,Je.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new hc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,T5(r,i))}post(e,i,r={}){return this.request("POST",e,T5(r,i))}put(e,i,r={}){return this.request("PUT",e,T5(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Jg))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class r9{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const s9=new o.OlP("HTTP_INTERCEPTORS");let o9=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const l9=/^\)\]\}',?\n/;let C6=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new gn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((H,N)=>r.setRequestHeader(H,N.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const H=e.detectContentTypeHeader();null!==H&&r.setRequestHeader("Content-Type",H)}if(e.responseType){const H=e.responseType.toLowerCase();r.responseType="json"!==H?H:"text"}const s=e.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const H=r.statusText||"OK",N=new dc(r.getAllResponseHeaders()),j=function u9(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return l=new A5({headers:N,status:r.status,statusText:H,url:j}),l},f=()=>{let{headers:H,status:N,statusText:j,url:J}=d(),De=null;204!==N&&(De=typeof r.response>"u"?r.responseText:r.response),0===N&&(N=De?200:0);let Pe=N>=200&&N<300;if("json"===e.responseType&&"string"==typeof De){const Oe=De;De=De.replace(l9,"");try{De=""!==De?JSON.parse(De):null}catch(je){De=Oe,Pe&&(Pe=!1,De={error:je,text:De})}}Pe?(i.next(new v6({body:De,headers:H,status:N,statusText:j,url:J||void 0})),i.complete()):i.error(new i9({error:De,headers:H,status:N,statusText:j,url:J||void 0}))},v=H=>{const{url:N}=d(),j=new i9({error:H,status:r.status||0,statusText:r.statusText||"Unknown Error",url:N||void 0});i.error(j)};let b=!1;const S=H=>{b||(i.next(d()),b=!0);let N={type:Fi.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(N.total=H.total),"text"===e.responseType&&!!r.responseText&&(N.partialText=r.responseText),i.next(N)},I=H=>{let N={type:Fi.UploadProgress,loaded:H.loaded};H.lengthComputable&&(N.total=H.total),i.next(N)};return r.addEventListener("load",f),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),e.reportProgress&&(r.addEventListener("progress",S),null!==s&&r.upload&&r.upload.addEventListener("progress",I)),r.send(s),i.next({type:Fi.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",f),r.removeEventListener("timeout",v),e.reportProgress&&(r.removeEventListener("progress",S),null!==s&&r.upload&&r.upload.removeEventListener("progress",I)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($o))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const eo=new o.OlP("XSRF_COOKIE_NAME"),lh=new o.OlP("XSRF_HEADER_NAME");class d9{}let k5=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=h2(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae),o.LFG(o.Lbi),o.LFG(eo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),pa=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(d9),o.LFG(lh))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),V5=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(s9,[]);this.chain=i.reduceRight((r,s)=>new r9(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(e9),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),$I=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:pa,useClass:o9}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:eo,useValue:e.cookieName}:[],e.headerName?{provide:lh,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[pa,{provide:s9,useExisting:pa,multi:!0},{provide:d9,useClass:k5},{provide:eo,useValue:"XSRF-TOKEN"},{provide:lh,useValue:"X-XSRF-TOKEN"}]}),n})(),f9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[I5,{provide:Jg,useClass:V5},C6,{provide:e9,useExisting:C6}],imports:[$I.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),fc=(()=>{class n{constructor(e){this.http=e,this.api="http://airbnb-dev.us-east-1.elasticbeanstalk.com/api/Hotel"}getAllHotels(){return this.http.get("http://airbnb-dev.us-east-1.elasticbeanstalk.com/api/Hotel")}getAllFilterIcons(){return this.http.get("http://airbnb-dev.us-east-1.elasticbeanstalk.com/api/Category")}getOne(e){return this.http.get("http://airbnb-dev.us-east-1.elasticbeanstalk.com/api/Hotel/"+e)}getFilterByCategory(e,i,r,s,l,d,f,v,b){let j="",J="";return e&&(J+="ID="+e),i&&""!=i.minPrice&&(J+="PriceFrom="+i.minPrice+"&"),i&&""!=i.maxPrice&&(J+="PriceTo="+i.maxPrice+"&"),null!=r&&r.length>=0&&(J+="TypeOfPlace="+r+"&"),s&&(J+="RoomsCount="+s+"&"),l&&(J+="BedsPerRoomCount="+l+"&"),d&&(J+="BathRoomsCount="+d+"&"),f&&(J+="PropertyType="+f+"&"),v&&v.forEach(Pe=>{J+="Amenities="+Pe+"&"}),b&&b.forEach(Pe=>{J+="HostLanguages="+Pe+"&"}),j=new hc({fromString:J}),this.http.get(`http://airbnb-dev.us-east-1.elasticbeanstalk.com/api/Hotel/filter-by-category?${j}`)}getAllAmenities(){return this.http.get("http://airbnb-dev.us-east-1.elasticbeanstalk.com/api/Category/get-all-menities")}getByCategory(e){return e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(I5))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H5=(()=>{class n{constructor(e,i,r){this.mainService=e,this.http=i,this.router=r}ngOnInit(){}getAllData(){this.http.getAllHotels().subscribe(e=>{this.mainService.cardFilter.next(e),this.router.navigate(["/"])})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(oh),o.Y36(fc),o.Y36(ei))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-logo"]],decls:2,vars:0,consts:[[3,"click"],["src","assets/images/logo.png","alt","logo"]],template:function(e,i){1&e&&(o.TgZ(0,"a",0),o.NdJ("click",function(){return i.getAllData()}),o._UZ(1,"img",1),o.qZA())},styles:["img[_ngcontent-%COMP%]{width:102px;cursor:pointer}"]}),n})(),z5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-search"]],decls:10,vars:0,consts:[["role","group","aria-label","Large button group",1,"btn-group","btn-group-md"],["type","button",1,"btn"],["src","https://marketplace.getpublii.com/wp-content/uploads/2022/06/google-custom-search.svg ","alt","search","height","32px"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"button",1)(2,"div"),o._uU(3,"Anywhere"),o.qZA()(),o.TgZ(4,"button",1),o._uU(5," Any week"),o.qZA(),o.TgZ(6,"button",1)(7,"div"),o._uU(8,"Add guests "),o._UZ(9,"img",2),o.qZA()()())},styles:['.btn-group[_ngcontent-%COMP%]{border:1px solid #D0D0D7;border-radius:40px;height:50px;transition:.3s ease-in-out}.btn-group[_ngcontent-%COMP%]:hover{box-shadow:0 9px 6px -6px #d0d0d7}.btn[_ngcontent-%COMP%]{font-size:14px}.btn[_ngcontent-%COMP%]:focus{outline:none;border-radius:none}.btn[_ngcontent-%COMP%]:first-of-type{width:110px}.btn[_ngcontent-%COMP%]:nth-of-type(2){width:98px}.btn[_ngcontent-%COMP%]:last-of-type{color:#717171;width:146px}.btn[_ngcontent-%COMP%]:last-of-type > div[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 0 0 5px}.btn[_ngcontent-%COMP%]:nth-of-type(2):after{content:"";display:block;width:1px;height:20px;background-color:#d0d0d7;position:absolute;right:-1.5px;top:12.5px}.btn[_ngcontent-%COMP%]:nth-of-type(2):before{content:"";display:block;width:1px;height:20px;background-color:#d0d0d7;position:absolute;left:-2.5px}img[_ngcontent-%COMP%]{position:absolute;left:105px}']}),n})(),uh=(()=>{class n{constructor(){this.userService=new Et.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var WI=R(1144);const gM=["addListener","removeListener"],_M=["addEventListener","removeEventListener"],vM=["on","off"];function b6(n,t,e,i){if((0,mr.m)(e)&&(i=e,e=void 0),i)return b6(n,t,e).pipe(oa(i));const[r,s]=function YI(n){return(0,mr.m)(n.addEventListener)&&(0,mr.m)(n.removeEventListener)}(n)?_M.map(l=>d=>n[l](t,d,e)):function ZI(n){return(0,mr.m)(n.addListener)&&(0,mr.m)(n.removeListener)}(n)?gM.map(N5(n,t)):function yM(n){return(0,mr.m)(n.on)&&(0,mr.m)(n.off)}(n)?vM.map(N5(n,t)):[];if(!r&&(0,WI.z)(n))return(0,E.z)(l=>b6(l,t,e))((0,jr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new gn.y(l=>{const d=(...f)=>l.next(1<f.length?f:f[0]);return r(d),()=>s(d)})}function N5(n,t){return e=>i=>n[e](t,i)}let p9=(()=>{class n{constructor(e,i){this.element=e,this.document=i,this.clickOutside=new o.vpe}ngAfterViewInit(){this.documentClicksubscription=b6(this.document,"click").pipe(x(e=>!this.isInside(e.target))).subscribe(()=>{this.clickOutside.emit()})}ngOnDestroy(){this.documentClicksubscription?.unsubscribe()}isInside(e){return e===this.element.nativeElement||this.element.nativeElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ae))},n.\u0275dir=o.lG2({type:n,selectors:[["","clickOutside",""]],outputs:{clickOutside:"clickOutside"}}),n})();function m9(n,t){1&n&&(o.TgZ(0,"div",11)(1,"button",12),o._uU(2,"Sign up"),o.qZA(),o.TgZ(3,"button",13),o._uU(4,"Log in"),o.qZA()())}function CM(n,t){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,m9,5,0,"div",10),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.show)}}function P5(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",11)(1,"button",14),o._uU(2,"Account"),o.qZA(),o.TgZ(3,"button",15),o._uU(4,"Order History"),o.qZA(),o.TgZ(5,"button",16),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.userPage=!r.userPage)}),o._uU(6,"Log Out"),o.qZA()()}}function KI(n,t){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,P5,7,0,"div",10),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.show)}}let QI=(()=>{class n{constructor(e){this.userService=e,this.userPage=!1,this.show=!1,this.userService.userService.subscribe(i=>{this.userPage=!0})}ngOnInit(){}toggleLogin(){this.show=!this.show}clickedOutside(){this.show=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(uh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-user"]],decls:12,vars:3,consts:[[1,"user"],["href","#",1,"btn","home"],["type","button",1,"btn","earth"],["src","/assets//images/earth.png","alt","earth"],["clickOutside","",3,"clickOutside"],["type","button","alt","",1,"btn","login",3,"click"],["src","/assets/images/burger.png",1,"burger"],["src","/assets/images/person.png","alt","",1,"person"],[4,"ngIf"],[4,"ngIf","ngIfShow"],["class","list-group sign-in",4,"ngIf"],[1,"list-group","sign-in"],["type","button","data-bs-toggle","modal","href","#signup",1,"list-group-item","list-group-item-action"],["type","button","data-bs-toggle","modal","href","#login",1,"list-group-item","list-group-item-action"],["type","button","routerLink","/profile",1,"list-group-item","list-group-item-action"],["type","button","routerLink","/ordered-history",1,"list-group-item","list-group-item-action"],["type","button","routerLink","/","href","#login",1,"list-group-item","list-group-item-action",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"a",1),o._uU(2,"Airbnb your home"),o.qZA(),o.TgZ(3,"button",2),o._UZ(4,"img",3),o.qZA(),o.TgZ(5,"div",4),o.NdJ("clickOutside",function(){return i.clickedOutside()}),o.TgZ(6,"button",5),o.NdJ("click",function(){return i.toggleLogin()}),o.TgZ(7,"div"),o._UZ(8,"img",6)(9,"img",7),o.qZA()()(),o.YNc(10,CM,2,1,"div",8),o.YNc(11,KI,2,1,"div",9),o.qZA()),2&e&&(o.xp6(10),o.Q6J("ngIf",!0!==i.userPage?"show":"hide"),o.xp6(1),o.Q6J("ngIf",!0===i.userPage)("ngIfShow","hide"))},dependencies:[Za,Gn,p9],styles:[".user[_ngcontent-%COMP%]{height:42px;display:flex;align-items:center;position:relative}.home[_ngcontent-%COMP%]{border-radius:22px;font-size:14px}.home[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.earth[_ngcontent-%COMP%]{border-radius:50%}.earth[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.user[_ngcontent-%COMP%]   .earth[_ngcontent-%COMP%]{height:42px;outline-offset:none;border:none;display:flex;justify-content:center;align-items:center;margin-right:10px}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px}.user[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]{width:28px}.user[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{width:80px;border:1px solid #D0D0D7;border-radius:20px;transition:.3s ease-in-out}.user[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]:hover{box-shadow:0 9px 6px -6px #d0d0d7}.user[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]{margin-right:10px}.user[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{position:absolute;top:60px;left:40px;border-radius:12px 12px 0 0;padding-bottom:10px;z-index:1;border-bottom:1px solid #D0D0D7;background-color:#fff}.user[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border:none;text-align:start;transition:.5s;width:213px}.hide[_ngcontent-%COMP%]{display:none}.show[_ngcontent-%COMP%]{display:block}"]}),n})(),bM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-header"]],decls:8,vars:0,consts:[[1,"container","text-center"],[1,"row","justify-content-center"],[1,"col","col-4"]],template:function(e,i){1&e&&(o.TgZ(0,"header",0)(1,"section",1)(2,"div",2),o._UZ(3,"app-logo"),o.qZA(),o.TgZ(4,"div",2),o._UZ(5,"app-search"),o.qZA(),o.TgZ(6,"div",2),o._UZ(7,"app-user"),o.qZA()()())},dependencies:[H5,z5,QI],styles:["header[_ngcontent-%COMP%]{max-width:1920px;background-color:#fff;border-bottom:1px solid #ebebeb;padding:0 80px;position:fixed;top:0;width:100%;z-index:10}header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{height:80px;align-items:center;display:flex;min-width:360px}header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:nth-of-type(2){justify-content:center}header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:last-of-type{justify-content:flex-end}"]}),n})(),XI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-about"]],decls:18,vars:0,consts:[["href",""]],template:function(e,i){1&e&&(o.TgZ(0,"span"),o._uU(1,"\xa9 2022 Airbnb,Inc."),o.qZA(),o.TgZ(2,"span"),o._uU(3,"\xa0 .\xa0 "),o.qZA(),o.TgZ(4,"a",0),o._uU(5,"Privacy"),o.qZA(),o.TgZ(6,"span"),o._uU(7,"\xa0 .\xa0 "),o.qZA(),o.TgZ(8,"a",0),o._uU(9,"Terms"),o.qZA(),o.TgZ(10,"span"),o._uU(11," \xa0.\xa0 "),o.qZA(),o.TgZ(12,"a",0),o._uU(13,"Sitemap"),o.qZA(),o.TgZ(14,"span"),o._uU(15,"\xa0 .\xa0 "),o.qZA(),o.TgZ(16,"a",0),o._uU(17,"Destinations"),o.qZA())},styles:["a[_ngcontent-%COMP%]{color:#222;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})(),JI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-support"]],decls:7,vars:0,consts:[["href",""],["_ngcontent-nir-c19","","src","/assets/images/earth.png","alt","earth"],["href","",1,"currency"]],template:function(e,i){1&e&&(o.TgZ(0,"a",0),o._UZ(1,"img",1),o._uU(2,"\xa0\xa0English(US)"),o.qZA(),o.TgZ(3,"a",2),o._uU(4," $\xa0\xa0USD "),o.qZA(),o.TgZ(5,"a",0),o._uU(6,"Support & resources"),o.qZA())},styles:["a[_ngcontent-%COMP%]{color:#000;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}a[_ngcontent-%COMP%]:last-of-type:hover{text-decoration:none}img[_ngcontent-%COMP%]{width:16px}.currency[_ngcontent-%COMP%]{padding:0 27px}"]}),n})(),ek=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-6"]],template:function(e,i){1&e&&(o.TgZ(0,"footer",0)(1,"section",1)(2,"div",2),o._UZ(3,"app-about"),o.qZA(),o.TgZ(4,"div",2),o._UZ(5,"app-support"),o.qZA()()())},dependencies:[XI,JI],styles:["footer[_ngcontent-%COMP%]{position:fixed;bottom:0;z-index:1;max-width:1920px;background-color:#fff;font-size:14px}footer[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border-top:1px solid #ddd;padding:15px 80px}footer[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]{padding:0}footer[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]:last-of-type{display:flex;justify-content:flex-end}"]}),n})(),tk=(()=>{class n{constructor(){this.title="AirBnb"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"header"),o._UZ(1,"app-header"),o.qZA(),o.TgZ(2,"main"),o._UZ(3,"router-outlet"),o.qZA(),o.TgZ(4,"footer"),o._UZ(5,"app-footer"),o.qZA())},dependencies:[q2,bM,ek]}),n})(),MM=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),A4=(()=>{class n extends MM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const vr=new o.OlP("NgValueAccessor"),O5={provide:vr,useExisting:(0,o.Gpc)(()=>R5),multi:!0};let R5=(()=>{class n extends A4{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[o._Bn([O5]),o.qOj]}),n})();const g9={provide:vr,useExisting:(0,o.Gpc)(()=>Ya),multi:!0},_9=new o.OlP("CompositionEventMode");let Ya=(()=>{class n extends MM{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function F5(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(_9,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([g9]),o.qOj]}),n})();function ps(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function B5(n){return null!=n&&"number"==typeof n.length}const Hr=new o.OlP("NgValidators"),pc=new o.OlP("NgAsyncValidators"),v9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class dh{static min(t){return function y9(n){return t=>{if(ps(t.value)||ps(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function M6(n){return t=>{if(ps(t.value)||ps(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return ql(t)}static requiredTrue(t){return function hh(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function $l(n){return ps(n.value)||v9.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function fh(n){return t=>ps(t.value)||!B5(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return w6(t)}static pattern(t){return function U5(n){if(!n)return S6;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ps(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return C9(t)}static composeAsync(t){return b9(t)}}function ql(n){return ps(n.value)?{required:!0}:null}function w6(n){return t=>B5(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function S6(n){return null}function ph(n){return null!=n}function mh(n){return(0,o.QGY)(n)?(0,on.D)(n):n}function j5(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function gh(n,t){return t.map(e=>e(n))}function DM(n){return n.map(t=>function SM(n){return!n.validate}(t)?t:e=>t.validate(e))}function C9(n){if(!n)return null;const t=n.filter(ph);return 0==t.length?null:function(e){return j5(gh(e,t))}}function _h(n){return null!=n?C9(DM(n)):null}function b9(n){if(!n)return null;const t=n.filter(ph);return 0==t.length?null:function(e){return function nk(...n){const t=(0,Ur.jO)(n),{args:e,keys:i}=H2(n),r=new gn.y(s=>{const{length:l}=e;if(!l)return void s.complete();const d=new Array(l);let f=l,v=l;for(let b=0;b<l;b++){let S=!1;(0,jr.Xf)(e[b]).subscribe((0,En.x)(s,I=>{S||(S=!0,v--),d[b]=I},()=>f--,void 0,()=>{(!f||!S)&&(v||s.next(i?Fa(i,d):d),s.complete())}))}});return t?r.pipe(oa(t)):r}(gh(e,t).map(mh)).pipe((0,Je.U)(j5))}}function vh(n){return null!=n?b9(DM(n)):null}function G5(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function M9(n){return n._rawValidators}function Vs(n){return n._rawAsyncValidators}function yh(n){return n?Array.isArray(n)?n:[n]:[]}function Ch(n,t){return Array.isArray(n)?n.includes(t):n===t}function xM(n,t){const e=yh(t);return yh(n).forEach(r=>{Ch(e,r)||e.push(r)}),e}function w9(n,t){return yh(t).filter(e=>!Ch(n,e))}class bh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=_h(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Zr extends bh{get formDirective(){return null}get path(){return null}}class Y2 extends bh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class S9{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let T4=(()=>{class n extends S9{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Y2,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),I4=(()=>{class n extends S9{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Zr,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();const Wl="VALID",Zl="INVALID",D6="PENDING",Yl="DISABLED";function A9(n){return(x6(n)?n.validators:n)||null}function W5(n){return Array.isArray(n)?_h(n):n||null}function Sh(n,t){return(x6(t)?t.asyncValidators:n)||null}function Z5(n){return Array.isArray(n)?vh(n):n||null}function x6(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Dh(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")}function Ka(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})}class Kl{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=W5(this._rawValidators),this._composedAsyncValidatorFn=Z5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Wl}get invalid(){return this.status===Zl}get pending(){return this.status==D6}get disabled(){return this.status===Yl}get enabled(){return this.status!==Yl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=W5(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Z5(t)}addValidators(t){this.setValidators(xM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(xM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(w9(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(w9(t,this._rawAsyncValidators))}hasValidator(t){return Ch(this._rawValidators,t)}hasAsyncValidator(t){return Ch(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=D6,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Yl,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wl,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wl||this.status===D6)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yl:Wl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=D6,this._hasOwnPendingAsyncValidator=!0;const e=mh(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Yl:this.errors?Zl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(D6)?D6:this._anyControlsHaveStatus(Zl)?Zl:Wl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){x6(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Q2 extends Kl{constructor(t,e,i){super(A9(e),Sh(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Ka(this,0,t),Object.keys(t).forEach(i=>{Dh(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Eh extends Q2{}function Ah(n,t){return[...t.path,n]}function E6(n,t){Y5(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function HM(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&T9(n,t)})}(n,t),function I9(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function zM(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&T9(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function ck(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function mc(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),K5(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Th(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Y5(n,t){const e=M9(n);null!==t.validator?n.setValidators(G5(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Vs(n);null!==t.asyncValidator?n.setAsyncValidators(G5(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Th(t._rawValidators,r),Th(t._rawAsyncValidators,r)}function K5(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=M9(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=Vs(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Th(t._rawValidators,i),Th(t._rawAsyncValidators,i),e}function T9(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ih(n,t){Y5(n,t)}function Q5(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function L9(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function V4(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Ya?e=s:function OM(n){return Object.getPrototypeOf(n.constructor)===A4}(s)?i=s:r=s}),r||i||e||null}const A6={provide:Zr,useExisting:(0,o.Gpc)(()=>gc)},T6=(()=>Promise.resolve())();let gc=(()=>{class n extends Zr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Q2({},_h(e),vh(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){T6.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),E6(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){T6.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){T6.then(()=>{const i=this._findContainer(e.path),r=new Q2({});Ih(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){T6.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){T6.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,L9(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hr,10),o.Y36(pc,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([A6]),o.qOj]}),n})();function kh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function H9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const yr=class extends Kl{constructor(t=null,e,i){super(A9(e),Sh(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),x6(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=H9(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){kh(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){kh(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){H9(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let _c=(()=>{class n extends Zr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ah(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const L4={provide:Zr,useExisting:(0,o.Gpc)(()=>vc)};let vc=(()=>{class n extends _c{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Zr,5),o.Y36(Hr,10),o.Y36(pc,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[o._Bn([L4]),o.qOj]}),n})();const H4={provide:Y2,useExisting:(0,o.Gpc)(()=>ga)},Xl=(()=>Promise.resolve())();let ga=(()=>{class n extends Y2{constructor(e,i,r,s,l){super(),this._changeDetectorRef=l,this.control=new yr,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=V4(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Q5(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){E6(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Xl.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);Xl.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Ah(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Zr,9),o.Y36(Hr,10),o.Y36(pc,10),o.Y36(vr,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([H4]),o.qOj,o.TTD]}),n})(),Qa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const z4={provide:vr,useExisting:(0,o.Gpc)(()=>X2),multi:!0};let X2=(()=>{class n extends A4{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([z4]),o.qOj]}),n})(),J5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Lh=new o.OlP("NgModelWithFormControlWarning"),R9={provide:Y2,useExisting:(0,o.Gpc)(()=>n7)};let n7=(()=>{class n extends Y2{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new o.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=V4(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&mc(i,this,!1),E6(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Q5(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&mc(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(Hr,10),o.Y36(pc,10),o.Y36(vr,10),o.Y36(Lh,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[o._Bn([R9]),o.qOj,o.TTD]}),n})();const FM={provide:Zr,useExisting:(0,o.Gpc)(()=>k6)};let k6=(()=>{class n extends Zr{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(K5(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return E6(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){mc(e.control||null,e,!1),function Ql(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,L9(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(mc(i||null,e),(n=>n instanceof yr)(r)&&(E6(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Ih(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function NM(n,t){return K5(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Y5(this.form,this),this._oldForm&&K5(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hr,10),o.Y36(pc,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([FM]),o.qOj,o.TTD]}),n})();const s7={provide:vr,useExisting:(0,o.Gpc)(()=>N4),multi:!0};function B9(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let N4=(()=>{class n extends A4{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=B9(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Nh(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&o.NdJ("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([s7]),o.qOj]}),n})(),o7=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(B9(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(N4,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const U9={provide:vr,useExisting:(0,o.Gpc)(()=>H6),multi:!0};function Ph(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let H6=(()=>{class n extends A4{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,l)=>{s._setSelected(r.indexOf(l.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const l=s;for(let d=0;d<l.length;d++){const v=this._getOptionValue(l[d].value);r.push(v)}}else{const l=i.options;for(let d=0;d<l.length;d++){const f=l[d];if(f.selected){const v=this._getOptionValue(f.value);r.push(v)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function j9(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([U9]),o.qOj]}),n})(),Oh=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Ph(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Ph(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(H6,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let yc=(()=>{class n{constructor(){this._validator=S6}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):S6,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const $9={provide:Hr,useExisting:(0,o.Gpc)(()=>P4),multi:!0};let P4=(()=>{class n extends yc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.D6c,this.createValidator=e=>ql}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([$9]),o.qOj]}),n})();const K9={provide:Hr,useExisting:(0,o.Gpc)(()=>z6),multi:!0};let z6=(()=>{class n extends yc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function G9(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>w6(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([K9]),o.qOj]}),n})(),X9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[J5]}),n})(),Ki=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[X9]}),n})(),d7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Lh,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[X9]}),n})();class J9 extends Kl{constructor(t,e,i){super(A9(e),Sh(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Ka(this,0,t),t.forEach((i,r)=>{Dh(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function e_(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Bh=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return e_(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Q2(r,s)}record(e,i=null){const r=this._reduceControls(e);return new Eh(r,i)}control(e,i,r){let s={};return this.useNonNullable?(e_(i)?s=i:(s.validators=i,s.asyncValidators=r),new yr(e,{...s,nonNullable:!0})):new yr(e,i,r)}array(e,i,r){const s=e.map(l=>this._createControl(l));return new J9(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof yr||e instanceof Kl?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:d7}),n})();var O4=R(4986),wn=R(2122);function h7(){return(0,Nn.e)((n,t)=>{let e,i=!1;n.subscribe((0,En.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function P6(n,t=Ys.y){return n=n??pk,(0,Nn.e)((e,i)=>{let r,s=!0;e.subscribe((0,En.x)(i,l=>{const d=t(l);(s||!n(r,d))&&(s=!1,r=d,i.next(l))}))})}function pk(n,t){return n===t}var Mt,Bi=R(2011),Vo=(R(9169),R(3942)),be=R(5861),ms=R(9681),Qi=R(4859),Ui=R(1877),P=R(2090),n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xa={},f7=f7||{},Gt=n_||self;function Uh(){}function R4(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function J2(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var jh="closure_uid_"+(1e9*Math.random()>>>0),YM=0;function i_(n,t,e){return n.call.apply(n.bind,arguments)}function r_(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function or(n,t,e){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i_:r_).apply(null,arguments)}function Gh(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Cr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var l=Array(arguments.length-2),d=2;d<arguments.length;d++)l[d-2]=arguments[d];return t.prototype[r].apply(i,l)}}function e1(){this.s=this.s,this.o=this.o}e1.prototype.s=!1,e1.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ZM(n){Object.prototype.hasOwnProperty.call(n,jh)&&n[jh]||(n[jh]=++YM)}(this)},e1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const O6=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function R6(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function m7(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(R4(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function br(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}br.prototype.h=function(){this.defaultPrevented=!0};var s_=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",Uh,t),Gt.removeEventListener("test",Uh,t)}catch{}return n}();function F6(n){return/^[\s\xa0]*$/.test(n)}var g7=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function qh(n,t){return n<t?-1:n>t?1:0}function B6(){var n=Gt.navigator;return n&&(n=n.userAgent)?n:""}function Ja(n){return-1!=B6().indexOf(n)}function _7(n){return _7[" "](n),n}_7[" "]=Uh;var $h,n,QM=Ja("Opera"),F4=Ja("Trident")||Ja("MSIE"),o_=Ja("Edge"),v7=o_||F4,a_=Ja("Gecko")&&!(-1!=B6().toLowerCase().indexOf("webkit")&&!Ja("Edge"))&&!(Ja("Trident")||Ja("MSIE"))&&!Ja("Edge"),XM=-1!=B6().toLowerCase().indexOf("webkit")&&!Ja("Edge");function c_(){var n=Gt.document;return n?n.documentMode:void 0}e:{var y7="",C7=(n=B6(),a_?/rv:([^\);]+)(\)|;)/.exec(n):o_?/Edge\/([\d\.]+)/.exec(n):F4?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):XM?/WebKit\/(\S+)/.exec(n):QM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(C7&&(y7=C7?C7[1]:""),F4){var b7=c_();if(null!=b7&&b7>parseFloat(y7)){$h=String(b7);break e}}$h=y7}var JM={};var u_=Gt.document&&F4&&(c_()||parseInt($h,10))||void 0;function B4(n,t){if(br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(a_){e:{try{_7(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:d_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&B4.X.h.call(this)}}Cr(B4,br);var d_={2:"touch",3:"pen",4:"mouse"};B4.prototype.h=function(){B4.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var U4="closure_listenable_"+(1e6*Math.random()|0),h_=0;function f_(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++h_,this.ba=this.ea=!1}function U6(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Wh(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function w7(n){const t={};for(const e in n)t[e]=n[e];return t}const Zh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yh(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<Zh.length;s++)e=Zh[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function e2(n){this.src=n,this.g={},this.h=0}function S7(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=O6(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(U6(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function D7(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}e2.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=D7(n,t,i,r);return-1<l?(t=n[l],e||(t.ea=!1)):((t=new f_(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var Cc="closure_lm_"+(1e6*Math.random()|0),p_={};function Kh(n,t,e,i,r){if(i&&i.once)return x7(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Kh(n,t[s],e,i,r);return null}return e=A7(e),n&&n[U4]?n.N(t,e,J2(i)?!!i.capture:!!i,r):tw(n,t,e,!1,i,r)}function tw(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var l=J2(r)?!!r.capture:!!r,d=E7(n);if(d||(n[Cc]=d=new e2(n)),(e=d.add(t,e,i,l,s)).proxy)return e;if(i=function m_(){const t=iw;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)s_||(r=l),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(g_(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function x7(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)x7(n,t[s],e,i,r);return null}return e=A7(e),n&&n[U4]?n.O(t,e,J2(i)?!!i.capture:!!i,r):tw(n,t,e,!0,i,r)}function nw(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)nw(n,t[s],e,i,r);else i=J2(i)?!!i.capture:!!i,e=A7(e),n&&n[U4]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=D7(s=n.g[t],e,i,r))&&(U6(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=E7(n))&&(t=n.g[t.toString()],n=-1,t&&(n=D7(t,e,i,r)),(e=-1<n?t[n]:null)&&It(e))}function It(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[U4])S7(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(g_(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=E7(t))?(S7(e,n),0==e.h&&(e.src=null,t[Cc]=null)):U6(n)}}}function g_(n){return n in p_?p_[n]:p_[n]="on"+n}function iw(n,t){if(n.ba)n=!0;else{t=new B4(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&It(n),n=e.call(i,t)}return n}function E7(n){return(n=n[Cc])instanceof e2?n:null}var bc="__closure_events_fn_"+(1e9*Math.random()>>>0);function A7(n){return"function"==typeof n?n:(n[bc]||(n[bc]=function(t){return n.handleEvent(t)}),n[bc])}function ji(){e1.call(this),this.i=new e2(this),this.P=this,this.I=null}function Xi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new br(t,n);else if(t instanceof br)t.target=t.target||n;else{var r=t;Yh(t=new br(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var l=t.g=e[s];r=ti(l,i,!0,t)&&r}if(r=ti(l=t.g=n,i,!0,t)&&r,r=ti(l,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=ti(l=t.g=e[s],i,!1,t)&&r}function ti(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var l=t[s];if(l&&!l.ba&&l.capture==e){var d=l.listener,f=l.ha||l.src;l.ea&&S7(n.i,l),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}Cr(ji,e1),ji.prototype[U4]=!0,ji.prototype.removeEventListener=function(n,t,e,i){nw(this,n,t,e,i)},ji.prototype.M=function(){if(ji.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)U6(e[i]);delete n.g[t],n.h--}}this.I=null},ji.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ji.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var __=Gt.JSON.stringify;function v_(){var n=w_;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Qh,C_=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new b_,n=>n.reset());class b_{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function M_(n){Gt.setTimeout(()=>{throw n},0)}function T7(n,t){Qh||function rw(){var n=Gt.Promise.resolve(void 0);Qh=function(){n.then(j6)}}(),I7||(Qh(),I7=!0),w_.add(n,t)}var I7=!1,w_=new class y_{constructor(){this.h=this.g=null}add(t,e){const i=C_.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function j6(){for(var n;n=v_();){try{n.h.call(n.g)}catch(e){M_(e)}var t=C_;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}I7=!1}function Xh(n,t){ji.call(this),this.h=n||1,this.g=t||Gt,this.j=or(this.lb,this),this.l=Date.now()}function k7(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function V7(n,t,e){if("function"==typeof n)e&&(n=or(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(t)?-1:Gt.setTimeout(n,t||0)}function G6(n){n.g=V7(()=>{n.g=null,n.i&&(n.i=!1,G6(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Cr(Xh,ji),(Mt=Xh.prototype).ca=!1,Mt.R=null,Mt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Xi(this,"tick"),this.ca&&(k7(this),this.start()))}},Mt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.M=function(){Xh.X.M.call(this),k7(this),delete this.g};class S_ extends e1{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:G6(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function j4(n){e1.call(this),this.h=n,this.g={}}Cr(j4,e1);var L7=[];function D_(n,t,e,i){Array.isArray(e)||(e&&(L7[0]=e.toString()),e=L7);for(var r=0;r<e.length;r++){var s=Kh(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function G4(n){Wh(n.g,function(t,e){this.g.hasOwnProperty(e)&&It(t)},n),n.g={}}function Mc(){this.g=!0}function q4(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function E_(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return __(e)}catch{return t}}(n,e)+(i?" "+i:"")})}j4.prototype.M=function(){j4.X.M.call(this),G4(this)},j4.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mc.prototype.Aa=function(){this.g=!1},Mc.prototype.info=function(){};var wc={},A_=null;function q6(){return A_=A_||new ji}function T_(n){br.call(this,wc.Pa,n)}function $6(n){const t=q6();Xi(t,new T_(t))}function aw(n,t){br.call(this,wc.STAT_EVENT,n),this.stat=t}function Ls(n){const t=q6();Xi(t,new aw(t,n))}function cw(n,t){br.call(this,wc.Qa,n),this.size=t}function Jh(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},t)}wc.Pa="serverreachability",Cr(T_,br),wc.STAT_EVENT="statevent",Cr(aw,br),wc.Qa="timingevent",Cr(cw,br);var W6={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Z6={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function H7(){}function z7(){}H7.prototype.h=null;var O7,t1={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function N7(){br.call(this,"d")}function P7(){br.call(this,"c")}function ef(){}function Y6(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new j4(this),this.O=lw,this.T=new Xh(n=v7?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new R7}function R7(){this.i=null,this.g="",this.h=!1}Cr(N7,br),Cr(P7,br),Cr(ef,H7),ef.prototype.g=function(){return new XMLHttpRequest},ef.prototype.i=function(){return{}},O7=new ef;var lw=45e3,F7={},Sc={};function B7(n,t,e){n.K=1,n.v=af(n1(t)),n.s=e,n.P=!0,U7(n,null)}function U7(n,t){n.F=Date.now(),$4(n),n.A=n1(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),q7(e.i,"t",i),n.C=0,e=n.l.H,n.h=new R7,n.g=Y_(n.l,e?t:null,!n.s),0<n.N&&(n.L=new S_(or(n.La,n,n.g),n.N)),D_(n.S,n.g,"readystatechange",n.ib),t=n.H?w7(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),$6(),function sw(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",d=s.split("&"),f=0;f<d.length;f++){var v=d[f].split("=");if(1<v.length){var b=v[0];v=v[1];var S=b.split("_");l=2<=S.length&&"type"==S[1]?l+(b+"=")+v+"&":l+(b+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function k_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function j7(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=uw(n,e),r==Sc){4==t&&(n.o=4,Ls(14),i=!1),q4(n.j,n.m,null,"[Incomplete Response]");break}if(r==F7){n.o=4,Ls(15),q4(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}q4(n.j,n.m,r,null),tf(n,r)}k_(n)&&r!=Sc&&r!=F7&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ls(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),vf(t),t.K=!0,Ls(11))):(q4(n.j,n.m,e,"[Invalid Chunked Response]"),Dc(n),K6(n))}function uw(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Sc:(e=Number(t.substring(e,i)),isNaN(e)?F7:(i+=1)+e>t.length?Sc:(t=t.substr(i,e),n.C=i+e,t))}function $4(n){n.V=Date.now()+n.O,V_(n,n.O)}function V_(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Jh(or(n.gb,n),t)}function W4(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function K6(n){0==n.l.G||n.I||Dw(n.l,n)}function Dc(n){W4(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,k7(n.T),G4(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function tf(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||df(e.h,n)))if(!n.J&&df(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;yf(e),mf(e)}_f(e),Ls(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Jh(or(e.cb,e),6e3));if(1>=Jl(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else t3(e,11)}else if((n.J||e.g==n)&&yf(e),!F6(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.T=v[0],v=v[1],2==e.G)if("c"==v[0]){e.I=v[1],e.ka=v[2];const b=v[3];null!=b&&(e.ma=b,e.j.info("VER="+e.ma));const S=v[4];null!=S&&(e.Ca=S,e.j.info("SVER="+e.Ca));const I=v[5];null!=I&&"number"==typeof I&&0<I&&(e.J=i=1.5*I,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const H=n.g;if(H){const N=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var s=i.h;s.g||-1==N.indexOf("spdy")&&-1==N.indexOf("quic")&&-1==N.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(W7(s,s.h),s.h=null))}if(i.D){const j=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(i.za=j,ci(i.F,i.D,j))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var l=n;if((i=e).sa=Z_(i,i.H?i.ka:null,i.V),l.J){Cw(i.h,l);var d=l,f=i.J;f&&d.setTimeout(f),d.B&&(W4(d),$4(d)),i.g=l}else np(i);0<e.i.length&&gf(e)}else"stop"!=v[0]&&"close"!=v[0]||t3(e,7);else 3==e.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?t3(e,7):pf(e):"noop"!=v[0]&&e.l&&e.l.wa(v),e.A=0)}$6()}catch{}}function L_(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(R4(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function hw(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(R4(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function dw(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(R4(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(Mt=Y6.prototype).setTimeout=function(n){this.O=n},Mt.ib=function(n){n=n.target;const t=this.L;t&&3==r1(n)?t.l():this.La(n)},Mt.La=function(n){try{if(n==this.g)e:{const b=r1(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||v7||this.g&&(this.h.h||this.g.fa()||X7(this.g)))){this.I||4!=b||7==t||$6(),W4(this);var e=this.g.aa();this.Y=e;t:if(k_(this)){var i=X7(this.g);n="";var r=i.length,s=4==r1(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Dc(this),K6(this);var l="";break t}this.h.i=new Gt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==e,function ow(n,t,e,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.U,b,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F6(d)){var v=d;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Ls(12),Dc(this),K6(this);break e}q4(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tf(this,e)}this.P?(j7(this,b,l),v7&&this.i&&3==b&&(D_(this.S,this.T,"tick",this.hb),this.T.start())):(q4(this.j,this.m,l,null),tf(this,l)),4==b&&Dc(this),this.i&&!this.I&&(4==b?Dw(this.l,this):(this.i=!1,$4(this)))}else 400==e&&0<l.indexOf("Unknown SID")?(this.o=3,Ls(12)):(this.o=0,Ls(13)),Dc(this),K6(this)}}}catch{}},Mt.hb=function(){if(this.g){var n=r1(this.g),t=this.g.fa();this.C<t.length&&(W4(this),j7(this,n,t),this.i&&4!=n&&$4(this))}},Mt.cancel=function(){this.I=!0,Dc(this)},Mt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function x_(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&($6(),Ls(17)),Dc(this),this.o=2,K6(this)):V_(this,this.V-n)};var nf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof xc){this.h=void 0!==t?t:n.h,rf(this,n.j),this.s=n.s,this.g=n.g,sf(this,n.m),this.l=n.l,t=n.i;var e=new J6;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),H_(this,e),this.o=n.o}else n&&(e=String(n).match(nf))?(this.h=!!t,rf(this,e[1]||"",!0),this.s=Q6(e[2]||""),this.g=Q6(e[3]||"",!0),sf(this,e[4]),this.l=Q6(e[5]||"",!0),H_(this,e[6]||"",!0),this.o=Q6(e[7]||"")):(this.h=!!t,this.i=new J6(null,this.h))}function n1(n){return new xc(n)}function rf(n,t,e){n.j=e?Q6(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function sf(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function H_(n,t,e){t instanceof J6?(n.i=t,function _w(n,t){t&&!n.j&&(Ec(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(cf(this,i),q7(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=X6(t,N_)),n.i=new J6(t,n.h))}function ci(n,t,e){n.i.set(t,e)}function af(n){return ci(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Q6(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function X6(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,z_),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function z_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xc.prototype.toString=function(){var n=[],t=this.j;t&&n.push(X6(t,G7,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(X6(t,G7,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(X6(e,"/"==e.charAt(0)?mw:pw,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",X6(e,gw)),n.join("")};var G7=/[#\/\?@]/g,pw=/[#\?:]/g,mw=/[#\?]/g,N_=/[#\?@]/g,gw=/#/g;function J6(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ec(n){n.g||(n.g=new Map,n.h=0,n.i&&function fw(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function cf(n,t){Ec(n),t=Ac(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function lf(n,t){return Ec(n),t=Ac(n,t),n.g.has(t)}function q7(n,t,e){cf(n,t),0<e.length&&(n.i=null,n.g.set(Ac(n,t),R6(e)),n.h+=e.length)}function Ac(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function uf(n){this.l=n||yw,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ga&&Gt.g.Ga()&&Gt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Mt=J6.prototype).add=function(n,t){Ec(this),this.i=null,n=Ac(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Mt.forEach=function(n,t){Ec(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Mt.oa=function(){Ec(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},Mt.W=function(n){Ec(this);let t=[];if("string"==typeof n)lf(this,n)&&(t=t.concat(this.g.get(Ac(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Mt.set=function(n,t){return Ec(this),this.i=null,lf(this,n=Ac(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Mt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),l=this.W(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var yw=10;function $7(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Jl(n){return n.h?1:n.g?n.g.size:0}function df(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function W7(n,t){n.g?n.g.add(t):n.h=t}function Cw(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Z7(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return R6(n.i)}function ed(){}function bw(){this.g=new ed}function Y7(n,t,e){const i=e||"";try{L_(n,function(r,s){let l=r;J2(r)&&(l=__(r)),t.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function td(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function e3(n){this.l=n.ac||null,this.j=n.jb||!1}function nd(n,t){ji.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=hf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}uf.prototype.cancel=function(){if(this.i=Z7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ed.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},ed.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},Cr(e3,H7),e3.prototype.g=function(){return new nd(this.l,this.j)},e3.prototype.i=function(n){return function(){return n}}({}),Cr(nd,ji);var hf=0;function K7(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Z4(n){n.readyState=4,n.l=null,n.j=null,n.A=null,id(n)}function id(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Mt=nd.prototype).open=function(n,t){if(this.readyState!=hf)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,id(this)},Mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Gt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Z4(this)),this.readyState=hf},Mt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,id(this)),this.g&&(this.readyState=3,id(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K7(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Mt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Z4(this):id(this),3==this.readyState&&K7(this)}},Mt.Va=function(n){this.g&&(this.response=this.responseText=n,Z4(this))},Mt.Ua=function(n){this.g&&(this.response=n,Z4(this))},Mt.ga=function(){this.g&&Z4(this)},Mt.setRequestHeader=function(n,t){this.v.append(n,t)},Mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(nd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ww=Gt.JSON.parse;function Ii(n){ji.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=P_,this.K=this.L=!1}Cr(Ii,ji);var P_="",O_=/^https?$/i,mk=["POST","PUT"];function F_(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,B_(n),Q7(n)}function B_(n){n.D||(n.D=!0,Xi(n,"complete"),Xi(n,"error"))}function Sw(n){if(n.h&&typeof f7<"u"&&(!n.C[1]||4!=r1(n)||2!=n.aa()))if(n.v&&4==r1(n))V7(n.Ha,0,n);else if(Xi(n,"readystatechange"),4==r1(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(nf)[1]||null;if(!r&&Gt.self&&Gt.self.location){var s=Gt.self.location.protocol;r=s.substr(0,s.length-1)}i=!O_.test(r?r.toLowerCase():"")}e=i}if(e)Xi(n,"complete"),Xi(n,"success");else{n.m=6;try{var l=2<r1(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",B_(n)}}finally{Q7(n)}}}function Q7(n,t){if(n.g){U_(n);const e=n.g,i=n.C[0]?Uh:null;n.g=null,n.C=null,t||Xi(n,"ready");try{e.onreadystatechange=i}catch{}}}function U_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function r1(n){return n.g?n.g.readyState:0}function X7(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case P_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function J7(n){let t="";return Wh(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function ff(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=J7(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ci(n,t,e))}function Y4(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function ep(n){this.Ca=0,this.i=[],this.j=new Mc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Y4("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Y4("baseRetryDelayMs",5e3,n),this.bb=Y4("retryDelaySeedMs",1e4,n),this.$a=Y4("forwardChannelMaxRetries",2,n),this.ta=Y4("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new uf(n&&n.concurrentRequestLimit),this.Fa=new bw,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function pf(n){if(j_(n),3==n.G){var t=n.U++,e=n1(n.F);ci(e,"SID",n.I),ci(e,"RID",t),ci(e,"TYPE","terminate"),Q4(n,e),(t=new Y6(n,n.j,t,void 0)).K=2,t.v=af(n1(e)),e=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(e=Gt.navigator.sendBeacon(t.v.toString(),"")),!e&&Gt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Y_(t.l,null),t.g.da(t.v)),t.F=Date.now(),$4(t)}W_(n)}function mf(n){n.g&&(vf(n),n.g.cancel(),n.g=null)}function j_(n){mf(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),yf(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function gf(n){$7(n.h)||n.m||(n.m=!0,T7(n.Ja,n),n.C=0)}function K4(n,t){var e;e=t?t.m:n.U++;const i=n1(n.F);ci(i,"SID",n.I),ci(i,"RID",e),ci(i,"AID",n.T),Q4(n,i),n.o&&n.s&&ff(i,n.o,n.s),e=new Y6(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=tp(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),W7(n.h,e),B7(e,i,t)}function Q4(n,t){n.ia&&Wh(n.ia,function(e,i){ci(t,i,e)}),n.l&&L_({},function(e,i){ci(t,i,e)})}function tp(n,t,e){e=Math.min(n.i.length,e);var i=n.l?or(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const l=["count="+e];-1==s?0<e?(s=r[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let d=!0;for(let f=0;f<e;f++){let v=r[f].h;const b=r[f].g;if(v-=s,0>v)s=Math.max(0,r[f].h-100),d=!1;else try{Y7(b,l,"req"+v+"_")}catch{i&&i(b)}}if(d){i=l.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function np(n){n.g||n.u||(n.Z=1,T7(n.Ia,n),n.A=0)}function _f(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Jh(or(n.Ia,n),$_(n,n.A)),n.A++,0))}function vf(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function q_(n){n.g=new Y6(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=n1(n.sa);ci(t,"RID","rpc"),ci(t,"SID",n.I),ci(t,"CI",n.L?"0":"1"),ci(t,"AID",n.T),ci(t,"TYPE","xmlhttp"),Q4(n,t),n.o&&n.s&&ff(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=af(n1(t)),e.s=null,e.P=!0,U7(e,n)}function yf(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function Dw(n,t){var e=null;if(n.g==t){yf(n),vf(n),n.g=null;var i=2}else{if(!df(n.h,t))return;e=t.D,Cw(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Xi(i=q6(),new cw(i,e)),gf(n)}else np(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function G_(n,t){return!(Jl(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Jh(or(n.Ja,n,t),$_(n,n.C)),n.C++,0)))}(n,t)||2==i&&_f(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:t3(n,5);break;case 4:t3(n,10);break;case 3:t3(n,6);break;default:t3(n,2)}}function $_(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function t3(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=or(n.kb,n);e||(e=new xc("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||rf(e,"https"),af(e)),function Mw(n,t){const e=new Mc;if(Gt.Image){const i=new Image;i.onload=Gh(td,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Gh(td,e,i,"TestLoadImage: error",!1,t),i.onabort=Gh(td,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Gh(td,e,i,"TestLoadImage: timeout",!1,t),Gt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ls(2);n.G=0,n.l&&n.l.va(t),W_(n),j_(n)}function W_(n){if(n.G=0,n.la=[],n.l){const t=Z7(n.h);(0!=t.length||0!=n.i.length)&&(m7(n.la,t),m7(n.la,n.i),n.h.i.length=0,R6(n.i),n.i.length=0),n.l.ua()}}function Z_(n,t,e){var i=e instanceof xc?n1(e):new xc(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),sf(i,i.m);else{var r=Gt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new xc(null,void 0);i&&rf(s,i),t&&(s.g=t),r&&sf(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&ci(i,e,t),ci(i,"VER",n.ma),Q4(n,i),i}function Y_(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ii(e&&n.Da&&!n.ra?new e3({jb:!0}):n.ra)).Ka(n.H),t}function X4(){}function Cf(){if(F4&&!(10<=Number(u_)))throw Error("Environmental error: no available transport.")}function gs(n,t){ji.call(this),this.g=new ep(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!F6(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!F6(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new s1(this)}function _a(n){N7.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function K_(){P7.call(this),this.status=1}function s1(n){this.g=n}(Mt=Ii.prototype).Ka=function(n){this.L=n},Mt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():O7.g(),this.C=function I_(n){return n.h||(n.h=n.i())}(this.u?this.u:O7),this.g.onreadystatechange=or(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void F_(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Gt.FormData&&n instanceof Gt.FormData,!(0<=O6(mk,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of e)this.g.setRequestHeader(s,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{U_(this),0<this.B&&((this.K=function R_(n){return F4&&function ew(){return function KM(n){var t=JM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=g7(String($h)).split("."),e=g7("9").split("."),i=Math.max(t.length,e.length);for(let l=0;0==n&&l<i;l++){var r=t[l]||"",s=e[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=qh(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||qh(0==r[2].length,0==s[2].length)||qh(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.qa,this)):this.A=V7(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){F_(this,s)}},Mt.qa=function(){typeof f7<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xi(this,"timeout"),this.abort(8))},Mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xi(this,"complete"),Xi(this,"abort"),Q7(this))},Mt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Q7(this,!0)),Ii.X.M.call(this)},Mt.Ha=function(){this.s||(this.F||this.v||this.l?Sw(this):this.fb())},Mt.fb=function(){Sw(this)},Mt.aa=function(){try{return 2<r1(this)?this.g.status:-1}catch{return-1}},Mt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Mt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),ww(t)}},Mt.Ea=function(){return this.m},Mt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Mt=ep.prototype).ma=8,Mt.G=1,Mt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Y6(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=w7(s),Yh(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=tp(this,r,t),ci(e=n1(this.F),"RID",n),ci(e,"CVER",22),this.D&&ci(e,"X-HTTP-Session-Id",this.D),Q4(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(J7(s)))+"&"+t:this.o&&ff(e,this.o,s)),W7(this.h,r),this.Ya&&ci(e,"TYPE","init"),this.O?(ci(e,"$req",t),ci(e,"SID","null"),r.Z=!0,B7(r,e,null)):B7(r,e,t),this.G=2}}else 3==this.G&&(n?K4(this,n):0==this.i.length||$7(this.h)||K4(this))},Mt.Ia=function(){if(this.u=null,q_(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Jh(or(this.eb,this),n)}},Mt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ls(10),mf(this),q_(this))},Mt.cb=function(){null!=this.v&&(this.v=null,mf(this),_f(this),Ls(19))},Mt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ls(2)):(this.j.info("Failed to ping google.com"),Ls(1))},(Mt=X4.prototype).xa=function(){},Mt.wa=function(){},Mt.va=function(){},Mt.ua=function(){},Mt.Ra=function(){},Cf.prototype.g=function(n,t){return new gs(n,t)},Cr(gs,ji),gs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Ls(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=Z_(n,null,n.V),gf(n)},gs.prototype.close=function(){pf(this.g)},gs.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=__(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&gf(t)},gs.prototype.M=function(){this.g.l=null,delete this.j,pf(this.g),delete this.g,gs.X.M.call(this)},Cr(_a,N7),Cr(K_,P7),Cr(s1,X4),s1.prototype.xa=function(){Xi(this.g,"a")},s1.prototype.wa=function(n){Xi(this.g,new _a(n))},s1.prototype.va=function(n){Xi(this.g,new K_)},s1.prototype.ua=function(){Xi(this.g,"b")},Cf.prototype.createWebChannel=Cf.prototype.g,gs.prototype.send=gs.prototype.u,gs.prototype.open=gs.prototype.m,gs.prototype.close=gs.prototype.close,W6.NO_ERROR=0,W6.TIMEOUT=8,W6.HTTP_ERROR=6,Z6.COMPLETE="complete",z7.EventType=t1,t1.OPEN="a",t1.CLOSE="b",t1.ERROR="c",t1.MESSAGE="d",ji.prototype.listen=ji.prototype.N,Ii.prototype.listenOnce=Ii.prototype.O,Ii.prototype.getLastError=Ii.prototype.Oa,Ii.prototype.getLastErrorCode=Ii.prototype.Ea,Ii.prototype.getStatus=Ii.prototype.aa,Ii.prototype.getResponseJson=Ii.prototype.Sa,Ii.prototype.getResponseText=Ii.prototype.fa,Ii.prototype.send=Ii.prototype.da,Ii.prototype.setWithCredentials=Ii.prototype.Ka;var rd=Xa.createWebChannelTransport=function(){return new Cf},xw=Xa.getStatEventTarget=function(){return q6()},ip=Xa.ErrorCode=W6,Ew=Xa.EventType=Z6,bf=Xa.Event=wc,sd=Xa.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Aw=Xa.FetchXmlHttpFactory=e3,Mf=Xa.WebChannel=z7,Q_=Xa.XhrIo=Ii;const rp="@firebase/firestore";class Ji{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ji.UNAUTHENTICATED=new Ji(null),Ji.GOOGLE_CREDENTIALS=new Ji("google-credentials-uid"),Ji.FIRST_PARTY=new Ji("first-party-uid"),Ji.MOCK_USER=new Ji("mock-user");let n3="9.15.0";const Tc=new Ui.Yd("@firebase/firestore");function sp(){return Tc.logLevel}function Re(n,...t){if(Tc.logLevel<=Ui.in.DEBUG){const e=t.map(od);Tc.debug(`Firestore (${n3}): ${n}`,...e)}}function mi(n,...t){if(Tc.logLevel<=Ui.in.ERROR){const e=t.map(od);Tc.error(`Firestore (${n3}): ${n}`,...e)}}function Ic(n,...t){if(Tc.logLevel<=Ui.in.WARN){const e=t.map(od);Tc.warn(`Firestore (${n3}): ${n}`,...e)}}function od(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const t=`FIRESTORE (${n3}) INTERNAL ASSERTION FAILED: `+n;throw mi(t),new Error(t)}function yt(n,t){n||at()}function et(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends P.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class op{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class X_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ji.UNAUTHENTICATED))}shutdown(){}}class J_{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ev{constructor(t){this.t=t,this.currentUser=Ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let l=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gi,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const v=l;t.enqueueRetryable((0,be.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},f=v=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(v=>f(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?f(v):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gi)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt("string"==typeof i.accessToken),new op(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return yt(null===t||"string"==typeof t),new Ji(t)}}class Iw{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Ji.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(yt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class tv{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new Iw(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ap{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kw{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.A;return this.A=s.token,Re("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(yt("string"==typeof e.token),this.A=e.token,new ap(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lw(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Kr{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Lw(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Ot(n,t){return n<t?-1:n>t?1:0}function J4(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function nv(n){return n+"\0"}class gi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ze(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ze(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ze(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return gi.fromMillis(Date.now())}static fromDate(t){return gi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new gi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(t){this.timestamp=t}static fromTimestamp(t){return new At(t)}static min(){return new At(new gi(0,0))}static max(){return new At(new gi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eu{constructor(t,e,i){void 0===e?e=0:e>t.length&&at(),void 0===i?i=t.length-e:i>t.length-e&&at(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===eu.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof eu?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),l=e.get(r);if(s<l)return-1;if(s>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class _n extends eu{construct(t,e,i){return new _n(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ze(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new _n(e)}static emptyPath(){return new _n([])}}const ad=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ki extends eu{construct(t,e,i){return new ki(t,e,i)}static isValidIdentifier(t){return ad.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ki.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ki(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new ze(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new ze(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new ze(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===d?(l=!l,r++):"."!==d||l?(i+=d,r++):(s(),r++)}if(s(),l)throw new ze(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ki(e)}static emptyPath(){return new ki([])}}class Qe{constructor(t){this.path=t}static fromPath(t){return new Qe(_n.fromString(t))}static fromName(t){return new Qe(_n.fromString(t).popFirst(5))}static empty(){return new Qe(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===_n.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return _n.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qe(new _n(t.slice()))}}class wf{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Sf(n){return n.fields.find(t=>2===t.kind)}function r3(n){return n.fields.filter(t=>2!==t.kind)}wf.UNKNOWN_ID=-1;class Df{constructor(t,e){this.fieldPath=t,this.kind=e}}class tu{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new tu(0,_s.min())}}function lp(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(1e9===i?new gi(e+1,0):new gi(e,i));return new _s(r,Qe.empty(),t)}function cd(n){return new _s(n.readTime,n.key,-1)}class _s{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new _s(At.min(),Qe.empty(),-1)}static max(){return new _s(At.max(),Qe.empty(),-1)}}function iv(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Qe.comparator(n.documentKey,t.documentKey),0!==e?e:Ot(n.largestBatchId,t.largestBatchId))}const up="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function o1(n){return kc.apply(this,arguments)}function kc(){return kc=(0,be.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==up)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),kc.apply(this,arguments)}class he{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new he((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof he?e:he.resolve(e)}catch(e){return he.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):he.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):he.reject(e)}static resolve(t){return new he((e,i)=>{e(t)})}static reject(t){return new he((e,i)=>{i(t)})}static waitFor(t){return new he((e,i)=>{let r=0,s=0,l=!1;t.forEach(d=>{++r,d.next(()=>{++s,l&&s===r&&e()},f=>i(f))}),l=!0,s===r&&e()})}static or(t){let e=he.resolve(!1);for(const i of t)e=e.next(r=>r?he.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new he((i,r)=>{const s=t.length,l=new Array(s);let d=0;for(let f=0;f<s;f++){const v=f;e(t[v]).next(b=>{l[v]=b,++d,d===s&&i(l)},b=>r(b))}})}static doWhile(t,e){return new he((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class ld{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Gi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new ud(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=xf(i.target.error);this.P.reject(new ud(t,r))}}static open(t,e,i,r){try{return new ld(e,t.transaction(r,i))}catch(s){throw new ud(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Re("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new zw(e)}}class to{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===to.D((0,P.z$)())&&mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Re("SimpleDb","Removing database:",t),o3(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,P.hl)())return!1;if(to.N())return!0;const t=(0,P.z$)(),e=to.D(t),i=0<e&&e<10,r=to.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,be.Z)(function*(){return e.db||(Re("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new ud(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const d=l.target.error;r("VersionError"===d.name?new ze(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new ze(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new ud(t,d))},s.onupgradeneeded=l=>{Re("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.S.$(l.target.result,s.transaction,l.oldVersion,e.version).next(()=>{Re("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,be.Z)(function*(){const l="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.F(t);const f=ld.open(s.db,t,l?"readonly":"readwrite",i),v=r(f).next(b=>(f.V(),b)).catch(b=>(f.abort(b),he.reject(b))).toPromise();return v.catch(()=>{}),yield f.v,v}catch(f){const v=f,b="FirebaseError"!==v.name&&d<3;if(Re("SimpleDb","Transaction failed with error:",v.message,"Retrying:",b),s.close(),!b)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _k{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return o3(this.q.delete())}}class ud extends ze{constructor(t,e){super(fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function s3(n){return"IndexedDbTransactionError"===n.name}class zw{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Re("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),o3(i)}add(t){return Re("SimpleDb","ADD",this.store.name,t,t),o3(this.store.add(t))}get(t){return o3(this.store.get(t)).next(e=>(void 0===e&&(e=null),Re("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Re("SimpleDb","DELETE",this.store.name,t),o3(this.store.delete(t))}count(){return Re("SimpleDb","COUNT",this.store.name),o3(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(l,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new he((s,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new he((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}Y(t,e){Re("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,l,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new he((i,r)=>{e.onerror=s=>{const l=xf(s.target.error);r(l)},e.onsuccess=s=>{const l=s.target.result;l?t(l.primaryKey,l.value).next(d=>{d?l.continue():i()}):i()}})}H(t,e){const i=[];return new he((r,s)=>{t.onerror=l=>{s(l.target.error)},t.onsuccess=l=>{const d=l.target.result;if(!d)return void r();const f=new _k(d),v=e(d.primaryKey,d.value,f);if(v instanceof he){const b=v.catch(S=>(f.done(),he.reject(S)));i.push(b)}f.isDone?r():null===f.G?d.continue():d.continue(f.G)}}).next(()=>he.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function o3(n){return new he((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=xf(i.target.error);e(r)}})}let sv=!1;function xf(n){const t=to.D((0,P.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sv||(sv=!0,setTimeout(()=>{throw i},0)),i}}return n}class ov{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Re("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,be.Z)(function*(){e.task=null;try{Re("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){s3(i)?Re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield o1(i)}yield e.nt(6e4)}))}}class Nw{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,be.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return he.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!i.has(l))return Re("IndexBackiller",`Processing collection: ${l}`),this.rt(t,l,r).next(d=>{r-=d,i.add(l)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.ot(r,s)).next(d=>(Re("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>l.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const l=cd(s);iv(l,i)>0&&(i=l)}),new _s(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Hs=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class av{constructor(t,e,i,r,s,l,d,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class Vc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Vc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Vc&&t.projectId===this.projectId&&t.database===this.database}}function cv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Lc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function lv(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function nu(n){return null==n}function iu(n){return 0===n&&1/n==-1/0}function dp(n){return"number"==typeof n&&Number.isInteger(n)&&!iu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ar{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ar(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new ar(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const Pw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function a3(n){if(yt(!!n),"string"==typeof n){let t=0;const e=Pw.exec(n);if(yt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:_i(n.seconds),nanos:_i(n.nanos)}}function _i(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ru(n){return"string"==typeof n?ar.fromBase64String(n):ar.fromUint8Array(n)}function dv(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Ow(n){const t=n.mapValue.fields.__previous_value__;return dv(t)?Ow(t):t}function Ef(n){const t=a3(n.mapValue.fields.__local_write_time__.timestampValue);return new gi(t.seconds,t.nanos)}const c3={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hp={nullValue:"NULL_VALUE"};function su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dv(n)?4:pv(n)?9007199254740991:10:at()}function a1(n,t){if(n===t)return!0;const e=su(n);if(e!==su(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ef(n).isEqual(Ef(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=a3(i.timestampValue),l=a3(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,ru(n.bytesValue).isEqual(ru(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return _i(i.geoPointValue.latitude)===_i(r.geoPointValue.latitude)&&_i(i.geoPointValue.longitude)===_i(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return _i(i.integerValue)===_i(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=_i(i.doubleValue),l=_i(r.doubleValue);return s===l?iu(s)===iu(l):isNaN(s)&&isNaN(l)}return!1}(n,t);case 9:return J4(n.arrayValue.values||[],t.arrayValue.values||[],a1);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(cv(s)!==cv(l))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===l[d]||!a1(s[d],l[d])))return!1;return!0}(n,t);default:return at()}var r}function Hc(n,t){return void 0!==(n.values||[]).find(e=>a1(e,t))}function l3(n,t){if(n===t)return 0;const e=su(n),i=su(t);if(e!==i)return Ot(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,t.booleanValue);case 2:return function(r,s){const l=_i(r.integerValue||r.doubleValue),d=_i(s.integerValue||s.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,t);case 3:return fp(n.timestampValue,t.timestampValue);case 4:return fp(Ef(n),Ef(t));case 5:return Ot(n.stringValue,t.stringValue);case 6:return function(r,s){const l=ru(r),d=ru(s);return l.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const l=r.split("/"),d=s.split("/");for(let f=0;f<l.length&&f<d.length;f++){const v=Ot(l[f],d[f]);if(0!==v)return v}return Ot(l.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const l=Ot(_i(r.latitude),_i(s.latitude));return 0!==l?l:Ot(_i(r.longitude),_i(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const l=r.values||[],d=s.values||[];for(let f=0;f<l.length&&f<d.length;++f){const v=l3(l[f],d[f]);if(v)return v}return Ot(l.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===c3.mapValue&&s===c3.mapValue)return 0;if(r===c3.mapValue)return 1;if(s===c3.mapValue)return-1;const l=r.fields||{},d=Object.keys(l),f=s.fields||{},v=Object.keys(f);d.sort(),v.sort();for(let b=0;b<d.length&&b<v.length;++b){const S=Ot(d[b],v[b]);if(0!==S)return S;const I=l3(l[d[b]],f[v[b]]);if(0!==I)return I}return Ot(d.length,v.length)}(n.mapValue,t.mapValue);default:throw at()}}function fp(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ot(n,t);const e=a3(n),i=a3(t),r=Ot(e.seconds,i.seconds);return 0!==r?r:Ot(e.nanos,i.nanos)}function c1(n){return Af(n)}function Af(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=a3(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ru(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=Af(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const d of r)l?l=!1:s+=",",s+=`${d}:${Af(i.fields[d])}`;return s+"}"}(n.mapValue):at();var t}function zc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function hv(n){return!!n&&"integerValue"in n}function u3(n){return!!n&&"arrayValue"in n}function pp(n){return!!n&&"nullValue"in n}function fv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dd(n){return!!n&&"mapValue"in n}function Tf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Lc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Tf(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tf(n.arrayValue.values[e]);return t}return Object.assign({},n)}function pv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rw(n){return"nullValue"in n?hp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?zc(Vc.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function Fw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?zc(Vc.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?c3:at()}function hd(n,t){const e=l3(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function mv(n,t){const e=l3(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class d3{constructor(t,e){this.position=t,this.inclusive=e}}function Bw(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],l=n.position[r];if(i=s.field.isKeyField()?Qe.comparator(Qe.fromName(l.referenceValue),e.key):l3(l,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Uw(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!a1(n.position[e],t.position[e]))return!1;return!0}class gv{}class dn extends gv{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Gw(t,e,i):"array-contains"===e?new $w(t,i):"in"===e?new vv(t,i):"not-in"===e?new vp(t,i):"array-contains-any"===e?new yv(t,i):new dn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Ho(t,i):new qw(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(l3(e,this.value)):null!==e&&su(this.value)===su(e)&&this.matchesComparison(l3(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pn extends gv{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Pn(t,e)}matches(t){return fd(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function fd(n){return"and"===n.op}function mp(n){return"or"===n.op}function gp(n){return _p(n)&&fd(n)}function _p(n){for(const t of n.filters)if(t instanceof Pn)return!1;return!0}function jw(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+c1(n.value);{const t=n.filters.map(e=>jw(e)).join(",");return`${n.op}(${t})`}}function Lo(n,t){return n instanceof dn?(e=n,(i=t)instanceof dn&&e.op===i.op&&e.field.isEqual(i.field)&&a1(e.value,i.value)):n instanceof Pn?function(e,i){return i instanceof Pn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,l)=>r&&Lo(s,i.filters[l]),!0)}(n,t):void at();var e,i}function _v(n,t){const e=n.filters.concat(t);return Pn.create(e,n.op)}function If(n){return n instanceof dn?`${(t=n).field.canonicalString()} ${t.op} ${c1(t.value)}`:n instanceof Pn?function(t){return t.op.toString()+" {"+t.getFilters().map(If).join(" ,")+"}"}(n):"Filter";var t}class Gw extends dn{constructor(t,e,i){super(t,e,i),this.key=Qe.fromName(i.referenceValue)}matches(t){const e=Qe.comparator(t.key,this.key);return this.matchesComparison(e)}}class Ho extends dn{constructor(t,e){super(t,"in",e),this.keys=kf(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class qw extends dn{constructor(t,e){super(t,"not-in",e),this.keys=kf(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function kf(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class $w extends dn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return u3(e)&&Hc(e.arrayValue,this.value)}}class vv extends dn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Hc(this.value.arrayValue,e)}}class vp extends dn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Hc(this.value.arrayValue,e)}}class yv extends dn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!u3(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Hc(this.value.arrayValue,i))}}class h3{constructor(t,e="asc"){this.field=t,this.dir=e}}function Ww(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class vi{constructor(t,e){this.comparator=t,this.root=e||zr.EMPTY}insert(t,e){return new vi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,zr.BLACK,null,null))}remove(t){return new vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pd(this.root,t,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pd(this.root,t,this.comparator,!0)}}class pd{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class zr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??zr.RED,this.left=r??zr.EMPTY,this.right=s??zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new zr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return zr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return zr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}zr.EMPTY=null,zr.RED=!0,zr.BLACK=!1,zr.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,t,e,i,r){return this}insert(n,t,e){return new zr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(t){this.comparator=t,this.data=new vi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(t){return new Cv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof On)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new On(this.comparator);return e.data=t,e}}class Cv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nc(n){return n.hasNext()?n.getNext():void 0}class er{constructor(t){this.fields=t,t.sort(ki.comparator)}static empty(){return new er([])}unionWith(t){let e=new On(ki.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new er(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return J4(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Mr{constructor(t){this.value=t}static empty(){return new Mr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!dd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tf(e)}setAll(t){let e=ki.emptyPath(),i={},r=[];t.forEach((l,d)=>{if(!e.isImmediateParentOf(d)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=d.popLast()}l?i[d.lastSegment()]=Tf(l):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());dd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return a1(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];dd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Lc(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Mr(Tf(this.value))}}function Vf(n){const t=[];return Lc(n.fields,(e,i)=>{const r=new ki([e]);if(dd(i)){const s=Vf(i.mapValue).fields;if(0===s.length)t.push(r);else for(const l of s)t.push(r.child(l))}else t.push(r)}),new er(t)}class Sn{constructor(t,e,i,r,s,l,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=d}static newInvalidDocument(t){return new Sn(t,0,At.min(),At.min(),At.min(),Mr.empty(),0)}static newFoundDocument(t,e,i,r){return new Sn(t,1,e,At.min(),i,r,0)}static newNoDocument(t,e){return new Sn(t,2,e,At.min(),At.min(),Mr.empty(),0)}static newUnknownDocument(t,e){return new Sn(t,3,e,At.min(),At.min(),Mr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zw{constructor(t,e=null,i=[],r=[],s=null,l=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=d,this.ft=null}}function bv(n,t=null,e=[],i=[],r=null,s=null,l=null){return new Zw(n,t,e,i,r,s,l)}function f3(n){const t=et(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>jw(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),nu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>c1(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>c1(i)).join(",")),t.ft=e}return t.ft}function md(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Ww(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Lo(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Uw(n.startAt,t.startAt)&&Uw(n.endAt,t.endAt)}function Lf(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Hf(n,t){return n.filters.filter(e=>e instanceof dn&&e.field.isEqual(t))}function yp(n,t,e){let i=hp,r=!0;for(const s of Hf(n,t)){let l=hp,d=!0;switch(s.op){case"<":case"<=":l=Rw(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,d=!1;break;case"!=":case"not-in":l=hp}hd({value:i,inclusive:r},{value:l,inclusive:d})<0&&(i=l,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const l=e.position[s];hd({value:i,inclusive:r},{value:l,inclusive:e.inclusive})<0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}function Yw(n,t,e){let i=c3,r=!0;for(const s of Hf(n,t)){let l=c3,d=!0;switch(s.op){case">=":case">":l=Fw(s.value),d=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,d=!1;break;case"!=":case"not-in":l=c3}mv({value:i,inclusive:r},{value:l,inclusive:d})>0&&(i=l,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const l=e.position[s];mv({value:i,inclusive:r},{value:l,inclusive:e.inclusive})>0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}class t2{constructor(t,e=null,i=[],r=[],s=null,l="F",d=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=f,this.dt=null,this._t=null}}function Mv(n,t,e,i,r,s,l,d){return new t2(n,t,e,i,r,s,l,d)}function p3(n){return new t2(n)}function Kw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function gd(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _d(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function zf(n){return null!==n.collectionGroup}function Pc(n){const t=et(n);if(null===t.dt){t.dt=[];const e=_d(t),i=gd(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new h3(e)),t.dt.push(new h3(ki.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new h3(ki.keyField(),s))}}}return t.dt}function Qr(n){const t=et(n);if(!t._t)if("F"===t.limitType)t._t=bv(t.path,t.collectionGroup,Pc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Pc(t))e.push(new h3(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new d3(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new d3(t.startAt.position,t.startAt.inclusive):null;t._t=bv(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function Nf(n,t){t.getFirstInequalityField(),_d(n);const e=n.filters.concat([t]);return new t2(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function m3(n,t,e){return new t2(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Oc(n,t){return md(Qr(n),Qr(t))&&n.limitType===t.limitType}function Cp(n){return`${f3(Qr(n))}|lt:${n.limitType}`}function bp(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>If(i)).join(", ")}]`),nu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>c1(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>c1(i)).join(",")),`Target(${e})`}(Qr(n))}; limitType=${n.limitType})`}function Pf(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Qe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Pc(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,l){const d=Bw(r,s,l);return r.inclusive?d<=0:d<0}(e.startAt,Pc(e),i)||e.endAt&&!function(r,s,l){const d=Bw(r,s,l);return r.inclusive?d>=0:d>0}(e.endAt,Pc(e),i)));var e,i}function Mp(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wv(n){return(t,e)=>{let i=!1;for(const r of Pc(n)){const s=Qw(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Qw(n,t,e){const i=n.field.isKeyField()?Qe.comparator(t.key,e.key):function(r,s,l){const d=s.data.field(r),f=l.data.field(r);return null!==d&&null!==f?l3(d,f):at()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}function Xw(n,t){if(n.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iu(t)?"-0":t}}function Jw(n){return{integerValue:""+n}}function wp(n,t){return dp(t)?Jw(t):Xw(n,t)}class Of{constructor(){this._=void 0}}function eS(n,t,e){return n instanceof vd?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof ou?iS(n,t):n instanceof au?Sv(n,t):function(i,r){const s=nS(i,r),l=Dv(s)+Dv(i.gt);return hv(s)&&hv(i.gt)?Jw(l):Xw(i.yt,l)}(n,t)}function tS(n,t,e){return n instanceof ou?iS(n,t):n instanceof au?Sv(n,t):e}function nS(n,t){return n instanceof l1?hv(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class vd extends Of{}class ou extends Of{constructor(t){super(),this.elements=t}}function iS(n,t){const e=xv(t);for(const i of n.elements)e.some(r=>a1(r,i))||e.push(i);return{arrayValue:{values:e}}}class au extends Of{constructor(t){super(),this.elements=t}}function Sv(n,t){let e=xv(t);for(const i of n.elements)e=e.filter(r=>!a1(r,i));return{arrayValue:{values:e}}}class l1 extends Of{constructor(t,e){super(),this.yt=t,this.gt=e}}function Dv(n){return _i(n.integerValue||n.doubleValue)}function xv(n){return u3(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cu{constructor(t,e){this.field=t,this.transform=e}}class Ev{constructor(t,e){this.version=t,this.transformResults=e}}class Wn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Wn}static exists(t){return new Wn(void 0,t)}static updateTime(t){return new Wn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lu(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Rf{}function Ff(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new uu(n.key,Wn.none()):new yd(n.key,n.data,Wn.none());{const e=n.data,i=Mr.empty();let r=new On(ki.comparator);for(let s of t.fields)if(!r.has(s)){let l=e.field(s);null===l&&s.length>1&&(s=s.popLast(),l=e.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new Fc(n.key,i,new er(r.toArray()),Wn.none())}}function Sp(n,t,e){n instanceof yd?function(i,r,s){const l=i.value.clone(),d=Av(i.fieldTransforms,r,s.transformResults);l.setAll(d),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):n instanceof Fc?function(i,r,s){if(!lu(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=Av(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(Dp(i)),d.setAll(l),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Rc(n,t,e,i){return n instanceof yd?function(r,s,l,d){if(!lu(r.precondition,s))return l;const f=r.value.clone(),v=Tv(r.fieldTransforms,d,s);return f.setAll(v),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Fc?function(r,s,l,d){if(!lu(r.precondition,s))return l;const f=Tv(r.fieldTransforms,d,s),v=s.data;return v.setAll(Dp(r)),v.setAll(f),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(l=e,lu(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function vk(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=nS(i.transform,r||null);null!=s&&(null===e&&(e=Mr.empty()),e.set(i.field,s))}return e||null}function rS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&J4(e,i,(r,s)=>function g3(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof ou&&i instanceof ou||e instanceof au&&i instanceof au?J4(e.elements,i.elements,a1):e instanceof l1&&i instanceof l1?a1(e.gt,i.gt):e instanceof vd&&i instanceof vd);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class yd extends Rf{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fc extends Rf{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Dp(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Av(n,t,e){const i=new Map;yt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],l=s.transform,d=t.data.field(s.field);i.set(s.field,tS(l,d,e[r]))}return i}function Tv(n,t,e){const i=new Map;for(const r of n){const s=r.transform,l=e.data.field(r.field);i.set(r.field,eS(s,l,t))}return i}class uu extends Rf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xp extends Rf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Iv{constructor(t){this.count=t}}var qi,vn;function kv(n){switch(n){default:return at();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function Vv(n){if(void 0===n)return mi("GRPC error has no .code"),fe.UNKNOWN;switch(n){case qi.OK:return fe.OK;case qi.CANCELLED:return fe.CANCELLED;case qi.UNKNOWN:return fe.UNKNOWN;case qi.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qi.INTERNAL:return fe.INTERNAL;case qi.UNAVAILABLE:return fe.UNAVAILABLE;case qi.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qi.NOT_FOUND:return fe.NOT_FOUND;case qi.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qi.ABORTED:return fe.ABORTED;case qi.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qi.DATA_LOSS:return fe.DATA_LOSS;default:return at()}}(vn=qi||(qi={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class u1{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Lc(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return lv(this.inner)}size(){return this.innerSize}}const Ep=new vi(Qe.comparator);function no(){return Ep}const Ap=new vi(Qe.comparator);function _3(...n){let t=Ap;for(const e of n)t=t.insert(e.key,e);return t}function Lv(n){let t=Ap;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function n2(){return Bf()}function sS(){return Bf()}function Bf(){return new u1(n=>n.toString(),(n,t)=>n.isEqual(t))}const oS=new vi(Qe.comparator),aS=new On(Qe.comparator);function Qt(...n){let t=aS;for(const e of n)t=t.add(e);return t}const yk=new On(Ot);function Tp(){return yk}class Uf{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,jf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Uf(At.min(),r,Tp(),no(),Qt())}}class jf{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new jf(i,e,Qt(),Qt(),Qt())}}class Ip{constructor(t,e,i,r){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=r}}class Hv{constructor(t,e){this.targetId=t,this.Et=e}}class cS{constructor(t,e,i=ar.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class lS{constructor(){this.At=0,this.Rt=dS(),this.bt=ar.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Qt(),e=Qt(),i=Qt();return this.Rt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:at()}}),new jf(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=dS()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Ck{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=no(),this.qt=uS(),this.Ut=new On(Ot)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:at()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((i,r)=>{this.zt(r)&&e(r)})}Jt(t){const e=t.targetId,i=t.Et.count,r=this.Yt(e);if(r){const s=r.target;if(Lf(s))if(0===i){const l=new Qe(s.path);this.Qt(e,l,Sn.newNoDocument(l,At.min()))}else yt(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach((s,l)=>{const d=this.Yt(l);if(d){if(s.current&&Lf(d.target)){const f=new Qe(d.target.path);null!==this.Lt.get(f)||this.te(l,f)||this.Qt(l,f,Sn.newNoDocument(f,t))}s.St&&(e.set(l,s.Ct()),s.xt())}});let i=Qt();this.qt.forEach((s,l)=>{let d=!0;l.forEachWhile(f=>{const v=this.Yt(f);return!v||2===v.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Lt.forEach((s,l)=>l.setReadTime(t));const r=new Uf(t,e,this.Ut,this.Lt,i);return this.Lt=no(),this.qt=uS(),this.Ut=new On(Ot),r}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new lS,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new On(Ot),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||Re("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new lS),this.$t.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function uS(){return new vi(Qe.comparator)}function dS(){return new vi(Qe.comparator)}const bk={asc:"ASCENDING",desc:"DESCENDING"},a={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c={and:"AND",or:"OR"};class u{constructor(t,e){this.databaseId=t,this.wt=e}}function h(n,t){return n.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function p(n,t){return n.wt?t.toBase64():t.toUint8Array()}function g(n,t){return h(n,t.toTimestamp())}function C(n){return yt(!!n),At.fromTimestamp(function(t){const e=a3(t);return new gi(e.seconds,e.nanos)}(n))}function w(n,t){return(e=n,new _n(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function D(n){const t=_n.fromString(n);return yt(Mk(t)),t}function T(n,t){return w(n.databaseId,t.path)}function L(n,t){const e=D(t);if(e.get(1)!==n.databaseId.projectId)throw new ze(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ze(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Qe(we(e))}function F(n,t){return w(n.databaseId,t)}function Y(n){const t=D(n);return 4===t.length?_n.emptyPath():we(t)}function se(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function we(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ue(n,t,e){return{name:T(n,t),fields:e.value.mapValue.fields}}function Xe(n,t,e){const i=L(n,t.name),r=C(t.updateTime),s=t.createTime?C(t.createTime):At.min(),l=new Mr({mapValue:{fields:t.fields}}),d=Sn.newFoundDocument(i,r,s,l);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function Ve(n,t){let e;if(t instanceof yd)e={update:Ue(n,t.key,t.value)};else if(t instanceof uu)e={delete:T(n,t.key)};else if(t instanceof Fc)e={update:Ue(n,t.key,t.data),updateMask:IZ(t.fieldMask)};else{if(!(t instanceof xp))return at();e={verify:T(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof vd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ou)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof au)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof l1)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw at()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:g(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:at()),e;var r}function Lt(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Wn.updateTime(C(r.updateTime)):void 0!==r.exists?Wn.exists(r.exists):Wn.none():Wn.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,l){let d=null;"setToServerValue"in l?(yt("REQUEST_TIME"===l.setToServerValue),d=new vd):"appendMissingElements"in l?d=new ou(l.appendMissingElements.values||[]):"removeAllFromArray"in l?d=new au(l.removeAllFromArray.values||[]):"increment"in l?d=new l1(s,l.increment):at();const f=ki.fromServerFormat(l.fieldPath);return new cu(f,d)}(n,r)):[];var r;if(t.update){const r=L(n,t.update.name),s=new Mr({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new er((t.updateMask.fieldPaths||[]).map(v=>ki.fromServerFormat(v)));return new Fc(r,s,l,e,i)}return new yd(r,s,e,i)}if(t.delete){const r=L(n,t.delete);return new uu(r,e)}if(t.verify){const r=L(n,t.verify);return new xp(r,e)}return at()}function ni(n,t){return{documents:[F(n,t.path)]}}function d1(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=F(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=F(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0!==f.length)return $f(Pn.create(f,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(v=>{return{field:Bc((b=v).field),direction:Vp(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const l=(v=t.limit,n.wt||nu(v)?v:{value:v});var v,d,f;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function Gf(n){let t=Y(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){yt(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let s=[];e.where&&(s=function(b){const S=qf(b);return S instanceof Pn&&gp(S)?S.getFilters():[S]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(b=>{return new h3(Uc((S=b).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let d=null;e.limit&&(d=function(b){let S;return S="object"==typeof b?b.value:b,nu(S)?null:S}(e.limit));let f=null;var b;e.startAt&&(f=new d3((b=e.startAt).values||[],!!b.before));let v=null;return e.endAt&&(v=function(b){return new d3(b.values||[],!b.before)}(e.endAt)),Mv(t,r,l,s,d,"F",f,v)}function qf(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Uc(t.unaryFilter.field);return dn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Uc(t.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Uc(t.unaryFilter.field);return dn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Uc(t.unaryFilter.field);return dn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?dn.create(Uc((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Pn.create(t.compositeFilter.filters.map(e=>qf(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return at()}}(t.compositeFilter.op))}(n):at();var t}function Vp(n){return bk[n]}function Lp(n){return a[n]}function Hp(n){return c[n]}function Bc(n){return{fieldPath:n.canonicalString()}}function Uc(n){return ki.fromServerFormat(n.fieldPath)}function $f(n){return n instanceof dn?function(t){if("=="===t.op){if(fv(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NAN"}};if(pp(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fv(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NOT_NAN"}};if(pp(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(t.field),op:Lp(t.op),value:t.value}}}(n):n instanceof Pn?function(t){const e=t.getFilters().map(i=>$f(i));return 1===e.length?e[0]:{compositeFilter:{op:Hp(t.op),filters:e}}}(n):at()}function IZ(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Mk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function io(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=wk(t)),t=kZ(n.get(e),t);return wk(t)}function kZ(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function wk(n){return n+"\x01\x01"}function jc(n){const t=n.length;if(yt(t>=2),2===t)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_n.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const l=n.indexOf("\x01",s);switch((l<0||l>e)&&at(),n.charAt(l+1)){case"\x01":const d=n.substring(s,l);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:at()}s=l+2}return new _n(i)}const Sk=["userId","batchId"];function zv(n,t){return[n,io(t)]}function Dk(n,t,e){return[n,io(t),e]}const VZ={},LZ=["prefixPath","collectionGroup","readTime","documentId"],HZ=["prefixPath","collectionGroup","documentId"],zZ=["collectionGroup","readTime","prefixPath","documentId"],NZ=["canonicalId","targetId"],PZ=["targetId","path"],OZ=["path","targetId"],RZ=["collectionId","parent"],FZ=["indexId","uid"],BZ=["uid","sequenceNumber"],UZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jZ=["indexId","uid","orderedDocumentKey"],GZ=["userId","collectionPath","documentId"],qZ=["userId","collectionPath","largestBatchId"],$Z=["userId","collectionGroup","largestBatchId"],xk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],WZ=[...xk,"documentOverlays"],Ek=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ak=Ek,ZZ=[...Ak,"indexConfiguration","indexState","indexEntries"];class hS extends rv{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function Xr(n,t){const e=et(n);return to.M(e.se,t)}class fS{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Sp(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Rc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Rc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=sS();return this.mutations.forEach(r=>{const s=t.get(r.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=e.has(r.key)?null:d;const f=Ff(l,d);null!==f&&i.set(r.key,f),l.isValidDocument()||l.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Qt())}isEqual(t){return this.batchId===t.batchId&&J4(this.mutations,t.mutations,(e,i)=>rS(e,i))&&J4(this.baseMutations,t.baseMutations,(e,i)=>rS(e,i))}}class pS{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){yt(t.mutations.length===i.length);let r=oS;const s=t.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new pS(t,e,i,r)}}class mS{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class du{constructor(t,e,i,r,s=At.min(),l=At.min(),d=ar.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d}withSequenceNumber(t){return new du(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Tk{constructor(t){this.ie=t}}function Ik(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Nv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:T(r=n.ie,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:h(r,s.version.toTimestamp()),createTime:h(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Cd(t.version)};else{if(!t.isUnknownDocument())return at();i.unknownDocument={path:e.path.toArray(),version:Cd(t.version)}}var r,s;return i}function Nv(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Cd(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function bd(n){const t=new gi(n.seconds,n.nanoseconds);return At.fromTimestamp(t)}function Md(n,t){const e=(t.baseMutations||[]).map(s=>Lt(n.ie,s));for(let s=0;s<t.mutations.length-1;++s){const l=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(l.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>Lt(n.ie,s)),r=gi.fromMillis(t.localWriteTimeMs);return new fS(t.batchId,r,e,i)}function zp(n){const t=bd(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?bd(n.lastLimboFreeSnapshotVersion):At.min();let i;var r;return void 0!==n.query.documents?(yt(1===(r=n.query).documents.length),i=Qr(p3(Y(r.documents[0])))):i=Qr(Gf(n.query)),new du(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ar.fromBase64String(n.resumeToken))}function kk(n,t){const e=Cd(t.snapshotVersion),i=Cd(t.lastLimboFreeSnapshotVersion);let r;r=Lf(t.target)?ni(n.ie,t.target):d1(n.ie,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:f3(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function gS(n){const t=Gf({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?m3(t,t.limit,"L"):t}function _S(n,t){return new mS(t.largestBatchId,Lt(n.ie,t.overlayMutation))}function Vk(n,t){const e=t.path.lastSegment();return[n,io(t.path.popLast()),e]}function Lk(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Cd(i.readTime),documentKey:io(i.documentKey.path),largestBatchId:i.largestBatchId}}class KZ{getBundleMetadata(t,e){return Hk(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:bd(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return Hk(t).put({bundleId:(i=e).id,createTime:Cd(C(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return zk(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:gS(r.bundledQuery),readTime:bd(r.readTime)};var r})}saveNamedQuery(t,e){return zk(t).put({name:(i=e).name,readTime:Cd(C(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Hk(n){return Xr(n,"bundles")}function zk(n){return Xr(n,"namedQueries")}class Pv{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){return new Pv(t,e.uid||"")}getOverlay(t,e){return Np(t).get(Vk(this.userId,e)).next(i=>i?_S(this.yt,i):null)}getOverlays(t,e){const i=n2();return he.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,l)=>{const d=new mS(e,l);r.push(this.oe(t,d))}),he.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(l=>r.add(io(l.getCollectionPath())));const s=[];return r.forEach(l=>{const d=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(Np(t).Y("collectionPathOverlayIndex",d))}),he.waitFor(s)}getOverlaysForCollection(t,e,i){const r=n2(),s=io(e),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Np(t).W("collectionPathOverlayIndex",l).next(d=>{for(const f of d){const v=_S(this.yt,f);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=n2();let l;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Np(t).Z({index:"collectionGroupOverlayIndex",range:d},(f,v,b)=>{const S=_S(this.yt,v);s.size()<r||S.largestBatchId===l?(s.set(S.getKey(),S),l=S.largestBatchId):b.done()}).next(()=>s)}oe(t,e){return Np(t).put(function(i,r,s){const[l,d,f]=Vk(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ve(i.ie,s.mutation)}}(this.yt,this.userId,e))}}function Np(n){return Xr(n,"documentOverlays")}class wd{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(_i(t.integerValue));else if("doubleValue"in t){const i=_i(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),iu(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(ru(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?pv(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):at()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const r of Object.keys(i))this.de(r,e),this.ce(i[r],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const r of i)this.ce(r,e)}me(t,e){this.he(e,37),Qe.fromName(t).path.forEach(i=>{this.he(e,60),this.pe(i,e)})}he(t,e){t.le(e)}_e(t){t.le(2)}}function QZ(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function Nk(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=QZ(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}wd.Ie=new wd;class XZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ee(i.value),i=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Pe()}ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=e.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(t){const e=this.De(t),i=Nk(e);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}xe(t){const e=this.De(t),i=Nk(e);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class JZ{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class eY{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class Pp{constructor(){this.$e=new XZ,this.Be=new JZ(this.$e),this.Le=new eY(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Sd{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Sd(this.indexId,this.documentKey,this.arrayValue,i)}}function hu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Pk(n.arrayValue,t.arrayValue),0!==e?e:(e=Pk(n.directionalValue,t.directionalValue),0!==e?e:Qe.comparator(n.documentKey,t.documentKey)))}function Pk(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class tY{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const i=e;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(t){yt(t.collectionGroup===this.collectionId);const e=Sf(t);if(void 0!==e&&!this.We(e))return!1;const i=r3(t);let r=0,s=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const l=i[r];if(!this.ze(this.Qe,l)||!this.He(this.Ke[s++],l))return!1;++r}for(;r<i.length;++r){const l=i[r];if(s>=this.Ke.length||!this.He(this.Ke[s++],l))return!1}return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function Ok(n){var t,e;if(yt(n instanceof dn||n instanceof Pn),n instanceof dn){if(n instanceof vv){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>dn.create(n.field,"==",s)))||[];return Pn.create(r,"or")}return n}const i=n.filters.map(r=>Ok(r));return Pn.create(i,n.op)}function nY(n){if(0===n.getFilters().length)return[];const t=CS(Ok(n));return yt(Rk(t)),vS(t)||yS(t)?[t]:t.getFilters()}function vS(n){return n instanceof dn}function yS(n){return n instanceof Pn&&gp(n)}function Rk(n){return vS(n)||yS(n)||function(t){if(t instanceof Pn&&mp(t)){for(const e of t.getFilters())if(!vS(e)&&!yS(e))return!1;return!0}return!1}(n)}function CS(n){if(yt(n instanceof dn||n instanceof Pn),n instanceof dn)return n;if(1===n.filters.length)return CS(n.filters[0]);const t=n.filters.map(i=>CS(i));let e=Pn.create(t,n.op);return e=Ov(e),Rk(e)?e:(yt(e instanceof Pn),yt(fd(e)),yt(e.filters.length>1),e.filters.reduce((i,r)=>bS(i,r)))}function bS(n,t){let e;return yt(n instanceof dn||n instanceof Pn),yt(t instanceof dn||t instanceof Pn),e=n instanceof dn?t instanceof dn?Pn.create([n,t],"and"):Fk(n,t):t instanceof dn?Fk(t,n):function(i,r){if(yt(i.filters.length>0&&r.filters.length>0),fd(i)&&fd(r))return _v(i,r.getFilters());const s=mp(i)?i:r,l=mp(i)?r:i,d=s.filters.map(f=>bS(f,l));return Pn.create(d,"or")}(n,t),Ov(e)}function Fk(n,t){if(fd(t))return _v(t,n.getFilters());{const e=t.filters.map(i=>bS(n,i));return Pn.create(e,"or")}}function Ov(n){if(yt(n instanceof dn||n instanceof Pn),n instanceof dn)return n;const t=n.getFilters();if(1===t.length)return Ov(t[0]);if(_p(n))return n;const e=t.map(r=>Ov(r)),i=[];return e.forEach(r=>{r instanceof dn?i.push(r):r instanceof Pn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Pn.create(i,n.op)}class iY{constructor(){this.Je=new MS}addToCollectionParentIndex(t,e){return this.Je.add(e),he.resolve()}getCollectionParents(t,e){return he.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return he.resolve()}deleteFieldIndex(t,e){return he.resolve()}getDocumentsMatchingTarget(t,e){return he.resolve(null)}getIndexType(t,e){return he.resolve(0)}getFieldIndexes(t,e){return he.resolve([])}getNextCollectionGroupToUpdate(t){return he.resolve(null)}getMinOffset(t,e){return he.resolve(_s.min())}getMinOffsetFromCollectionGroup(t,e){return he.resolve(_s.min())}updateCollectionGroup(t,e,i){return he.resolve()}updateIndexEntries(t,e){return he.resolve()}}class MS{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new On(_n.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new On(_n.comparator)).toArray()}}const Rv=new Uint8Array(0);class rY{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new MS,this.Xe=new u1(i=>f3(i),(i,r)=>md(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ye.add(e)});const s={collectionId:i,parent:io(r)};return Bk(t).put(s)}return he.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[nv(e),""],!1,!0);return Bk(t).W(r).next(s=>{for(const l of s){if(l.collectionId!==e)break;i.push(jc(l.parent))}return i})}addFieldIndex(t,e){const i=Fv(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;delete r.indexId;const s=i.add(r);if(e.indexState){const l=Rp(t);return s.next(d=>{l.put(Lk(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=Fv(t),r=Rp(t),s=Op(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Op(t);let r=!0;const s=new Map;return he.forEach(this.Ze(e),l=>this.tn(t,l).next(d=>{r&&(r=!!d),s.set(l,d)})).next(()=>{if(r){let l=Qt();const d=[];return he.forEach(s,(f,v)=>{var b;Re("IndexedDbIndexManager",`Using index ${b=f,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Oe=>`${Oe.fieldPath}:${Oe.kind}`).join(",")}`} to execute ${f3(e)}`);const S=function(Oe,je){const rt=Sf(je);if(void 0===rt)return null;for(const mt of Hf(Oe,rt.fieldPath))switch(mt.op){case"array-contains-any":return mt.value.arrayValue.values||[];case"array-contains":return[mt.value]}return null}(v,f),I=function(Oe,je){const rt=new Map;for(const mt of r3(je))for(const qt of Hf(Oe,mt.fieldPath))switch(qt.op){case"==":case"in":rt.set(mt.fieldPath.canonicalString(),qt.value);break;case"not-in":case"!=":return rt.set(mt.fieldPath.canonicalString(),qt.value),Array.from(rt.values())}return null}(v,f),H=function(Oe,je){const rt=[];let mt=!0;for(const qt of r3(je)){const wi=0===qt.kind?yp(Oe,qt.fieldPath,Oe.startAt):Yw(Oe,qt.fieldPath,Oe.startAt);rt.push(wi.value),mt&&(mt=wi.inclusive)}return new d3(rt,mt)}(v,f),N=function(Oe,je){const rt=[];let mt=!0;for(const qt of r3(je)){const wi=0===qt.kind?Yw(Oe,qt.fieldPath,Oe.endAt):yp(Oe,qt.fieldPath,Oe.endAt);rt.push(wi.value),mt&&(mt=wi.inclusive)}return new d3(rt,mt)}(v,f),j=this.en(f,v,H),J=this.en(f,v,N),De=this.nn(f,v,I),Pe=this.sn(f.indexId,S,j,H.inclusive,J,N.inclusive,De);return he.forEach(Pe,Oe=>i.J(Oe,e.limit).next(je=>{je.forEach(rt=>{const mt=Qe.fromSegments(rt.documentKey);l.has(mt)||(l=l.add(mt),d.push(mt))})}))}).next(()=>d)}return he.resolve(null)})}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:nY(Pn.create(t.filters,"and")).map(i=>bv(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,e),e)}sn(t,e,i,r,s,l,d){const f=(null!=e?e.length:1)*Math.max(i.length,s.length),v=f/(null!=e?e.length:1),b=[];for(let S=0;S<f;++S){const I=e?this.rn(e[S/v]):Rv,H=this.on(t,I,i[S%v],r),N=this.un(t,I,s[S%v],l),j=d.map(J=>this.on(t,I,J,!0));b.push(...this.createRange(H,N,j))}return b}on(t,e,i,r){const s=new Sd(t,Qe.empty(),e,i);return r?s:s.Ue()}un(t,e,i,r){const s=new Sd(t,Qe.empty(),e,i);return r?s.Ue():s}tn(t,e){const i=new tY(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let l=null;for(const d of s)i.je(d)&&(!l||d.fields.length>l.fields.length)&&(l=d);return l})}getIndexType(t,e){let i=2;const r=this.Ze(e);return he.forEach(r,s=>this.tn(t,s).next(l=>{l?0!==i&&l.fields.length<function(d){let f=new On(ki.comparator),v=!1;for(const b of d.filters)for(const S of b.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:f=f.add(S.field));for(const b of d.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(v?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}cn(t,e){const i=new Pp;for(const r of r3(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const l=i.qe(r.kind);wd.Ie.ue(s,l)}return i.Fe()}rn(t){const e=new Pp;return wd.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const i=new Pp;return wd.Ie.ue(zc(this.databaseId,e),i.qe(function(r){const s=r3(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Fe()}nn(t,e,i){if(null===i)return[];let r=[];r.push(new Pp);let s=0;for(const l of r3(t)){const d=i[s++];for(const f of r)if(this.hn(e,l.fieldPath)&&u3(d))r=this.ln(r,l,d);else{const v=f.qe(l.kind);wd.Ie.ue(d,v)}}return this.fn(r)}en(t,e,i){return this.nn(t,e,i.position)}fn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Fe();return e}ln(t,e,i){const r=[...t],s=[];for(const l of i.arrayValue.values||[])for(const d of r){const f=new Pp;f.seed(d.Fe()),wd.Ie.ue(l,f.qe(e.kind)),s.push(f)}return s}hn(t,e){return!!t.filters.find(i=>i instanceof dn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Fv(t),r=Rp(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const l=[];return he.forEach(s,d=>r.get([d.indexId,this.uid]).next(f=>{l.push(function(v,b){const S=b?new tu(b.sequenceNumber,new _s(bd(b.readTime),new Qe(jc(b.documentKey)),b.largestBatchId)):tu.empty(),I=v.fields.map(([H,N])=>new Df(ki.fromServerFormat(H),N));return new wf(v.indexId,v.collectionGroup,I,S)}(d,f))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Ot(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Fv(t),s=Rp(t);return this.dn(t).next(l=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>he.forEach(d,f=>s.put(Lk(f.indexId,this.user,l,i)))))}updateIndexEntries(t,e){const i=new Map;return he.forEach(e,(r,s)=>{const l=i.get(r.collectionGroup);return(l?he.resolve(l):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),he.forEach(d,f=>this._n(t,r,f).next(v=>{const b=this.wn(s,f);return v.isEqual(b)?he.resolve():this.mn(t,s,f,v,b)}))))})}gn(t,e,i,r){return Op(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,e.key),documentKey:e.key.path.toArray()})}yn(t,e,i,r){return Op(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,e.key),e.key.path.toArray()])}_n(t,e,i){const r=Op(t);let s=new On(hu);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,e)])},(l,d)=>{s=s.add(new Sd(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}wn(t,e){let i=new On(hu);const r=this.cn(e,t);if(null==r)return i;const s=Sf(e);if(null!=s){const l=t.data.field(s.fieldPath);if(u3(l))for(const d of l.arrayValue.values||[])i=i.add(new Sd(e.indexId,t.key,this.rn(d),r))}else i=i.add(new Sd(e.indexId,t.key,Rv,r));return i}mn(t,e,i,r,s){Re("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(d,f,v,b,S){const I=d.getIterator(),H=f.getIterator();let N=Nc(I),j=Nc(H);for(;N||j;){let J=!1,De=!1;if(N&&j){const Pe=v(N,j);Pe<0?De=!0:Pe>0&&(J=!0)}else null!=N?De=!0:J=!0;J?(b(j),j=Nc(H)):De?(S(N),N=Nc(I)):(N=Nc(I),j=Nc(H))}}(r,s,hu,d=>{l.push(this.gn(t,e,i,d))},d=>{l.push(this.yn(t,e,i,d))}),he.waitFor(l)}dn(t){let e=1;return Rp(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((l,d)=>hu(l,d)).filter((l,d,f)=>!d||0!==hu(l,f[d-1]));const r=[];r.push(t);for(const l of i){const d=hu(l,t),f=hu(l,e);if(0===d)r[0]=t.Ue();else if(d>0&&f<0)r.push(l),r.push(l.Ue());else if(f>0)break}r.push(e);const s=[];for(let l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Rv,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Rv,[]]))}return s}pn(t,e){return hu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Uk)}getMinOffset(t,e){return he.mapArray(this.Ze(e),i=>this.tn(t,i).next(r=>r||at())).next(Uk)}}function Bk(n){return Xr(n,"collectionParents")}function Op(n){return Xr(n,"indexEntries")}function Fv(n){return Xr(n,"indexConfiguration")}function Rp(n){return Xr(n,"indexState")}function Uk(n){yt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;iv(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new _s(t.readTime,t.documentKey,e)}const jk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new zo(t,zo.DEFAULT_COLLECTION_PERCENTILE,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gk(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(e.batchId);let d=0;const f=i.Z({range:l},(b,S,I)=>(d++,I.delete()));s.push(f.next(()=>{yt(1===d)}));const v=[];for(const b of e.mutations){const S=Dk(t,b.key.path,e.batchId);s.push(r.delete(S)),v.push(b.key)}return he.waitFor(s).next(()=>v)}function Bv(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw at();t=n.noDocument}return JSON.stringify(t).length}zo.DEFAULT_COLLECTION_PERCENTILE=10,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zo.DEFAULT=new zo(41943040,zo.DEFAULT_COLLECTION_PERCENTILE,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zo.DISABLED=new zo(-1,0,0);class Uv{constructor(t,e,i,r){this.userId=t,this.yt=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(t,e,i,r){yt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new Uv(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fu(t).Z({index:"userMutationsIndex",range:i},(r,s,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Wf(t),l=fu(t);return l.add({}).next(d=>{yt("number"==typeof d);const f=new fS(d,e,i,r),v=function(I,H,N){const j=N.baseMutations.map(De=>Ve(I.ie,De)),J=N.mutations.map(De=>Ve(I.ie,De));return{userId:H,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:j,mutations:J}}(this.yt,this.userId,f),b=[];let S=new On((I,H)=>Ot(I.canonicalString(),H.canonicalString()));for(const I of r){const H=Dk(this.userId,I.key.path,d);S=S.add(I.key.path.popLast()),b.push(l.put(v)),b.push(s.put(H,VZ))}return S.forEach(I=>{b.push(this.indexManager.addToCollectionParentIndex(t,I))}),t.addOnCommittedListener(()=>{this.In[d]=f.keys()}),he.waitFor(b).next(()=>f)})}lookupMutationBatch(t,e){return fu(t).get(e).next(i=>i?(yt(i.userId===this.userId),Md(this.yt,i)):null)}Tn(t,e){return this.In[e]?he.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return fu(t).Z({index:"userMutationsIndex",range:r},(l,d,f)=>{d.userId===this.userId&&(yt(d.batchId>=i),s=Md(this.yt,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return fu(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fu(t).W("userMutationsIndex",e).next(i=>i.map(r=>Md(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=zv(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Wf(t).Z({range:r},(l,d,f)=>{const[v,b,S]=l,I=jc(b);if(v===this.userId&&e.path.isEqual(I))return fu(t).get(S).next(H=>{if(!H)throw at();yt(H.userId===this.userId),s.push(Md(this.yt,H))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new On(Ot);const r=[];return e.forEach(s=>{const l=zv(this.userId,s.path),d=IDBKeyRange.lowerBound(l),f=Wf(t).Z({range:d},(v,b,S)=>{const[I,H,N]=v,j=jc(H);I===this.userId&&s.path.isEqual(j)?i=i.add(N):S.done()});r.push(f)}),he.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=zv(this.userId,i),l=IDBKeyRange.lowerBound(s);let d=new On(Ot);return Wf(t).Z({range:l},(f,v,b)=>{const[S,I,H]=f,N=jc(I);S===this.userId&&i.isPrefixOf(N)?N.length===r&&(d=d.add(H)):b.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(fu(t).get(s).next(l=>{if(null===l)throw at();yt(l.userId===this.userId),i.push(Md(this.yt,l))}))}),he.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return Gk(t.se,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),he.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return he.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Wf(t).Z({range:i},(s,l,d)=>{if(s[0]===this.userId){const f=jc(s[1]);r.push(f)}else d.done()}).next(()=>{yt(0===r.length)})})}containsKey(t,e){return qk(t,this.userId,e)}Rn(t){return $k(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qk(n,t,e){const i=zv(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return Wf(n).Z({range:s,X:!0},(d,f,v)=>{const[b,S,I]=d;b===t&&S===r&&(l=!0),v.done()}).next(()=>l)}function fu(n){return Xr(n,"mutations")}function Wf(n){return Xr(n,"documentMutations")}function $k(n){return Xr(n,"mutationQueues")}class Dd{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Dd(0)}static vn(){return new Dd(-1)}}class sY{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Dd(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>At.fromTimestamp(new gi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Zf(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(yt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return Zf(t).Z((l,d)=>{const f=zp(d);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(t,f)))}).next(()=>he.waitFor(s)).next(()=>r)}forEachTarget(t,e){return Zf(t).Z((i,r)=>{const s=zp(r);e(s)})}Vn(t){return Wk(t).get("targetGlobalKey").next(e=>(yt(null!==e),e))}Sn(t,e){return Wk(t).put("targetGlobalKey",e)}Dn(t,e){return Zf(t).put(kk(this.yt,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=f3(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Zf(t).Z({range:r,index:"queryTargetsIndex"},(l,d,f)=>{const v=zp(d);md(e,v.target)&&(s=v,f.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=pu(t);return e.forEach(l=>{const d=io(l.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,l))}),he.waitFor(r)}removeMatchingKeys(t,e,i){const r=pu(t);return he.forEach(e,s=>{const l=io(s.path);return he.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=pu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=pu(t);let s=Qt();return r.Z({range:i,X:!0},(l,d,f)=>{const v=jc(l[1]),b=new Qe(v);s=s.add(b)}).next(()=>s)}containsKey(t,e){const i=io(e.path),r=IDBKeyRange.bound([i],[nv(i)],!1,!0);let s=0;return pu(t).Z({index:"documentTargetsIndex",X:!0,range:r},([l,d],f,v)=>{0!==l&&(s++,v.done())}).next(()=>s>0)}ne(t,e){return Zf(t).get(e).next(i=>i?zp(i):null)}}function Zf(n){return Xr(n,"targets")}function Wk(n){return Xr(n,"targetGlobal")}function pu(n){return Xr(n,"targetDocuments")}function Zk([n,t],[e,i]){const r=Ot(n,e);return 0===r?Ot(t,i):r}class oY{constructor(t){this.xn=t,this.buffer=new On(Zk),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Zk(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class aY{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Re("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,be.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){s3(i)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield o1(i)}yield e.Fn(3e5)}))}}class cY{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return he.resolve(Hs.at);const i=new oY(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(jk)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jk):this.qn(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let i,r,s,l,d,f,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,l=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,d=Date.now(),this.removeTargets(t,i,e))).next(S=>(s=S,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(v=Date.now(),sp()<=Ui.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${r} in `+(d-l)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${S} documents in `+(v-f)+`ms\nTotal Duration: ${v-b}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class lY{constructor(t,e){this.db=t,this.garbageCollector=new cY(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Un(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return jv(t,i)}removeReference(t,e,i){return jv(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return jv(t,e)}Gn(t,e){return function(i,r){let s=!1;return $k(i).tt(l=>qk(i,l,r).next(d=>(d&&(s=!0),he.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(l,d)=>{if(d<=e){const f=this.Gn(t,l).next(v=>{if(!v)return s++,i.getEntry(t,l).next(()=>(i.removeEntry(l,At.min()),pu(t).delete([0,io(l.path)])))});r.push(f)}}).next(()=>he.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return jv(t,e)}Kn(t,e){const i=pu(t);let r,s=Hs.at;return i.Z({index:"documentTargetsIndex"},([l,d],{path:f,sequenceNumber:v})=>{0===l?(s!==Hs.at&&e(new Qe(jc(r)),s),s=v,r=f):s=Hs.at}).next(()=>{s!==Hs.at&&e(new Qe(jc(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function jv(n,t){return pu(n).put((i=n.currentSequenceNumber,{targetId:0,path:io(t.path),sequenceNumber:i}));var i}class Yk{constructor(){this.changes=new u1(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?he.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class uY{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return xd(t).put(i)}removeEntry(t,e,i){return xd(t).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Nv(s),l[l.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Sn.newInvalidDocument(e);return xd(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fp(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:Sn.newInvalidDocument(e)};return xd(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fp(e))},(r,s)=>{i={document:this.jn(e,s),size:Bv(s)}}).next(()=>i)}getEntries(t,e){let i=no();return this.zn(t,e,(r,s)=>{const l=this.jn(r,s);i=i.insert(r,l)}).next(()=>i)}Hn(t,e){let i=no(),r=new vi(Qe.comparator);return this.zn(t,e,(s,l)=>{const d=this.jn(s,l);i=i.insert(s,d),r=r.insert(s,Bv(l))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return he.resolve();let r=new On(Jk);e.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(Fp(r.first()),Fp(r.last())),l=r.getIterator();let d=l.getNext();return xd(t).Z({index:"documentKeyIndex",range:s},(f,v,b)=>{const S=Qe.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;d&&Jk(d,S)<0;)i(d,null),d=l.getNext();d&&d.isEqual(S)&&(i(d,v),d=l.hasNext()?l.getNext():null),d?b.j(Fp(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=l.hasNext()?l.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),Nv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xd(t).W(IDBKeyRange.bound(r,s,!0)).next(l=>{let d=no();for(const f of l){const v=this.jn(Qe.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d=d.insert(v.key,v)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=no();const l=Xk(e,i),d=Xk(e,_s.max());return xd(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,d,!0)},(f,v,b)=>{const S=this.jn(Qe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(S.key,S),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(t){return new dY(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Qk(t).get("remoteDocumentGlobalKey").next(e=>(yt(!!e),e))}Qn(t,e){return Qk(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function YZ(n,t){let e;if(t.document)e=Xe(n.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Qe.fromSegments(t.noDocument.path),r=bd(t.noDocument.readTime);e=Sn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return at();{const i=Qe.fromSegments(t.unknownDocument.path),r=bd(t.unknownDocument.version);e=Sn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new gi(i[0],i[1]);return At.fromTimestamp(r)}(t.readTime)),e}(this.yt,e);if(!i.isNoDocument()||!i.version.isEqual(At.min()))return i}return Sn.newInvalidDocument(t)}}function Kk(n){return new uY(n)}class dY extends Yk{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new u1(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new On((s,l)=>Ot(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const d=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,d.readTime)),l.isValidDocument()){const f=Ik(this.Yn.yt,l);r=r.add(s.path.popLast()),i+=Bv(f)-d.size,e.push(this.Yn.addEntry(t,s,f))}else if(i-=d.size,this.trackRemovals){const f=Ik(this.Yn.yt,l.convertToNoDocument(At.min()));e.push(this.Yn.addEntry(t,s,f))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),he.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,l)=>{this.Xn.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function Qk(n){return Xr(n,"remoteDocumentGlobal")}function xd(n){return Xr(n,"remoteDocumentsV14")}function Fp(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Xk(n,t){const e=t.documentKey.path.toArray();return[n,Nv(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Jk(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Ot(e[s],i[s]),r)return r;return r=Ot(e.length,i.length),r||(r=Ot(e[e.length-2],i[i.length-2]),r||Ot(e[e.length-1],i[i.length-1]))}class hY{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class eV{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Rc(i.mutation,r,er.empty(),gi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Qt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Qt()){const r=n2();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let l=_3();return s.forEach((d,f)=>{l=l.insert(d,f.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=n2();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Qt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((l,d)=>{e.set(l,d)})})}computeViews(t,e,i,r){let s=no();const l=Bf(),d=Bf();return e.forEach((f,v)=>{const b=i.get(v.key);r.has(v.key)&&(void 0===b||b.mutation instanceof Fc)?s=s.insert(v.key,v):void 0!==b&&(l.set(v.key,b.mutation.getFieldMask()),Rc(b.mutation,v,b.mutation.getFieldMask(),gi.now()))}),this.recalculateAndSaveOverlays(t,s).next(f=>(f.forEach((v,b)=>l.set(v,b)),e.forEach((v,b)=>{var S;return d.set(v,new hY(b,null!==(S=l.get(v))&&void 0!==S?S:null))}),d))}recalculateAndSaveOverlays(t,e){const i=Bf();let r=new vi((l,d)=>l-d),s=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const d of l)d.keys().forEach(f=>{const v=e.get(f);if(null===v)return;let b=i.get(f)||er.empty();b=d.applyToLocalView(v,b),i.set(f,b);const S=(r.get(d.batchId)||Qt()).add(f);r=r.insert(d.batchId,S)})}).next(()=>{const l=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),v=f.key,b=f.value,S=sS();b.forEach(I=>{if(!s.has(I)){const H=Ff(e.get(I),i.get(I));null!==H&&S.set(I,H),s=s.add(I)}}),l.push(this.documentOverlayCache.saveOverlays(t,v,S))}return he.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Qe.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):zf(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):he.resolve(n2());let d=-1,f=s;return l.next(v=>he.forEach(v,(b,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),s.get(b)?he.resolve():this.remoteDocumentCache.getEntry(t,b).next(I=>{f=f.insert(b,I)}))).next(()=>this.populateOverlays(t,v,s)).next(()=>this.computeViews(t,f,v,Qt())).next(b=>({batchId:d,changes:Lv(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Qe(e)).next(i=>{let r=_3();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=_3();return this.indexManager.getCollectionParents(t,r).next(l=>he.forEach(l,d=>{const f=(v=e,b=d.child(r),new t2(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,b;return this.getDocumentsMatchingCollectionQuery(t,f,i).next(v=>{v.forEach((b,S)=>{s=s.insert(b,S)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,f)=>{const v=f.getKey();null===r.get(v)&&(r=r.insert(v,Sn.newInvalidDocument(v)))});let l=_3();return r.forEach((d,f)=>{const v=s.get(d);void 0!==v&&Rc(v.mutation,f,er.empty(),gi.now()),Pf(e,f)&&(l=l.insert(d,f))}),l})}}class fY{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return he.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:C(i.createTime)}),he.resolve()}getNamedQuery(t,e){return he.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:gS(i.bundledQuery),readTime:C(i.readTime)}),he.resolve();var i}}class pY{constructor(){this.overlays=new vi(Qe.comparator),this.es=new Map}getOverlay(t,e){return he.resolve(this.overlays.get(e))}getOverlays(t,e){const i=n2();return he.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.oe(t,e,s)}),he.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),he.resolve()}getOverlaysForCollection(t,e,i){const r=n2(),s=e.length+1,l=new Qe(e.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,v=f.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return he.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new vi((v,b)=>v-b);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let b=s.get(v.largestBatchId);null===b&&(b=n2(),s=s.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const d=n2(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((v,b)=>d.set(v,b)),!(d.size()>=r)););return he.resolve(d)}oe(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new mS(e,i));let s=this.es.get(e);void 0===s&&(s=Qt(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class wS{constructor(){this.ns=new On(Jr.ss),this.rs=new On(Jr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Jr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Jr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Qe(new _n([])),i=new Jr(e,t),r=new Jr(e,t+1),s=[];return this.rs.forEachInRange([i,r],l=>{this.cs(l),s.push(l.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Qe(new _n([])),i=new Jr(e,t),r=new Jr(e,t+1);let s=Qt();return this.rs.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(t){const e=new Jr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Jr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Qe.comparator(t.key,e.key)||Ot(t._s,e._s)}static os(t,e){return Ot(t._s,e._s)||Qe.comparator(t.key,e.key)}}class mY{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new On(Jr.ss)}checkEmpty(t){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const l=new fS(s,e,i,r);this.mutationQueue.push(l);for(const d of r)this.gs=this.gs.add(new Jr(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return he.resolve(l)}lookupMutationBatch(t,e){return he.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Jr(e,0),r=new Jr(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],l=>{const d=this.ys(l._s);s.push(d)}),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new On(Ot);return e.forEach(r=>{const s=new Jr(r,0),l=new Jr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,l],d=>{i=i.add(d._s)})}),he.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Qe.isDocumentKey(s)||(s=s.child(""));const l=new Jr(new Qe(s),0);let d=new On(Ot);return this.gs.forEachWhile(f=>{const v=f.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(d=d.add(f._s)),!0)},l),he.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){yt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return he.forEach(e.mutations,r=>{const s=new Jr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Jr(e,0),r=this.gs.firstAfterOrEqual(i);return he.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return he.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class gY{constructor(t){this.Es=t,this.docs=new vi(Qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,l=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return he.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(e))}getEntries(t,e){let i=no();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Sn.newInvalidDocument(r))}),he.resolve(i)}getAllFromCollection(t,e,i){let r=no();const s=new Qe(e.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:d,value:{document:f}}=l.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||iv(cd(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return he.resolve(r)}getAllFromCollectionGroup(t,e,i,r){at()}As(t,e){return he.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new _Y(this)}getSize(t){return he.resolve(this.size)}}class _Y extends Yk{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),he.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class vY{constructor(t){this.persistence=t,this.Rs=new u1(e=>f3(e),md),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.bs=0,this.Ps=new wS,this.targetCount=0,this.vs=Dd.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),he.resolve()}getLastRemoteSnapshotVersion(t){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return he.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),he.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Dd(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,he.resolve()}updateTargetData(t,e){return this.Dn(e),he.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,he.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((l,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(l),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),he.waitFor(s).next(()=>r)}getTargetCount(t){return he.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return he.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),he.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(l=>{s.push(r.markPotentiallyOrphaned(t,l))}),he.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),he.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return he.resolve(i)}containsKey(t,e){return he.resolve(this.Ps.containsKey(e))}}class tV{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Hs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new vY(this),this.indexManager=new iY,this.remoteDocumentCache=new gY(i=>this.referenceDelegate.xs(i)),this.yt=new Tk(e),this.Ns=new fY(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new pY,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new mY(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Re("MemoryPersistence","Starting transaction:",t);const r=new yY(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,e){return he.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class yY extends rv{constructor(t){super(),this.currentSequenceNumber=t}}class Gv{constructor(t){this.persistence=t,this.Fs=new wS,this.$s=null}static Bs(t){return new Gv(t)}get Ls(){if(this.$s)return this.$s;throw at()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),he.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),he.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),he.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ls,i=>{const r=Qe.fromPath(i);return this.qs(t,r).next(s=>{s||e.removeEntry(r,At.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.qs(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}qs(t,e){return he.or([()=>he.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class CY{constructor(t){this.yt=t}$(t,e,i,r){const s=new ld("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sk,{unique:!0}),d.createObjectStore("documentMutations"),nV(t),function(d){d.createObjectStore("remoteDocuments")}(t));let l=he.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),nV(t)),l=l.next(()=>function(d){const f=d.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(d,f){return f.store("mutations").W().next(v=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sk,{unique:!0});const b=f.store("mutations"),S=v.map(I=>b.put(I));return he.waitFor(S)})}(t,s))),l=l.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(l=l.next(()=>this.Us(s))),i<6&&r>=6&&(l=l.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(l=l.next(()=>this.Gs(s))),i<8&&r>=8&&(l=l.next(()=>this.Qs(t,s))),i<9&&r>=9&&(l=l.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(l=l.next(()=>this.js(s))),i<11&&r>=11&&(l=l.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(l=l.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:GZ});f.createIndex("collectionPathOverlayIndex",qZ,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",$Z,{unique:!1})}(t)})),i<13&&r>=13&&(l=l.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:LZ});f.createIndex("documentKeyIndex",HZ),f.createIndex("collectionGroupIndex",zZ)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.zs(t,s))),i<15&&r>=15&&(l=l.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:FZ}).createIndex("sequenceNumberIndex",BZ,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:UZ}).createIndex("documentKeyIndex",jZ,{unique:!1})}(t))),l}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=Bv(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>he.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",l).next(d=>he.forEach(d,f=>{yt(f.userId===s.userId);const v=Md(this.yt,f);return Gk(t,s.userId,v).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((l,d)=>{const f=new _n(l),v=[0,io(f)];s.push(e.get(v).next(b=>b?he.resolve():e.put({targetId:0,path:io(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>he.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:RZ});const i=e.store("collectionParents"),r=new MS,s=l=>{if(r.add(l)){const d=l.lastSegment(),f=l.popLast();return i.put({collectionId:d,parent:io(f)})}};return e.store("remoteDocuments").Z({X:!0},(l,d)=>{const f=new _n(l);return s(f.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([l,d,f],v)=>{const b=jc(d);return s(b.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=zp(r),l=kk(this.yt,s);return e.put(l)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,l)=>{const d=e.store("remoteDocumentsV14"),f=(v=l,v.document?new Qe(_n.fromString(v.document.name).popFirst(5)):v.noDocument?Qe.fromSegments(v.noDocument.path):v.unknownDocument?Qe.fromSegments(v.unknownDocument.path):at()).path.toArray();var v;const b={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(d.put(b))}).next(()=>he.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=Kk(this.yt),s=new tV(Gv.Bs,this.yt.ie);return i.W().next(l=>{const d=new Map;return l.forEach(f=>{var v;let b=null!==(v=d.get(f.userId))&&void 0!==v?v:Qt();Md(this.yt,f).keys().forEach(S=>b=b.add(S)),d.set(f.userId,b)}),he.forEach(d,(f,v)=>{const b=new Ji(v),S=Pv.re(this.yt,b),I=s.getIndexManager(b),H=Uv.re(b,this.yt,I,s.referenceDelegate);return new eV(r,H,S,I).recalculateAndSaveOverlaysForDocumentKeys(new hS(e,Hs.at),f).next()})})}}function nV(n){n.createObjectStore("targetDocuments",{keyPath:PZ}).createIndex("documentTargetsIndex",OZ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",NZ,{unique:!0}),n.createObjectStore("targetGlobal")}const SS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DS{constructor(t,e,i,r,s,l,d,f,v,b,S=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=l,this.document=d,this.Js=v,this.Ys=b,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=I=>Promise.resolve(),!DS.C())throw new ze(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lY(this,r),this.ii=e+"main",this.yt=new Tk(f),this.ri=new to(this.ii,this.Xs,new CY(this.yt)),this.Cs=new sY(this.referenceDelegate,this.yt),this.remoteDocumentCache=Kk(this.yt),this.Ns=new KZ,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ze(fe.FAILED_PRECONDITION,SS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Hs(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,be.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,be.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,be.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>qv(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(s3(t))return Re("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return Bp(t).get("owner").next(e=>he.resolve(this.mi(e)))}gi(t){return qv(t).delete(this.clientId)}yi(){var t=this;return(0,be.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Xr(i,"clientMetadata");return r.W().next(s=>{const l=t.Ii(s,18e5),d=s.filter(f=>-1===l.indexOf(f));return he.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?he.resolve(!0):Bp(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new ze(fe.FAILED_PRECONDITION,SS);return!1}}return!(!this.networkEnabled||!this.inForeground)||qv(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const l=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||l&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Re("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,be.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new hS(e,Hs.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>qv(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return Uv.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new rY(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return Pv.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Re("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(l=this.Xs)?ZZ:14===l?Ak:13===l?Ek:12===l?WZ:11===l?xk:void at();var l;let d;return this.ri.runTransaction(t,r,s,f=>(d=new hS(f,this.Ss?this.Ss.next():Hs.at),"readwrite-primary"===e?this.fi(d).next(v=>!!v||this.di(d)).next(v=>{if(!v)throw mi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ze(fe.FAILED_PRECONDITION,up);return i(d)}).next(v=>this.wi(d).next(()=>v)):this.Vi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Vi(t){return Bp(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ze(fe.FAILED_PRECONDITION,SS)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bp(t).put("owner",e)}static C(){return to.C()}_i(t){const e=Bp(t);return e.get("owner").next(i=>this.mi(i)?(Re("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):he.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(mi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,P.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Re("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return mi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){mi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Bp(n){return Xr(n,"owner")}function qv(n){return Xr(n,"clientMetadata")}function xS(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class ES{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Qt(),r=Qt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ES(t,e.fromCache,i,r)}}class iV{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Mi(t,e))}ki(t,e){if(Kw(e))return he.resolve(null);let i=Qr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=m3(e,null,"F"),i=Qr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const l=Qt(...s);return this.Ni.getDocuments(t,l).next(d=>this.indexManager.getMinOffset(t,i).next(f=>{const v=this.Fi(e,d);return this.$i(e,v,l,f.readTime)?this.ki(t,m3(e,null,"F")):this.Bi(t,v,e,f)}))})))}Oi(t,e,i,r){return Kw(e)||r.isEqual(At.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(s=>{const l=this.Fi(e,s);return this.$i(e,l,i,r)?this.Mi(t,e):(sp()<=Ui.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bp(e)),this.Bi(t,l,e,lp(r,-1)))})}Fi(t,e){let i=new On(wv(t));return e.forEach((r,s)=>{Pf(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,e){return sp()<=Ui.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",bp(e)),this.Ni.getDocumentsMatchingQuery(t,e,_s.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(l=>{s=s.insert(l.key,l)}),s))}}class bY{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.yt=r,this.qi=new vi(Ot),this.Ui=new u1(s=>f3(s),md),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eV(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qi))}}function rV(n,t,e,i){return new bY(n,t,e,i)}function sV(n,t){return AS.apply(this,arguments)}function AS(){return AS=(0,be.Z)(function*(n,t){const e=et(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],d=[];let f=Qt();for(const v of r){l.push(v.batchId);for(const b of v.mutations)f=f.add(b.key)}for(const v of s){d.push(v.batchId);for(const b of v.mutations)f=f.add(b.key)}return e.localDocuments.getDocuments(i,f).next(v=>({ji:v,removedBatchIds:l,addedBatchIds:d}))})})}),AS.apply(this,arguments)}function MY(n,t){const e=et(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(l,d,f,v){const b=f.batch,S=b.keys();let I=he.resolve();return S.forEach(H=>{I=I.next(()=>v.getEntry(d,H)).next(N=>{const j=f.docVersions.get(H);yt(null!==j),N.version.compareTo(j)<0&&(b.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),v.addEntry(N)))})}),I.next(()=>l.mutationQueue.removeMutationBatch(d,b))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=Qt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(d=d.add(l.batch.mutations[f].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function oV(n){const t=et(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function wY(n,t){const e=et(n),i=t.snapshotVersion;let r=e.qi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.qi;const d=[];t.targetChanges.forEach((b,S)=>{const I=r.get(S);if(!I)return;d.push(e.Cs.removeMatchingKeys(s,b.removedDocuments,S).next(()=>e.Cs.addMatchingKeys(s,b.addedDocuments,S)));let H=I.withSequenceNumber(s.currentSequenceNumber);var N,j,J;t.targetMismatches.has(S)?H=H.withResumeToken(ar.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,i)),r=r.insert(S,H),j=H,J=b,(0===(N=I).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(s,H))});let f=no(),v=Qt();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(aV(s,l,t.documentUpdates).next(b=>{f=b.Wi,v=b.zi})),!i.isEqual(At.min())){const b=e.Cs.getLastRemoteSnapshotVersion(s).next(S=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return he.waitFor(d).next(()=>l.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,f,v)).next(()=>f)}).then(s=>(e.qi=r,s))}function aV(n,t,e){let i=Qt(),r=Qt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let l=no();return e.forEach((d,f)=>{const v=s.get(d);f.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(At.min())?(t.removeEntry(d,f.readTime),l=l.insert(d,f)):!v.isValidDocument()||f.version.compareTo(v.version)>0||0===f.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(f),l=l.insert(d,f)):Re("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",f.version)}),{Wi:l,zi:r}})}function SY(n,t){const e=et(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Yf(n,t){const e=et(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,he.resolve(r)):e.Cs.allocateTargetId(i).next(l=>(r=new du(t,l,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qi=e.qi.insert(i.targetId,i),e.Ui.set(t,i.targetId)),i})}function Kf(n,t,e){return TS.apply(this,arguments)}function TS(){return TS=(0,be.Z)(function*(n,t,e){const i=et(n),r=i.qi.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!s3(l))throw l;Re("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}),TS.apply(this,arguments)}function $v(n,t,e){const i=et(n);let r=At.min(),s=Qt();return i.persistence.runTransaction("Execute query","readonly",l=>function(d,f,v){const b=et(d),S=b.Ui.get(v);return void 0!==S?he.resolve(b.qi.get(S)):b.Cs.getTargetData(f,v)}(i,l,Qr(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(l,d.targetId).next(f=>{s=f})}).next(()=>i.Li.getDocumentsMatchingQuery(l,t,e?r:At.min(),e?s:Qt())).next(d=>(uV(i,Mp(t),d),{documents:d,Hi:s})))}function cV(n,t){const e=et(n),i=et(e.Cs),r=e.qi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.ne(s,t).next(l=>l?l.target:null))}function lV(n,t){const e=et(n),i=e.Ki.get(t)||At.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,lp(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(uV(e,t,r),r))}function uV(n,t,e){let i=n.Ki.get(t)||At.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function IS(){return IS=(0,be.Z)(function*(n,t,e,i){const r=et(n);let s=Qt(),l=no();for(const v of e){const b=t.Ji(v.metadata.name);v.document&&(s=s.add(b));const S=t.Yi(v);S.setReadTime(t.Xi(v.metadata.readTime)),l=l.insert(b,S)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),f=yield Yf(r,(v=i,Qr(p3(_n.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>aV(v,d,l).next(b=>(d.apply(v),b)).next(b=>r.Cs.removeMatchingKeysForTargetId(v,f.targetId).next(()=>r.Cs.addMatchingKeys(v,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,b.Wi,b.zi)).next(()=>b.Wi)))}),IS.apply(this,arguments)}function xY(n,t){return kS.apply(this,arguments)}function kS(){return kS=(0,be.Z)(function*(n,t,e=Qt()){const i=yield Yf(n,Qr(gS(t.bundledQuery))),r=et(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=C(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.Ns.saveNamedQuery(s,t);const d=i.withResumeToken(ar.EMPTY_BYTE_STRING,l);return r.qi=r.qi.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),kS.apply(this,arguments)}function dV(n,t){return`firestore_clients_${n}_${t}`}function hV(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function VS(n,t){return`firestore_targets_${n}_${t}`}class Wv{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new ze(r.error.code,r.error.message))),l?new Wv(t,e,r.state,s):(mi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Up{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new ze(i.error.code,i.error.message))),s?new Up(t,i.state,r):(mi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Zv{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Tp();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=dp(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new Zv(t,s):(mi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class LS{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new LS(e.clientId,e.onlineState):(mi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class HS{constructor(){this.activeTargetIds=Tp()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zS{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new vi(Ot),this.started=!1,this.cr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=dV(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new HS),this.lr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,be.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(dV(t.persistenceKey,r));if(s){const l=Zv.Zi(r,s);l&&(t.ur=t.ur.insert(l.clientId,l))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(VS(this.persistenceKey,t));if(i){const r=Up.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(VS(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Re("SharedClientState","READ",t,e),e}setItem(t,e){Re("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Re("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Re("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,be.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let l=Hs.at;if(null!=s)try{const d=JSON.parse(s);yt("number"==typeof d),l=d}catch(d){mi("SharedClientState","Failed to read sequence number from WebStorage",d)}return l}(i.newValue);r!==Hs.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Mr(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new Wv(this.currentUser,t,e,i),s=hV(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=hV(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=VS(this.persistenceKey,t),s=new Up(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return Zv.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return Wv.Zi(new Ji(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return Up.Zi(r,e)}yr(t){return LS.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,be.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Re("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),l=[],d=[];return s.forEach(f=>{r.has(f)||l.push(f)}),r.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.Br(l,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=Tp();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class fV{constructor(){this.Lr=new HS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new HS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class EY{Ur(t){}shutdown(){}}class pV{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const AY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TY{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class IY extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,s){const l=this.ho(t,e);Re("RestConnection","Sending: ",l,i);const d={};return this.lo(d,r,s),this.fo(t,l,d,i).then(f=>(Re("RestConnection","Received: ",f),f),f=>{throw Ic("RestConnection",`${t} failed with error: `,f,"url: ",l,"request:",i),f})}_o(t,e,i,r,s,l){return this.ao(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+n3,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.oo}/v1/${e}:${AY[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,l)=>{const d=new Q_;d.setWithCredentials(!0),d.listenOnce(Ew.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ip.NO_ERROR:const v=d.getResponseJson();Re("Connection","XHR received:",JSON.stringify(v)),s(v);break;case ip.TIMEOUT:Re("Connection",'RPC "'+t+'" timed out'),l(new ze(fe.DEADLINE_EXCEEDED,"Request time out"));break;case ip.HTTP_ERROR:const b=d.getStatus();if(Re("Connection",'RPC "'+t+'" failed with status:',b,"response text:",d.getResponseText()),b>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S?.error;if(I&&I.status&&I.message){const H=function(N){const j=N.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(j)>=0?j:fe.UNKNOWN}(I.status);l(new ze(H,I.message))}else l(new ze(fe.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new ze(fe.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Re("Connection",'RPC "'+t+'" completed.')}});const f=JSON.stringify(r);d.send(e,"POST",f,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=rd(),l=xw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new Aw({})),this.lo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const f=r.join("");Re("Connection","Creating WebChannel: "+f,d);const v=s.createWebChannel(f,d);let b=!1,S=!1;const I=new TY({Hr:N=>{S?Re("Connection","Not sending because WebChannel is closed:",N):(b||(Re("Connection","Opening WebChannel transport."),v.open(),b=!0),Re("Connection","WebChannel sending:",N),v.send(N))},Jr:()=>v.close()}),H=(N,j,J)=>{N.listen(j,De=>{try{J(De)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return H(v,Mf.EventType.OPEN,()=>{S||Re("Connection","WebChannel transport opened.")}),H(v,Mf.EventType.CLOSE,()=>{S||(S=!0,Re("Connection","WebChannel transport closed"),I.io())}),H(v,Mf.EventType.ERROR,N=>{S||(S=!0,Ic("Connection","WebChannel transport errored:",N),I.io(new ze(fe.UNAVAILABLE,"The operation could not be completed")))}),H(v,Mf.EventType.MESSAGE,N=>{var j;if(!S){const J=N.data[0];yt(!!J);const De=J,Pe=De.error||(null===(j=De[0])||void 0===j?void 0:j.error);if(Pe){Re("Connection","WebChannel received error:",Pe);const Oe=Pe.status;let je=function(mt){const qt=qi[mt];if(void 0!==qt)return Vv(qt)}(Oe),rt=Pe.message;void 0===je&&(je=fe.INTERNAL,rt="Unknown error status: "+Oe+" with message "+Pe.message),S=!0,I.io(new ze(je,rt)),v.close()}else Re("Connection","WebChannel received:",J),I.ro(J)}}),H(l,bf.STAT_EVENT,N=>{N.stat===sd.PROXY?Re("Connection","Detected buffering proxy"):N.stat===sd.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{I.so()},0),I}}function mV(){return typeof window<"u"?window:null}function Yv(){return typeof document<"u"?document:null}function jp(n){return new u(n,!0)}class NS{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class gV{constructor(t,e,i,r,s,l,d,f){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new NS(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,be.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,be.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,be.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(mi(e.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new ze(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,be.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Re("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kY extends gV{constructor(t,e,i,r,s,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.yt=s}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function kt(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:at(),r=t.targetChange.targetIds||[],s=function(f,v){return f.wt?(yt(void 0===v||"string"==typeof v),ar.fromBase64String(v||"")):(yt(void 0===v||v instanceof Uint8Array),ar.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,d=l&&function(f){const v=void 0===f.code?fe.UNKNOWN:Vv(f.code);return new ze(v,f.message||"")}(l);e=new cS(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=L(n,i.document.name),s=C(i.document.updateTime),l=i.document.createTime?C(i.document.createTime):At.min(),d=new Mr({mapValue:{fields:i.document.fields}}),f=Sn.newFoundDocument(r,s,l,d);e=new Ip(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=L(n,i.document),s=i.readTime?C(i.readTime):At.min(),l=Sn.newNoDocument(r,s);e=new Ip([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const i=t.documentRemove,r=L(n,i.document);e=new Ip([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return at();{const i=t.filter,s=new Iv(i.count||0);e=new Hv(i.targetId,s)}}var f;return e}(this.yt,t),i=function(r){if(!("targetChange"in r))return At.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?At.min():s.readTime?C(s.readTime):At.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=se(this.yt),e.addTarget=function(r,s){let l;const d=s.target;return l=Lf(d)?{documents:ni(r,d)}:{query:d1(r,d)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=p(r,s.resumeToken):s.snapshotVersion.compareTo(At.min())>0&&(l.readTime=h(r,s.snapshotVersion.toTimestamp())),l}(this.yt,t);const i=function kp(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=se(this.yt),e.removeTarget=t,this.Bo(e)}}class VY extends gV{constructor(t,e,i,r,s,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(yt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function Tn(n,t){return n&&n.length>0?(yt(void 0!==t),n.map(e=>function(i,r){let s=C(i.updateTime?i.updateTime:r);return s.isEqual(At.min())&&(s=C(r)),new Ev(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=C(t.commitTime);return this.listener.Zo(i,e)}return yt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=se(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ve(this.yt,i))};this.Bo(e)}}class LY extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new ze(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ze(fe.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection._o(t,e,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(fe.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class zY{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(mi(e),this.ou=!1):Re("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class NY{constructor(t,e,i,r,s){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(d=>{i.enqueueAndForget((0,be.Z)(function*(){var f;v3(l)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,be.Z)(function*(v){const b=et(v);b._u.add(4),yield Qf(b),b.gu.set("Unknown"),b._u.delete(4),yield Gp(b)}),function(v){return f.apply(this,arguments)})(l))}))}),this.gu=new zY(i,r)}}function Gp(n){return OS.apply(this,arguments)}function OS(){return OS=(0,be.Z)(function*(n){if(v3(n))for(const t of n.wu)yield t(!0)}),OS.apply(this,arguments)}function Qf(n){return RS.apply(this,arguments)}function RS(){return RS=(0,be.Z)(function*(n){for(const t of n.wu)yield t(!1)}),RS.apply(this,arguments)}function Kv(n,t){const e=et(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),US(e)?BS(e):Jf(e).ko()&&FS(e,t))}function qp(n,t){const e=et(n),i=Jf(e);e.du.delete(t),i.ko()&&_V(e,t),0===e.du.size&&(i.ko()?i.Fo():v3(e)&&e.gu.set("Unknown"))}function FS(n,t){n.yu.Ot(t.targetId),Jf(n).zo(t)}function _V(n,t){n.yu.Ot(t),Jf(n).Ho(t)}function BS(n){n.yu=new Ck({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>n.du.get(t)||null}),Jf(n).start(),n.gu.uu()}function US(n){return v3(n)&&!Jf(n).No()&&n.du.size>0}function v3(n){return 0===et(n)._u.size}function vV(n){n.yu=void 0}function PY(n){return jS.apply(this,arguments)}function jS(){return jS=(0,be.Z)(function*(n){n.du.forEach((t,e)=>{FS(n,t)})}),jS.apply(this,arguments)}function OY(n,t){return GS.apply(this,arguments)}function GS(){return GS=(0,be.Z)(function*(n,t){vV(n),US(n)?(n.gu.hu(t),BS(n)):n.gu.set("Unknown")}),GS.apply(this,arguments)}function RY(n,t,e){return qS.apply(this,arguments)}function qS(){return qS=(0,be.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof cS&&2===t.state&&t.cause)try{yield(i=(0,be.Z)(function*(r,s){const l=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,l),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Qv(n,i)}else if(t instanceof Ip?n.yu.Kt(t):t instanceof Hv?n.yu.Jt(t):n.yu.jt(t),!e.isEqual(At.min()))try{const i=yield oV(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const l=r.yu.Zt(s);return l.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const v=r.du.get(f);v&&r.du.set(f,v.withResumeToken(d.resumeToken,s))}}),l.targetMismatches.forEach(d=>{const f=r.du.get(d);if(!f)return;r.du.set(d,f.withResumeToken(ar.EMPTY_BYTE_STRING,f.snapshotVersion)),_V(r,d);const v=new du(f.target,d,1,f.sequenceNumber);FS(r,v)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(i){Re("RemoteStore","Failed to raise snapshot:",i),yield Qv(n,i)}var i}),qS.apply(this,arguments)}function Qv(n,t,e){return $S.apply(this,arguments)}function $S(){return $S=(0,be.Z)(function*(n,t,e){if(!s3(t))throw t;n._u.add(1),yield Qf(n),n.gu.set("Offline"),e||(e=()=>oV(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield Gp(n)}))}),$S.apply(this,arguments)}function yV(n,t){return t().catch(e=>Qv(n,e,t))}function Xf(n){return WS.apply(this,arguments)}function WS(){return WS=(0,be.Z)(function*(n){const t=et(n),e=mu(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;FY(t);)try{const r=yield SY(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,BY(t,r)}catch(r){yield Qv(t,r)}CV(t)&&bV(t)}),WS.apply(this,arguments)}function FY(n){return v3(n)&&n.fu.length<10}function BY(n,t){n.fu.push(t);const e=mu(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function CV(n){return v3(n)&&!mu(n).No()&&n.fu.length>0}function bV(n){mu(n).start()}function UY(n){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,be.Z)(function*(n){mu(n).eu()}),ZS.apply(this,arguments)}function jY(n){return YS.apply(this,arguments)}function YS(){return YS=(0,be.Z)(function*(n){const t=mu(n);for(const e of n.fu)t.Xo(e.mutations)}),YS.apply(this,arguments)}function GY(n,t,e){return KS.apply(this,arguments)}function KS(){return KS=(0,be.Z)(function*(n,t,e){const i=n.fu.shift(),r=pS.from(i,t,e);yield yV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Xf(n)}),KS.apply(this,arguments)}function qY(n,t){return QS.apply(this,arguments)}function QS(){return QS=(0,be.Z)(function*(n,t){var e;t&&mu(n).Yo&&(yield(e=(0,be.Z)(function*(i,r){if(kv(s=r.code)&&s!==fe.ABORTED){const l=i.fu.shift();mu(i).Mo(),yield yV(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield Xf(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),CV(n)&&bV(n)}),QS.apply(this,arguments)}function MV(n,t){return XS.apply(this,arguments)}function XS(){return XS=(0,be.Z)(function*(n,t){const e=et(n);e.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const i=v3(e);e._u.add(3),yield Qf(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield Gp(e)}),XS.apply(this,arguments)}function JS(n,t){return eD.apply(this,arguments)}function eD(){return eD=(0,be.Z)(function*(n,t){const e=et(n);t?(e._u.delete(2),yield Gp(e)):t||(e._u.add(2),yield Qf(e),e.gu.set("Unknown"))}),eD.apply(this,arguments)}function Jf(n){return n.pu||(n.pu=function(t,e,i){const r=et(t);return r.su(),new kY(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:PY.bind(null,n),Zr:OY.bind(null,n),Wo:RY.bind(null,n)}),n.wu.push(function(){var t=(0,be.Z)(function*(e){e?(n.pu.Mo(),US(n)?BS(n):n.gu.set("Unknown")):(yield n.pu.stop(),vV(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function mu(n){return n.Iu||(n.Iu=function(t,e,i){const r=et(t);return r.su(),new VY(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:UY.bind(null,n),Zr:qY.bind(null,n),tu:jY.bind(null,n),Zo:GY.bind(null,n)}),n.wu.push(function(){var t=(0,be.Z)(function*(e){e?(n.Iu.Mo(),yield Xf(n)):(yield n.Iu.stop(),n.fu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class tD{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,i,r,s){const l=Date.now()+i,d=new tD(t,e,l,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e8(n,t){if(mi("AsyncQueue",`${t}: ${n}`),s3(n))return new ze(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class t8{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Qe.comparator(e.key,i.key):(e,i)=>Qe.comparator(e.key,i.key),this.keyedMap=_3(),this.sortedSet=new vi(this.comparator)}static emptySet(t){return new t8(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof t8)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new t8;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class wV{constructor(){this.Tu=new vi(Qe.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):at():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class n8{constructor(t,e,i,r,s,l,d,f,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,r,s){const l=[];return e.forEach(d=>{l.push({type:0,doc:d})}),new n8(t,e,t8.emptySet(e),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class $Y{constructor(){this.Au=void 0,this.listeners=[]}}class WY{constructor(){this.queries=new u1(t=>Cp(t),Oc),this.onlineState="Unknown",this.Ru=new Set}}function nD(n,t){return iD.apply(this,arguments)}function iD(){return iD=(0,be.Z)(function*(n,t){const e=et(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new $Y),r)try{s.Au=yield e.onListen(i)}catch(l){const d=e8(l,`Initialization of query '${bp(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&oD(e)}),iD.apply(this,arguments)}function rD(n,t){return sD.apply(this,arguments)}function sD(){return sD=(0,be.Z)(function*(n,t){const e=et(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const l=s.listeners.indexOf(t);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),sD.apply(this,arguments)}function ZY(n,t){const e=et(n);let i=!1;for(const r of t){const l=e.queries.get(r.query);if(l){for(const d of l.listeners)d.Pu(r)&&(i=!0);l.Au=r}}i&&oD(e)}function YY(n,t,e){const i=et(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function oD(n){n.Ru.forEach(t=>{t.next()})}class aD{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new n8(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=n8.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class KY{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class SV{constructor(t){this.yt=t}Ji(t){return L(this.yt,t)}Yi(t){return t.metadata.exists?Xe(this.yt,t.document,!1):Sn.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return C(t)}}class QY{constructor(t,e,i){this.Mu=t,this.localStore=e,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=DV(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=_n.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new SV(this.yt);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const l of r.metadata.queries){const d=(e.get(l)||Qt()).add(s);e.set(l,d)}}return e}complete(){var t=this;return(0,be.Z)(function*(){const e=yield function DY(n,t,e,i){return IS.apply(this,arguments)}(t.localStore,new SV(t.yt),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield xY(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function DV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class xV{constructor(t){this.key=t}}class EV{constructor(t){this.key=t}}class AV{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Qt(),this.mutatedKeys=Qt(),this.Gu=wv(t),this.Qu=new t8(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new wV,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,l=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,S)=>{const I=r.get(b),H=Pf(this.query,S)?S:null,N=!!I&&this.mutatedKeys.has(I.key),j=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;I&&H?I.data.isEqual(H.data)?N!==j&&(i.track({type:3,doc:H}),J=!0):this.Hu(I,H)||(i.track({type:2,doc:H}),J=!0,(f&&this.Gu(H,f)>0||v&&this.Gu(H,v)<0)&&(d=!0)):!I&&H?(i.track({type:0,doc:H}),J=!0):I&&!H&&(i.track({type:1,doc:I}),J=!0,(f||v)&&(d=!0)),J&&(H?(l=l.add(H),s=j?s.add(b):s.delete(b)):(l=l.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Qu:l,zu:i,$i:d,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((v,b)=>function(S,I){const H=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return H(S)-H(I)}(v.type,b.type)||this.Gu(v.doc,b.doc)),this.Ju(i);const l=e?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,f=d!==this.Uu;return this.Uu=d,0!==s.length||f?{snapshot:new n8(this.query,t.Qu,r,s,t.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:l}:{Xu:l}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new wV,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Qt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new EV(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new xV(i))}),e}tc(t){this.qu=t.Hi,this.Ku=Qt();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return n8.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class XY{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class JY{constructor(t){this.key=t,this.nc=!1}}class eK{constructor(t,e,i,r,s,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.sc={},this.ic=new u1(d=>Cp(d),Oc),this.rc=new Map,this.oc=new Set,this.uc=new vi(Qe.comparator),this.cc=new Map,this.ac=new wS,this.hc={},this.lc=new Map,this.fc=Dd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function tK(n,t){return cD.apply(this,arguments)}function cD(){return cD=(0,be.Z)(function*(n,t){const e=kD(n);let i,r;const s=e.ic.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const l=yield Yf(e.localStore,Qr(t));e.isPrimaryClient&&Kv(e.remoteStore,l);const d=e.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield lD(e,t,i,"current"===d,l.resumeToken)}return r}),cD.apply(this,arguments)}function lD(n,t,e,i,r){return uD.apply(this,arguments)}function uD(){return uD=(0,be.Z)(function*(n,t,e,i,r){n._c=(S,I,H)=>{return(N=(0,be.Z)(function*(j,J,De,Pe){let Oe=J.view.Wu(De);Oe.$i&&(Oe=yield $v(j.localStore,J.query,!1).then(({documents:mt})=>J.view.Wu(mt,Oe)));const je=Pe&&Pe.targetChanges.get(J.targetId),rt=J.view.applyChanges(Oe,j.isPrimaryClient,je);return CD(j,J.targetId,rt.Xu),rt.snapshot}),function(j,J,De,Pe){return N.apply(this,arguments)})(n,S,I,H);var N};const s=yield $v(n.localStore,t,!0),l=new AV(t,s.Hi),d=l.Wu(s.documents),f=jf.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),v=l.applyChanges(d,n.isPrimaryClient,f);CD(n,e,v.Xu);const b=new XY(t,e,l);return n.ic.set(t,b),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),v.snapshot}),uD.apply(this,arguments)}function nK(n,t){return dD.apply(this,arguments)}function dD(){return dD=(0,be.Z)(function*(n,t){const e=et(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(s=>!Oc(s,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Kf(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),qp(e.remoteStore,i.targetId),r8(e,i.targetId)}).catch(o1))):(r8(e,i.targetId),yield Kf(e.localStore,i.targetId,!0))}),dD.apply(this,arguments)}function hD(){return hD=(0,be.Z)(function*(n,t,e){const i=VD(n);try{const r=yield function(s,l){const d=et(s),f=gi.now(),v=l.reduce((I,H)=>I.add(H.key),Qt());let b,S;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let H=no(),N=Qt();return d.Gi.getEntries(I,v).next(j=>{H=j,H.forEach((J,De)=>{De.isValidDocument()||(N=N.add(J))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,H)).next(j=>{b=j;const J=[];for(const De of l){const Pe=vk(De,b.get(De.key).overlayedDocument);null!=Pe&&J.push(new Fc(De.key,Pe,Vf(Pe.value.mapValue),Wn.exists(!0)))}return d.mutationQueue.addMutationBatch(I,f,J,l)}).next(j=>{S=j;const J=j.applyToLocalDocumentSet(b,N);return d.documentOverlayCache.saveOverlays(I,j.batchId,J)})}).then(()=>({batchId:S.batchId,changes:Lv(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,d){let f=s.hc[s.currentUser.toKey()];f||(f=new vi(Ot)),f=f.insert(l,d),s.hc[s.currentUser.toKey()]=f}(i,r.batchId,e),yield y3(i,r.changes),yield Xf(i.remoteStore)}catch(r){const s=e8(r,"Failed to persist write");e.reject(s)}}),hD.apply(this,arguments)}function TV(n,t){return fD.apply(this,arguments)}function fD(){return fD=(0,be.Z)(function*(n,t){const e=et(n);try{const i=yield wY(e.localStore,t);t.targetChanges.forEach((r,s)=>{const l=e.cc.get(s);l&&(yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.nc=!0:r.modifiedDocuments.size>0?yt(l.nc):r.removedDocuments.size>0&&(yt(l.nc),l.nc=!1))}),yield y3(e,i,t)}catch(i){yield o1(i)}}),fD.apply(this,arguments)}function IV(n,t,e){const i=et(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((s,l)=>{const d=l.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(s,l){const d=et(s);d.onlineState=l;let f=!1;d.queries.forEach((v,b)=>{for(const S of b.listeners)S.bu(l)&&(f=!0)}),f&&oD(d)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function rK(n,t,e){return pD.apply(this,arguments)}function pD(){return pD=(0,be.Z)(function*(n,t,e){const i=et(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),s=r&&r.key;if(s){let l=new vi(Qe.comparator);l=l.insert(s,Sn.newNoDocument(s,At.min()));const d=Qt().add(s),f=new Uf(At.min(),new Map,new On(Ot),l,d);yield TV(i,f),i.uc=i.uc.remove(s),i.cc.delete(t),bD(i)}else yield Kf(i.localStore,t,!1).then(()=>r8(i,t,e)).catch(o1)}),pD.apply(this,arguments)}function sK(n,t){return mD.apply(this,arguments)}function mD(){return mD=(0,be.Z)(function*(n,t){const e=et(n),i=t.batch.batchId;try{const r=yield MY(e.localStore,t);yD(e,i,null),vD(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield y3(e,r)}catch(r){yield o1(r)}}),mD.apply(this,arguments)}function oK(n,t,e){return gD.apply(this,arguments)}function gD(){return gD=(0,be.Z)(function*(n,t,e){const i=et(n);try{const r=yield function(s,l){const d=et(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let v;return d.mutationQueue.lookupMutationBatch(f,l).next(b=>(yt(null!==b),v=b.keys(),d.mutationQueue.removeMutationBatch(f,b))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,v,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,v)).next(()=>d.localDocuments.getDocuments(f,v))})}(i.localStore,t);yD(i,t,e),vD(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield y3(i,r)}catch(r){yield o1(r)}}),gD.apply(this,arguments)}function _D(){return _D=(0,be.Z)(function*(n,t){const e=et(n);v3(e.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=et(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>l.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=e8(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),_D.apply(this,arguments)}function vD(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function yD(n,t,e){const i=et(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function r8(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||kV(n,i)})}function kV(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(qp(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),bD(n))}function CD(n,t,e){for(const i of e)i instanceof xV?(n.ac.addReference(i.key,t),cK(n,i)):i instanceof EV?(Re("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||kV(n,i.key)):at()}function cK(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Re("SyncEngine","New document in limbo: "+e),n.oc.add(i),bD(n))}function bD(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Qe(_n.fromString(t)),i=n.fc.next();n.cc.set(i,new JY(e)),n.uc=n.uc.insert(e,i),Kv(n.remoteStore,new du(Qr(p3(e.path)),i,2,Hs.at))}}function y3(n,t,e){return MD.apply(this,arguments)}function MD(){return MD=(0,be.Z)(function*(n,t,e){const i=et(n),r=[],s=[],l=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,f)=>{l.push(i._c(f,t,e).then(v=>{if((v||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const b=ES.Ci(f.targetId,v);s.push(b)}}))}),yield Promise.all(l),i.sc.Wo(r),yield(d=(0,be.Z)(function*(f,v){const b=et(f);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>he.forEach(v,I=>he.forEach(I.Si,H=>b.persistence.referenceDelegate.addReference(S,I.targetId,H)).next(()=>he.forEach(I.Di,H=>b.persistence.referenceDelegate.removeReference(S,I.targetId,H)))))}catch(S){if(!s3(S))throw S;Re("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const I=S.targetId;if(!S.fromCache){const H=b.qi.get(I),j=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);b.qi=b.qi.insert(I,j)}}}),function(f,v){return d.apply(this,arguments)})(i.localStore,s))}),MD.apply(this,arguments)}function lK(n,t){return wD.apply(this,arguments)}function wD(){return wD=(0,be.Z)(function*(n,t){const e=et(n);if(!e.currentUser.isEqual(t)){Re("SyncEngine","User change. New user:",t.toKey());const i=yield sV(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(l=>{l.forEach(d=>{d.reject(new ze(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield y3(e,i.ji)}var r}),wD.apply(this,arguments)}function uK(n,t){const e=et(n),i=e.cc.get(t);if(i&&i.nc)return Qt().add(i.key);{let r=Qt();const s=e.rc.get(t);if(!s)return r;for(const l of s){const d=e.ic.get(l);r=r.unionWith(d.view.ju)}return r}}function dK(n,t){return SD.apply(this,arguments)}function SD(){return SD=(0,be.Z)(function*(n,t){const e=et(n),i=yield $v(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&CD(e,t.targetId,r.Xu),r}),SD.apply(this,arguments)}function hK(n,t){return DD.apply(this,arguments)}function DD(){return DD=(0,be.Z)(function*(n,t){const e=et(n);return lV(e.localStore,t).then(i=>y3(e,i))}),DD.apply(this,arguments)}function fK(n,t,e,i){return xD.apply(this,arguments)}function xD(){return xD=(0,be.Z)(function*(n,t,e,i){const r=et(n),s=yield function(l,d){const f=et(l),v=et(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",b=>v.Tn(b,d).next(S=>S?f.localDocuments.getDocuments(b,S):he.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield Xf(r.remoteStore):"acknowledged"===e||"rejected"===e?(yD(r,t,i||null),vD(r,t),d=t,et(et(r.localStore).mutationQueue).An(d)):at(),yield y3(r,s)):Re("SyncEngine","Cannot apply mutation batch with id: "+t)}),xD.apply(this,arguments)}function ED(){return ED=(0,be.Z)(function*(n,t){const e=et(n);if(kD(e),VD(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield VV(e,i.toArray());e.dc=!0,yield JS(e.remoteStore,!0);for(const s of r)Kv(e.remoteStore,s)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((s,l)=>{e.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(r8(e,l),Kf(e.localStore,l,!0))),qp(e.remoteStore,l)}),yield r,yield VV(e,i),function(s){const l=et(s);l.cc.forEach((d,f)=>{qp(l.remoteStore,f)}),l.ac.fs(),l.cc=new Map,l.uc=new vi(Qe.comparator)}(e),e.dc=!1,yield JS(e.remoteStore,!1)}}),ED.apply(this,arguments)}function VV(n,t,e){return AD.apply(this,arguments)}function AD(){return AD=(0,be.Z)(function*(n,t,e){const i=et(n),r=[],s=[];for(const l of t){let d;const f=i.rc.get(l);if(f&&0!==f.length){d=yield Yf(i.localStore,Qr(f[0]));for(const v of f){const b=i.ic.get(v),S=yield dK(i,b);S.snapshot&&s.push(S.snapshot)}}else{const v=yield cV(i.localStore,l);d=yield Yf(i.localStore,v),yield lD(i,LV(v),l,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),AD.apply(this,arguments)}function LV(n){return Mv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mK(n){const t=et(n);return et(et(t.localStore).persistence).vi()}function gK(n,t,e,i){return TD.apply(this,arguments)}function TD(){return TD=(0,be.Z)(function*(n,t,e,i){const r=et(n);if(r.dc)return void Re("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const l=yield lV(r.localStore,Mp(s[0])),d=Uf.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ar.EMPTY_BYTE_STRING);yield y3(r,l,d);break}case"rejected":yield Kf(r.localStore,t,!0),r8(r,t,i);break;default:at()}}),TD.apply(this,arguments)}function _K(n,t,e){return ID.apply(this,arguments)}function ID(){return ID=(0,be.Z)(function*(n,t,e){const i=kD(n);if(i.dc){for(const r of t){if(i.rc.has(r)){Re("SyncEngine","Adding an already active target "+r);continue}const s=yield cV(i.localStore,r),l=yield Yf(i.localStore,s);yield lD(i,LV(s),l.targetId,!1,l.resumeToken),Kv(i.remoteStore,l)}for(const r of e)i.rc.has(r)&&(yield Kf(i.localStore,r,!1).then(()=>{qp(i.remoteStore,r),r8(i,r)}).catch(o1))}}),ID.apply(this,arguments)}function kD(n){const t=et(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=TV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uK.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rK.bind(null,t),t.sc.Wo=ZY.bind(null,t.eventManager),t.sc.wc=YY.bind(null,t.eventManager),t}function VD(n){const t=et(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sK.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oK.bind(null,t),t}class HV{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,be.Z)(function*(){e.yt=jp(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return rV(this.persistence,new iV,t.initialUser,this.yt)}yc(t){return new tV(Gv.Bs,this.yt)}gc(t){return new fV}terminate(){var t=this;return(0,be.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class zV extends HV{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield VD(i.Ac.syncEngine),yield Xf(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return rV(this.persistence,new iV,t.initialUser,this.yt)}Tc(t,e){return new aY(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new Nw(e,this.persistence);return new ov(t.asyncQueue,i)}yc(t){const e=xS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?zo.withCacheSize(this.cacheSizeBytes):zo.DEFAULT;return new DS(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,mV(),Yv(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new fV}}class yK extends zV{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof zS&&(i.sharedClientState.syncEngine={Fr:fK.bind(null,r),$r:gK.bind(null,r),Br:_K.bind(null,r),vi:mK.bind(null,r),Mr:hK.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,be.Z)(function*(l){yield function pK(n,t){return ED.apply(this,arguments)}(i.Ac.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}gc(t){const e=mV();if(!zS.C(e))throw new ze(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=xS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zS(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class LD{initialize(t,e){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>IV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=lK.bind(null,i.syncEngine),yield JS(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new WY}createDatastore(t){const e=jp(t.databaseInfo.databaseId),i=new IY(t.databaseInfo);return new LY(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>IV(this.syncEngine,d,0),l=pV.C()?new pV:new EY,new NY(e,i,r,s,l);var e,i,r,s,l}createSyncEngine(t,e){return function(i,r,s,l,d,f,v){const b=new eK(i,r,s,l,d,f);return v&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,be.Z)(function*(e){const i=et(e);Re("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Qf(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function HD(n,t,e){if(!e)throw new ze(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function NV(n,t,e,i){if(!0===t&&!0===i)throw new ze(fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function PV(n){if(!Qe.isDocumentKey(n))throw new ze(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OV(n){if(Qe.isDocumentKey(n))throw new ze(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":at()}function Cn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ze(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Xv(n);throw new ze(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function RV(n,t){if(t<=0)throw new ze(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const FV=new Map;class BV{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ze(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ze(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,NV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $p{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ze(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new X_;switch(e.type){case"gapi":return new tv(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ze(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=FV.get(t);e&&(Re("ComponentProvider","Removing Datastore"),FV.delete(t),e.terminate())}(this),Promise.resolve()}}class yi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yi(this.firestore,t,this._key)}}class vs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vs(this.firestore,t,this._query)}}class Gc extends vs{constructor(t,e,i){super(t,e,p3(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yi(this.firestore,null,new Qe(t))}withConverter(t){return new Gc(this.firestore,t,this._path)}}function jV(n,t,...e){if(n=(0,P.m9)(n),HD("collection","path",t),n instanceof $p){const i=_n.fromString(t,...e);return OV(i),new Gc(n,null,i)}{if(!(n instanceof yi||n instanceof Gc))throw new ze(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_n.fromString(t,...e));return OV(i),new Gc(n.firestore,null,i)}}function Jv(n,t,...e){if(n=(0,P.m9)(n),1===arguments.length&&(t=Kr.R()),HD("doc","path",t),n instanceof $p){const i=_n.fromString(t,...e);return PV(i),new yi(n,null,new Qe(i))}{if(!(n instanceof yi||n instanceof Gc))throw new ze(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_n.fromString(t,...e));return PV(i),new yi(n.firestore,n instanceof Gc?n.converter:null,new Qe(i))}}function GV(n,t){return n=(0,P.m9)(n),t=(0,P.m9)(t),(n instanceof yi||n instanceof Gc)&&(t instanceof yi||t instanceof Gc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function zD(n,t){return n=(0,P.m9)(n),t=(0,P.m9)(t),n instanceof vs&&t instanceof vs&&n.firestore===t.firestore&&Oc(n._query,t._query)&&n.converter===t.converter}function qV(n,t=10240){let e=0;return{read:()=>(0,be.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ey{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):mi("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class bK{constructor(t,e){this.Pc=t,this.yt=e,this.metadata=new Gi,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,be.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,be.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,be.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const s=yield t.Cc(r);return new KY(JSON.parse(s),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,be.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,be.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,be.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class SK{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ze(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(s,l){const d=et(s),f=se(d.yt)+"/documents",v={documents:l.map(H=>T(d.yt,H))},b=yield d._o("BatchGetDocuments",f,v,l.length),S=new Map;b.forEach(H=>{const N=function pt(n,t){return"found"in t?function(e,i){yt(!!i.found);const r=L(e,i.found.name),s=C(i.found.updateTime),l=i.found.createTime?C(i.found.createTime):At.min(),d=new Mr({mapValue:{fields:i.found.fields}});return Sn.newFoundDocument(r,s,l,d)}(n,t):"missing"in t?function(e,i){yt(!!i.missing),yt(!!i.readTime);const r=L(e,i.missing),s=C(i.readTime);return Sn.newNoDocument(r,s)}(n,t):at()}(d.yt,H);S.set(N.key.toString(),N)});const I=[];return l.forEach(H=>{const N=S.get(H.toString());yt(!!N),I.push(N)}),I}),function(s,l){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new uu(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Qe.fromPath(r);t.mutations.push(new xp(s,t.precondition(s)))}),yield(i=(0,be.Z)(function*(r,s){const l=et(r),d=se(l.yt)+"/documents",f={writes:s.map(v=>Ve(l.yt,v))};yield l.ao("Commit",d,f)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw at();e=At.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ze(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(At.min())?Wn.exists(!1):Wn.updateTime(e):Wn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(At.min()))throw new ze(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wn.updateTime(e)}return Wn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class DK{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new NS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,be.Z)(function*(){const e=new SK(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Fc(s)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!nu(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!kv(e)}return!1}}class xK{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Ji.UNAUTHENTICATED,this.clientId=Kr.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,be.Z)(function*(d){Re("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Re("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,be.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=e8(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function $V(n,t){return ND.apply(this,arguments)}function ND(){return ND=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(s){i.isEqual(s)||(yield sV(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),ND.apply(this,arguments)}function WV(n,t){return PD.apply(this,arguments)}function PD(){return PD=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield OD(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>MV(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>MV(t.remoteStore,s)),n.onlineComponents=t}),PD.apply(this,arguments)}function OD(n){return RD.apply(this,arguments)}function RD(){return RD=(0,be.Z)(function*(n){return n.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield $V(n,new HV)),n.offlineComponents}),RD.apply(this,arguments)}function ty(n){return FD.apply(this,arguments)}function FD(){return FD=(0,be.Z)(function*(n){return n.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield WV(n,new LD)),n.onlineComponents}),FD.apply(this,arguments)}function ZV(n){return OD(n).then(t=>t.persistence)}function ny(n){return OD(n).then(t=>t.localStore)}function BD(n){return ty(n).then(t=>t.remoteStore)}function UD(n){return ty(n).then(t=>t.syncEngine)}function s8(n){return jD.apply(this,arguments)}function jD(){return jD=(0,be.Z)(function*(n){const t=yield ty(n),e=t.eventManager;return e.onListen=tK.bind(null,t.syncEngine),e.onUnlisten=nK.bind(null,t.syncEngine),e}),jD.apply(this,arguments)}function KV(n,t,e={}){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,s,l,d,f){const v=new ey({next:S=>{s.enqueueAndForget(()=>rD(r,b));const I=S.docs.has(l);!I&&S.fromCache?f.reject(new ze(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&d&&"server"===d.source?f.reject(new ze(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(S)},error:S=>f.reject(S)}),b=new aD(p3(l.path),v,{includeMetadataChanges:!0,Nu:!0});return nD(r,b)}(yield s8(n),n.asyncQueue,t,e,i)})),i.promise}function QV(n,t,e={}){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,s,l,d,f){const v=new ey({next:S=>{s.enqueueAndForget(()=>rD(r,b)),S.fromCache&&"server"===d.source?f.reject(new ze(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(S)},error:S=>f.reject(S)}),b=new aD(l,v,{includeMetadataChanges:!0,Nu:!0});return nD(r,b)}(yield s8(n),n.asyncQueue,t,e,i)})),i.promise}class HK{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new NS(this,"async_queue_retry"),this.Wc=()=>{const e=Yv();e&&Re("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=Yv();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=Yv();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const e=new Gi;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,be.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!s3(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,mi("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=tD.createAndSchedule(this,t,e,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&at()}verifyOperationInProgress(){}Xc(){var t=this;return(0,be.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function GD(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class zK{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ci extends $p{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new HK,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XV(this),this._firestoreClient.terminate()}}function cr(n){return n._firestoreClient||XV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function XV(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new av(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new xK(n._authCredentials,n._appCheckCredentials,n._queue,i)}function JV(n,t,e){const i=new Gi;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield $V(n,e),yield WV(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(l=s).name?l.code===fe.FAILED_PRECONDITION||l.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw s;Ic("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var l})).then(()=>i.promise)}function eL(n){if(n._initialized||n._terminated)throw new ze(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qc(ar.fromBase64String(t))}catch(e){throw new ze(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qc(ar.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class C3{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ze(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ki(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ed{constructor(t){this._methodName=t}}class iy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ze(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ze(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}const qK=/^__.*__$/;class $K{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Fc(t,this.data,this.fieldMask,e,this.fieldTransforms):new yd(t,this.data,e,this.fieldTransforms)}}class tL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Fc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function nL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class ry{constructor(t,e,i,r,s,l){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new ry(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return ay(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(nL(this.sa)&&qK.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class WK{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||jp(t)}da(t,e,i,r=!1){return new ry({sa:t,methodName:e,fa:i,path:ki.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Ad(n){const t=n._freezeSettings(),e=jp(n._databaseId);return new WK(n._databaseId,!!t.ignoreUndefinedProperties,e)}function sy(n,t,e,i,r,s={}){const l=n.da(s.merge||s.mergeFields?2:0,t,e,r);ZD("Data must be an object, but it was:",l,i);const d=sL(i,l);let f,v;if(s.merge)f=new er(l.fieldMask),v=l.fieldTransforms;else if(s.mergeFields){const b=[];for(const S of s.mergeFields){const I=YD(t,S,e);if(!l.contains(I))throw new ze(fe.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);aL(b,I)||b.push(I)}f=new er(b),v=l.fieldTransforms.filter(S=>f.covers(S.field))}else f=null,v=l.fieldTransforms;return new $K(new Mr(d),f,v)}class Wp extends Ed{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wp}}function iL(n,t,e){return new ry({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class qD extends Ed{_toFieldTransform(t){return new cu(t.path,new vd)}isEqual(t){return t instanceof qD}}class ZK extends Ed{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=iL(this,t,!0),i=this._a.map(s=>Td(s,e)),r=new ou(i);return new cu(t.path,r)}isEqual(t){return this===t}}class YK extends Ed{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=iL(this,t,!0),i=this._a.map(s=>Td(s,e)),r=new au(i);return new cu(t.path,r)}isEqual(t){return this===t}}class KK extends Ed{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new l1(t.yt,wp(t.yt,this.wa));return new cu(t.path,e)}isEqual(t){return this===t}}function $D(n,t,e,i){const r=n.da(1,t,e);ZD("Data must be an object, but it was:",r,i);const s=[],l=Mr.empty();Lc(i,(f,v)=>{const b=oy(t,f,e);v=(0,P.m9)(v);const S=r.ca(b);if(v instanceof Wp)s.push(b);else{const I=Td(v,S);null!=I&&(s.push(b),l.set(b,I))}});const d=new er(s);return new tL(l,d,r.fieldTransforms)}function WD(n,t,e,i,r,s){const l=n.da(1,t,e),d=[YD(t,i,e)],f=[r];if(s.length%2!=0)throw new ze(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)d.push(YD(t,s[I])),f.push(s[I+1]);const v=[],b=Mr.empty();for(let I=d.length-1;I>=0;--I)if(!aL(v,d[I])){const H=d[I];let N=f[I];N=(0,P.m9)(N);const j=l.ca(H);if(N instanceof Wp)v.push(H);else{const J=Td(N,j);null!=J&&(v.push(H),b.set(H,J))}}const S=new er(v);return new tL(b,S,l.fieldTransforms)}function rL(n,t,e,i=!1){return Td(e,n.da(i?4:3,t))}function Td(n,t){if(oL(n=(0,P.m9)(n)))return ZD("Unsupported field value:",t,n),sL(n,t);if(n instanceof Ed)return function(e,i){if(!nL(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const l of e){let d=Td(l,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,P.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wp(i.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=gi.fromDate(e);return{timestampValue:h(i.yt,r)}}if(e instanceof gi){const r=new gi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:h(i.yt,r)}}if(e instanceof iy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qc)return{bytesValue:p(i.yt,e._byteString)};if(e instanceof yi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:w(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${Xv(e)}`)}(n,t)}function sL(n,t){const e={};return lv(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lc(n,(i,r)=>{const s=Td(r,t.ra(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function oL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gi||n instanceof iy||n instanceof qc||n instanceof yi||n instanceof Ed)}function ZD(n,t,e){if(!oL(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Xv(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function YD(n,t,e){if((t=(0,P.m9)(t))instanceof C3)return t._internalPath;if("string"==typeof t)return oy(n,t);throw ay("Field path arguments must be of type string or ",n,!1,void 0,e)}const QK=new RegExp("[~\\*/\\[\\]]");function oy(n,t,e){if(t.search(QK)>=0)throw ay(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new C3(...t.split("."))._internalPath}catch{throw ay(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function ay(n,t,e,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new ze(fe.INVALID_ARGUMENT,d+n+f)}function aL(n,t){return n.some(e=>e.isEqual(t))}class Zp{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new XK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(cy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class XK extends Zp{data(){return super.data()}}function cy(n,t){return"string"==typeof t?oy(n,t):t instanceof C3?t._internalPath:t._delegate._internalPath}function cL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ze(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KD{}class Yp extends KD{}function gu(n,t,...e){let i=[];t instanceof KD&&i.push(t),i=i.concat(e),function(r){const s=r.filter(d=>d instanceof o8).length,l=r.filter(d=>d instanceof Kp).length;if(s>1||s>0&&l>0)throw new ze(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Kp extends Yp{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Kp(t,e,i)}_apply(t){const e=this._parse(t);return hL(t._query,e),new vs(t.firestore,t.converter,Nf(t._query,e))}_parse(t){const e=Ad(t.firestore);return function(r,s,l,d,f,v,b){let S;if(f.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new ze(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){dL(b,v);const I=[];for(const H of b)I.push(uL(d,r,H));S={arrayValue:{values:I}}}else S=uL(d,r,b)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||dL(b,v),S=rL(l,"where",b,"in"===v||"not-in"===v);return dn.create(f,v,S)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class o8 extends KD{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new o8(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Pn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const d of l)hL(s,d),s=Nf(s,d)}(t._query,e),new vs(t.firestore,t.converter,Nf(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QD extends Yp{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new QD(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new ze(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ze(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new h3(r,s);return function(d,f){if(null===gd(d)){const v=_d(d);null!==v&&fL(0,v,f.field)}}(i,l),l}(t._query,this._field,this._direction);return new vs(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new t2(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class ly extends Yp{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new ly(t,e,i)}_apply(t){return new vs(t.firestore,t.converter,m3(t._query,this._limit,this._limitType))}}class uy extends Yp{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new uy(t,e,i)}_apply(t){const e=lL(t,this.type,this._docOrFields,this._inclusive);return new vs(t.firestore,t.converter,(r=e,new t2((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class dy extends Yp{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new dy(t,e,i)}_apply(t){const e=lL(t,this.type,this._docOrFields,this._inclusive);return new vs(t.firestore,t.converter,(r=e,new t2((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function lL(n,t,e,i){if(e[0]=(0,P.m9)(e[0]),e[0]instanceof Zp)return function(r,s,l,d,f){if(!d)throw new ze(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const b of Pc(r))if(b.field.isKeyField())v.push(zc(s,d.key));else{const S=d.data.field(b.field);if(dv(S))throw new ze(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const I=b.field.canonicalString();throw new ze(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}v.push(S)}return new d3(v,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Ad(n.firestore);return function(s,l,d,f,v,b){const S=s.explicitOrderBy;if(v.length>S.length)throw new ze(fe.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let H=0;H<v.length;H++){const N=v[H];if(S[H].field.isKeyField()){if("string"!=typeof N)throw new ze(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof N}`);if(!zf(s)&&-1!==N.indexOf("/"))throw new ze(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${N}' contains a slash.`);const j=s.path.child(_n.fromString(N));if(!Qe.isDocumentKey(j))throw new ze(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const J=new Qe(j);I.push(zc(l,J))}else{const j=rL(d,f,N);I.push(j)}}return new d3(I,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function uL(n,t,e){if("string"==typeof(e=(0,P.m9)(e))){if(""===e)throw new ze(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zf(t)&&-1!==e.indexOf("/"))throw new ze(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(_n.fromString(e));if(!Qe.isDocumentKey(i))throw new ze(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return zc(n,new Qe(i))}if(e instanceof yi)return zc(n,e._key);throw new ze(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xv(e)}.`)}function dL(n,t){if(!Array.isArray(n)||0===n.length)throw new ze(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ze(fe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function hL(n,t){if(t.isInequality()){const i=_d(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new ze(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=gd(n);null!==s&&fL(0,r,s)}const e=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new ze(fe.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function fL(n,t,e){if(!e.isEqual(t))throw new ze(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class XD{convertValue(t,e="none"){switch(su(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _i(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ru(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw at()}}convertObject(t,e){const i={};return Lc(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new iy(_i(t.latitude),_i(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ow(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ef(t));default:return null}}convertTimestamp(t){const e=a3(t);return new gi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=_n.fromString(t);yt(Mk(i));const r=new Vc(i.get(1),i.get(3)),s=new Qe(i.popFirst(5));return r.isEqual(e)||mi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function hy(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class aQ extends XD{constructor(t){super(),this.firestore=t}convertBytes(t){return new qc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yi(this.firestore,null,e)}}class Id{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class b3 extends Zp{constructor(t,e,i,r,s,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(cy("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Qp extends b3{data(t={}){return super.data(t)}}class _u{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Id(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Qp(this._firestore,this._userDataWriter,i.key,i,new Id(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ze(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Qp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Id(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const d=new Qp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Id(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,v=-1;return 0!==l.type&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),v=s.indexOf(l.doc.key)),{type:cQ(l.type),doc:d,oldIndex:f,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function cQ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function mL(n,t){return n instanceof b3&&t instanceof b3?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof _u&&t instanceof _u&&n._firestore===t._firestore&&zD(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class vu extends XD{constructor(t){super(),this.firestore=t}convertBytes(t){return new qc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yi(this.firestore,null,e)}}function gL(n,t,e){n=Cn(n,yi);const i=Cn(n.firestore,Ci),r=hy(n.converter,t,e);return a8(i,[sy(Ad(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Wn.none())])}function _L(n,t,e,...i){n=Cn(n,yi);const r=Cn(n.firestore,Ci),s=Ad(r);let l;return l="string"==typeof(t=(0,P.m9)(t))||t instanceof C3?WD(s,"updateDoc",n._key,t,e,i):$D(s,"updateDoc",n._key,t),a8(r,[l.toMutation(n._key,Wn.exists(!0))])}function vL(n,...t){var e,i,r;n=(0,P.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||GD(t[l])||(s=t[l],l++);const d={includeMetadataChanges:s.includeMetadataChanges};if(GD(t[l])){const S=t[l];t[l]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[l+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[l+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let f,v,b;if(n instanceof yi)v=Cn(n.firestore,Ci),b=p3(n._key.path),f={next:S=>{t[l]&&t[l](JD(v,n,S))},error:t[l+1],complete:t[l+2]};else{const S=Cn(n,vs);v=Cn(S.firestore,Ci),b=S._query;const I=new vu(v);f={next:H=>{t[l]&&t[l](new _u(v,I,S,H))},error:t[l+1],complete:t[l+2]},cL(n._query)}return function(S,I,H,N){const j=new ey(N),J=new aD(I,j,H);return S.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return nD(yield s8(S),J)})),()=>{j.bc(),S.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return rD(yield s8(S),J)}))}}(cr(v),b,d,f)}function a8(n,t){return function(e,i){const r=new Gi;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function iK(n,t,e){return hD.apply(this,arguments)}(yield UD(e),i,r)})),r.promise}(cr(n),t)}function JD(n,t,e){const i=e.docs.get(t._key),r=new vu(n);return new b3(n,r,t._key,i,new Id(e.hasPendingWrites,e.fromCache),t.converter)}const vQ={maxAttempts:5};class yL{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ad(t)}set(t,e,i){this._verifyNotCommitted();const r=yu(t,this._firestore),s=hy(r.converter,e,i),l=sy(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Wn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=yu(t,this._firestore);let l;return l="string"==typeof(e=(0,P.m9)(e))||e instanceof C3?WD(this._dataReader,"WriteBatch.update",s._key,e,i,r):$D(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(l.toMutation(s._key,Wn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=yu(t,this._firestore);return this._mutations=this._mutations.concat(new uu(e._key,Wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yu(n,t){if((n=(0,P.m9)(n)).firestore!==t)throw new ze(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yQ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ad(t)}get(t){const e=yu(t,this._firestore),i=new aQ(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return at();const s=r[0];if(s.isFoundDocument())return new Zp(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new Zp(this._firestore,i,e._key,null,e.converter);throw at()})}set(t,e,i){const r=yu(t,this._firestore),s=hy(r.converter,e,i),l=sy(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(t,e,i,...r){const s=yu(t,this._firestore);let l;return l="string"==typeof(e=(0,P.m9)(e))||e instanceof C3?WD(this._dataReader,"Transaction.update",s._key,e,i,r):$D(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,l),this}delete(t){const e=yu(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=yu(t,this._firestore),i=new vu(this._firestore);return super.get(t).then(r=>new b3(this._firestore,i,e._key,r._document,new Id(!1,!1),e.converter))}}function ex(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ze("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function bL(){if(typeof Uint8Array>"u")throw new ze("unimplemented","Uint8Arrays are not available in this environment.")}function ML(){if(!function uv(){return typeof atob<"u"}())throw new ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){n3=ms.SDK_VERSION,(0,ms._registerComponent)(new Qi.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),l=new Ci(new ev(e.getProvider("auth-internal")),new kw(e.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ze(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vc(d.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,ms.registerVersion)(rp,"3.8.0",n),(0,ms.registerVersion)(rp,"3.8.0","esm2017")}();class Xp{constructor(t){this._delegate=t}static fromBase64String(t){return ML(),new Xp(qc.fromBase64String(t))}static fromUint8Array(t){return bL(),new Xp(qc.fromUint8Array(t))}toBase64(){return ML(),this._delegate.toBase64()}toUint8Array(){return bL(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tx(n){return function AQ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class TQ{enableIndexedDbPersistence(t,e){return function PK(n,t){eL(n=Cn(n,Ci));const e=cr(n),i=n._freezeSettings(),r=new LD;return JV(e,r,new zV(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function OK(n){eL(n=Cn(n,Ci));const t=cr(n),e=n._freezeSettings(),i=new LD;return JV(t,i,new yK(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function RK(n){if(n._initialized&&!n._terminated)throw new ze(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(e=(0,be.Z)(function*(i){if(!to.C())return Promise.resolve();const r=i+"main";yield to.delete(r)}),function(i){return e.apply(this,arguments)})(xS(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class wL{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Vc||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Ic("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function UV(n,t,e,i={}){var r;const s=(n=Cn(n,$p))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let l,d;if("string"==typeof i.mockUserToken)l=i.mockUserToken,d=Ji.MOCK_USER;else{l=(0,P.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ze(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ji(f)}n._authCredentials=new J_(new op(l,d))}}(this._delegate,t,e,i)}enableNetwork(){return function BK(n){return function EK(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield ZV(n),e=yield BD(n);return t.setNetworkEnabled(!0),function(i){const r=et(i);return r._u.delete(0),Gp(r)}(e)}))}(cr(n=Cn(n,Ci)))}(this._delegate)}disableNetwork(){return function UK(n){return function AK(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield ZV(n),e=yield BD(n);return t.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const s=et(r);s._u.add(0),yield Qf(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(cr(n=Cn(n,Ci)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,NV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function FK(n){return function(t){const e=new Gi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function aK(n,t){return _D.apply(this,arguments)}(yield UD(t),e)})),e.promise}(cr(n=Cn(n,Ci)))}(this._delegate)}onSnapshotsInSync(t){return function _Q(n,t){return function kK(n,t){const e=new ey(t);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield s8(n),r=e,et(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield s8(n),r=e,void et(i).Ru.delete(r);var i,r}))}}(cr(n=Cn(n,Ci)),GD(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new c8(this,jV(this._delegate,t))}catch(e){throw ro(e,"collection()","Firestore.collection()")}}doc(t){try{return new r2(this,Jv(this._delegate,t))}catch(e){throw ro(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new so(this,function CK(n,t){if(n=Cn(n,$p),HD("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ze(fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(e=t,new t2(_n.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ro(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function CQ(n,t,e){n=Cn(n,Ci);const i=Object.assign(Object.assign({},vQ),e);return function(r){if(r.maxAttempts<1)throw new ze(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const d=new Gi;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const f=yield function YV(n){return ty(n).then(t=>t.datastore)}(r);new DK(r.asyncQueue,f,l,s,d).run()})),d.promise}(cr(n),r=>t(new yQ(n,r)),i)}(this._delegate,e=>t(new SL(this,e)))}batch(){return cr(this._delegate),new DL(new yL(this._delegate,t=>a8(this._delegate,t)))}loadBundle(t){return function jK(n,t){const e=cr(n=Cn(n,Ci)),i=new zK;return function VK(n,t,e,i){const r=function(s,l){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,f=function(f,v){if(f instanceof Uint8Array)return qV(f,v);if(f instanceof ArrayBuffer)return qV(new Uint8Array(f),v);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new bK(f,l);var f}(e,jp(t));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function vK(n,t,e){const i=et(n);var r;(r=(0,be.Z)(function*(s,l,d){try{const f=yield l.getMetadata();if(yield function(I,H){const N=et(I),j=C(H.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",J=>N.Ns.getBundleMetadata(J,H.id)).then(J=>!!J&&J.createTime.compareTo(j)>=0)}(s.localStore,f))return yield l.close(),d._completeWith({taskState:"Success",documentsLoaded:(I=f).totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}),Promise.resolve(new Set);d._updateProgress(DV(f));const v=new QY(f,s.localStore,l.yt);let b=yield l.mc();for(;b;){const I=yield v.Fu(b);I&&d._updateProgress(I),b=yield l.mc()}const S=yield v.complete();return yield y3(s,S.Lu,void 0),yield function(I,H){const N=et(I);return N.persistence.runTransaction("Save bundle","readwrite",j=>N.Ns.saveBundleMetadata(j,H))}(s.localStore,f),d._completeWith(S.progress),Promise.resolve(S.Bu)}catch(f){return Ic("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var I}),function(s,l,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield UD(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function GK(n,t){return function LK(n,t){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(e,i){const r=et(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield ny(n),t)}))}(cr(n=Cn(n,Ci)),t).then(e=>e?new vs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new so(this,e):null)}}class fy extends XD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xp(new qc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return r2.forKey(e,this.firestore,null)}}class SL{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new fy(t)}get(t){const e=Vd(t);return this._delegate.get(e).then(i=>new Jp(this._firestore,new b3(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Vd(t);return i?(ex("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Vd(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Vd(t);return this._delegate.delete(e),this}}class DL{constructor(t){this._delegate=t}set(t,e,i){const r=Vd(t);return i?(ex("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Vd(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Vd(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class kd{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Qp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new em(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=kd.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new kd(t,new fy(t),e),r.set(e,s)),s}}kd.INSTANCES=new WeakMap;class r2{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fy(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new r2(e,new yi(e._delegate,i,new Qe(t)))}static forKey(t,e,i){return new r2(e,new yi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new c8(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new c8(this.firestore,jV(this._delegate,t))}catch(e){throw ro(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,P.m9)(t))instanceof yi&&GV(this._delegate,t)}set(t,e){e=ex("DocumentReference.set",e);try{return e?gL(this._delegate,t,e):gL(this._delegate,t)}catch(i){throw ro(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?_L(this._delegate,t):_L(this._delegate,t,e,...i)}catch(r){throw ro(r,"updateDoc()","DocumentReference.update()")}}delete(){return function mQ(n){return a8(Cn(n.firestore,Ci),[new uu(n._key,Wn.none())])}(this._delegate)}onSnapshot(...t){const e=xL(t),i=EL(t,r=>new Jp(this.firestore,new b3(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return vL(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function uQ(n){n=Cn(n,yi);const t=Cn(n.firestore,Ci),e=cr(t),i=new vu(t);return function TK(n,t){const e=new Gi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,s,l){try{const d=yield function(f,v){const b=et(f);return b.persistence.runTransaction("read document","readonly",S=>b.localDocuments.getDocument(S,v))}(r,s);d.isFoundDocument()?l.resolve(d):d.isNoDocument()?l.resolve(null):l.reject(new ze(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=e8(d,`Failed to get document '${s} from cache`);l.reject(f)}}),function(r,s,l){return i.apply(this,arguments)})(yield ny(n),t,e);var i})),e.promise}(e,n._key).then(r=>new b3(t,i,n._key,r,new Id(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function dQ(n){n=Cn(n,yi);const t=Cn(n.firestore,Ci);return KV(cr(t),n._key,{source:"server"}).then(e=>JD(t,n,e))}(this._delegate):function lQ(n){n=Cn(n,yi);const t=Cn(n.firestore,Ci);return KV(cr(t),n._key).then(e=>JD(t,n,e))}(this._delegate),e.then(i=>new Jp(this.firestore,new b3(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new r2(this.firestore,this._delegate.withConverter(t?kd.getInstance(this.firestore,t):null))}}function ro(n,t,e){return n.message=n.message.replace(t,e),n}function xL(n){for(const t of n)if("object"==typeof t&&!tx(t))return t;return{}}function EL(n,t){var e,i;let r;return r=tx(n[0])?n[0]:tx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Jp{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new r2(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return mL(this._delegate,t._delegate)}}class em extends Jp{data(t){const e=this._delegate.data(t);return function Tw(n,t){n||at()}(void 0!==e),e}}class so{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fy(t)}where(t,e,i){try{return new so(this.firestore,gu(this._delegate,function JK(n,t,e){const i=t,r=cy("where",n);return Kp._create(r,i,e)}(t,e,i)))}catch(r){throw ro(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new so(this.firestore,gu(this._delegate,function eQ(n,t="asc"){const e=t,i=cy("orderBy",n);return QD._create(i,e)}(t,e)))}catch(i){throw ro(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new so(this.firestore,gu(this._delegate,function tQ(n){return RV("limit",n),ly._create("limit",n,"F")}(t)))}catch(e){throw ro(e,"limit()","Query.limit()")}}limitToLast(t){try{return new so(this.firestore,gu(this._delegate,function nQ(n){return RV("limitToLast",n),ly._create("limitToLast",n,"L")}(t)))}catch(e){throw ro(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new so(this.firestore,gu(this._delegate,function iQ(...n){return uy._create("startAt",n,!0)}(...t)))}catch(e){throw ro(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new so(this.firestore,gu(this._delegate,function rQ(...n){return uy._create("startAfter",n,!1)}(...t)))}catch(e){throw ro(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new so(this.firestore,gu(this._delegate,function sQ(...n){return dy._create("endBefore",n,!1)}(...t)))}catch(e){throw ro(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new so(this.firestore,gu(this._delegate,function oQ(...n){return dy._create("endAt",n,!0)}(...t)))}catch(e){throw ro(e,"endAt()","Query.endAt()")}}isEqual(t){return zD(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function fQ(n){n=Cn(n,vs);const t=Cn(n.firestore,Ci),e=cr(t),i=new vu(t);return function IK(n,t){const e=new Gi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,s,l){try{const d=yield $v(r,s,!0),f=new AV(s,d.Hi),v=f.Wu(d.documents),b=f.applyChanges(v,!1);l.resolve(b.snapshot)}catch(d){const f=e8(d,`Failed to execute query '${s} against cache`);l.reject(f)}}),function(r,s,l){return i.apply(this,arguments)})(yield ny(n),t,e);var i})),e.promise}(e,n._query).then(r=>new _u(t,i,n,r))}(this._delegate):"server"===t?.source?function pQ(n){n=Cn(n,vs);const t=Cn(n.firestore,Ci),e=cr(t),i=new vu(t);return QV(e,n._query,{source:"server"}).then(r=>new _u(t,i,n,r))}(this._delegate):function hQ(n){n=Cn(n,vs);const t=Cn(n.firestore,Ci),e=cr(t),i=new vu(t);return cL(n._query),QV(e,n._query).then(r=>new _u(t,i,n,r))}(this._delegate),e.then(i=>new nx(this.firestore,new _u(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=xL(t),i=EL(t,r=>new nx(this.firestore,new _u(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return vL(this._delegate,e,i)}withConverter(t){return new so(this.firestore,this._delegate.withConverter(t?kd.getInstance(this.firestore,t):null))}}class kQ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new em(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nx{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new so(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new em(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new kQ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new em(this._firestore,i))})}isEqual(t){return mL(this._delegate,t._delegate)}}class c8 extends so{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new r2(this.firestore,t):null}doc(t){try{return new r2(this.firestore,void 0===t?Jv(this._delegate):Jv(this._delegate,t))}catch(e){throw ro(e,"doc()","CollectionReference.doc()")}}add(t){return function gQ(n,t){const e=Cn(n.firestore,Ci),i=Jv(n),r=hy(n.converter,t);return a8(e,[sy(Ad(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Wn.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new r2(this.firestore,e))}isEqual(t){return GV(this._delegate,t._delegate)}withConverter(t){return new c8(this.firestore,this._delegate.withConverter(t?kd.getInstance(this.firestore,t):null))}}function Vd(n){return Cn(n,yi)}class ix{constructor(...t){this._delegate=new C3(...t)}static documentId(){return new ix(ki.keyField().canonicalString())}isEqual(t){return(t=(0,P.m9)(t))instanceof C3&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ld{constructor(t){this._delegate=t}static serverTimestamp(){const t=function MQ(){return new qD("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ld(t)}static delete(){const t=function bQ(){return new Wp("deleteField")}();return t._methodName="FieldValue.delete",new Ld(t)}static arrayUnion(...t){const e=function wQ(...n){return new ZK("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Ld(e)}static arrayRemove(...t){const e=function SQ(...n){return new YK("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Ld(e)}static increment(t){const e=function DQ(n){return new KK("increment",n)}(t);return e._methodName="FieldValue.increment",new Ld(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const VQ={Firestore:wL,GeoPoint:iy,Timestamp:gi,Blob:Xp,Transaction:SL,WriteBatch:DL,DocumentReference:r2,DocumentSnapshot:Jp,Query:so,QueryDocumentSnapshot:em,QuerySnapshot:nx,CollectionReference:c8,FieldPath:ix,FieldValue:Ld,setLogLevel:function IQ(n){!function gk(n){Tc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function HQ(n){(function LQ(n,t){n.INTERNAL.registerComponent(new Qi.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},VQ)))})(n,(t,e)=>new wL(t,e,new TQ)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(Vo.Z);var es=R(6451),py=R(5363),zQ=R(6063);class AL extends Et.x{constructor(t=1/0,e=1/0,i=zQ.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;e||(i.push(t),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!t.closed;l+=i?1:2)t.next(s[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=e.now();let d=0;for(let f=1;f<i.length&&i[f]<=l;f+=2)d=f;d&&i.splice(0,d+1)}}}var TL=R(3099);function rx(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,TL.B)({connector:()=>new AL(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function IL(n,t){return(0,mr.m)(t)?Mn(()=>n,t):Mn(()=>n)}var sx=R(9468);R(259);const ax=new Map,VL={activated:!1,tokenObservers:[]},FQ={initialized:!1,enabled:!1};function ys(n){return ax.get(n)||Object.assign({},VL)}function gy(){return FQ}class $Q{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,be.Z)(function*(){e.stop();try{e.pending=new P.BH,yield function WQ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new P.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const oo=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function HL(n){if(!ys(n).activated)throw oo.create("use-before-activation",{appName:n.name})}function ux(n,t){return dx.apply(this,arguments)}function dx(){return dx=(0,be.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const s={method:"POST",body:JSON.stringify(t),headers:i};let l,d;try{l=yield fetch(n,s)}catch(S){throw oo.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==l.status)throw oo.create("fetch-status-error",{httpStatus:l.status});try{d=yield l.json()}catch(S){throw oo.create("fetch-parse-error",{originalErrorMessage:S?.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw oo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const v=1e3*Number(f[1]),b=Date.now();return{token:d.token,expireTimeMillis:b+v,issuedAtTimeMillis:b}}),dx.apply(this,arguments)}function QQ(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const tm="firebase-app-check-store";let yy=null;function NL(){return yy||(yy=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(oo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(tm,{keyPath:"compositeKey"})}}catch(e){t(oo.create("storage-open",{originalErrorMessage:e?.message}))}}),yy)}function hx(){return hx=(0,be.Z)(function*(n,t){const i=(yield NL()).transaction(tm,"readwrite"),s=i.objectStore(tm).put({compositeKey:n,value:t});return new Promise((l,d)=>{s.onsuccess=f=>{l()},i.onerror=f=>{var v;d(oo.create("storage-set",{originalErrorMessage:null===(v=f.target.error)||void 0===v?void 0:v.message}))}})}),hx.apply(this,arguments)}const nm=new Ui.Yd("@firebase/app-check");function mx(n,t){return(0,P.hl)()?function tX(n,t){return function PL(n,t){return hx.apply(this,arguments)}(function RL(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{nm.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function FL(){return gy().enabled}function BL(){return _x.apply(this,arguments)}function _x(){return _x=(0,be.Z)(function*(){const n=gy();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),_x.apply(this,arguments)}const aX={error:"UNKNOWN_ERROR"};function cX(n){return P.US.encodeString(JSON.stringify(n),!1)}function Cy(n){return vx.apply(this,arguments)}function vx(){return vx=(0,be.Z)(function*(n,t=!1){const e=n.app;HL(e);const i=ys(e);let s,r=i.token;if(r&&!l8(r)&&(i.token=void 0,r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(l8(f)?r=f:yield mx(e,void 0))}if(!t&&r&&l8(r))return{token:r.token};let d,l=!1;if(FL()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ux(QQ(e,yield BL()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const f=yield i.exchangeTokenPromise;return yield mx(e,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield ys(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?nm.warn(f.message):nm.error(f),s=f}return r?s?d=l8(r)?{token:r.token,internalError:s}:GL(s):(d={token:r.token},i.token=r,yield mx(e,r)):d=GL(s),l&&jL(e,d),d}),vx.apply(this,arguments)}function Cx(n,t){const e=ys(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function UL(n){const{app:t}=n,e=ys(t);let i=e.tokenRefresher;i||(i=function lX(n){const{app:t}=n;return new $Q((0,be.Z)(function*(){let i;if(i=ys(t).token?yield Cy(n,!0):yield Cy(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ys(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function jL(n,t){const e=ys(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function l8(n){return n.expireTimeMillis-Date.now()>0}function GL(n){return{token:cX(aX),error:n}}class uX{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ys(this.app);for(const e of t)Cx(this.app,e.next);return Promise.resolve()}}const XL="app-check-internal";!function SX(){(0,ms._registerComponent)(new Qi.wA("app-check",n=>function dX(n,t){return new uX(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(XL).initialize()})),(0,ms._registerComponent)(new Qi.wA(XL,n=>function hX(n){return{getToken:t=>Cy(n,t),addTokenListener:t=>function yx(n,t,e,i){const{app:r}=n,s=ys(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&l8(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),UL(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>UL(n))}(n,"INTERNAL",t),removeTokenListener:t=>Cx(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ms.registerVersion)("@firebase/app-check","0.6.0")}();class im{constructor(){return(0,wn.vb)("app-check")}}typeof window<"u"&&window;var My=R(9260);const Dx=new o.OlP("angularfire2.auth.use-emulator"),xx=new o.OlP("angularfire2.auth.settings"),Ex=new o.OlP("angularfire2.auth.tenant-id"),Ax=new o.OlP("angularfire2.auth.langugage-code"),Tx=new o.OlP("angularfire2.auth.use-device-language"),Ix=new o.OlP("angularfire.auth.persistence"),kx=(n,t,e,i,r,s,l,d)=>(0,Bi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),l)for(const[v,b]of Object.entries(l))f.settings[v]=b;return d&&f.setPersistence(d),f},[e,i,r,s,l,d]);let rm=(()=>{class n{constructor(e,i,r,s,l,d,f,v,b,S,I,H){const N=new Et.x,j=nt(void 0).pipe((0,py.Q)(l.outsideAngular),Mn(()=>s.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,9169)))),(0,Je.U)(()=>(0,Bi.on)(e,s,i)),(0,Je.U)(J=>kx(J,s,d,v,b,S,f,I)),rx({bufferSize:1,refCount:!1}));if(Ni(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{j.pipe(oe()).subscribe();const De=j.pipe(Mn(je=>je.getRedirectResult().then(rt=>rt,()=>null)),wn.iC,rx({bufferSize:1,refCount:!1})),Pe=j.pipe(Mn(je=>new gn.y(rt=>({unsubscribe:s.runOutsideAngular(()=>je.onAuthStateChanged(mt=>rt.next(mt),mt=>rt.error(mt),()=>rt.complete()))})))),Oe=j.pipe(Mn(je=>new gn.y(rt=>({unsubscribe:s.runOutsideAngular(()=>je.onIdTokenChanged(mt=>rt.next(mt),mt=>rt.error(mt),()=>rt.complete()))}))));this.authState=De.pipe(IL(Pe),(0,sx.R)(l.outsideAngular),(0,py.Q)(l.insideAngular)),this.user=De.pipe(IL(Oe),(0,sx.R)(l.outsideAngular),(0,py.Q)(l.insideAngular)),this.idToken=this.user.pipe(Mn(je=>je?(0,on.D)(je.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(Mn(je=>je?(0,on.D)(je.getIdTokenResult()):nt(null))),this.credential=(0,es.T)(De,N,this.authState.pipe(x(je=>!je))).pipe((0,Je.U)(je=>je?.user?je:null),(0,sx.R)(l.outsideAngular),(0,py.Q)(l.insideAngular))}return(0,Bi.pX)(this,j,s,{spy:{apply:(J,De,Pe)=>{(J.startsWith("signIn")||J.startsWith("createUser"))&&Pe.then(Oe=>N.next(Oe))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bi.Dh),o.LFG(Bi.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(wn.HU),o.LFG(Dx,8),o.LFG(xx,8),o.LFG(Ex,8),o.LFG(Ax,8),o.LFG(Tx,8),o.LFG(Ix,8),o.LFG(im,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IX=(()=>{class n{constructor(){My.Z.registerVersion("angularfire",wn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[rm]}),n})();function eH(n,t){return function kX(n,t=O4.z){return new gn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function Vx(n,t){return eH(n,t).pipe((0,Je.U)(e=>({payload:e,type:"query"})))}function wy(n,t){return Vx(n,t).pipe(Vr(void 0),h7(),(0,Je.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,d)=>{const f=r.find(b=>b.doc.ref.isEqual(l.ref)),v=e?.payload.docs.find(b=>b.ref.isEqual(l.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(l.metadata)||!f&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:l}})}),s}))}function tH(n,t,e){return wy(n,e).pipe(Ft((i,r)=>function LX(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function HX(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Lx(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Lx(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Lx(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),P6(),(0,Je.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Lx(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function nH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class iH{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=wy(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Je.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Vr(void 0),h7(),x(([i,r])=>r.length>0||!i),(0,Je.U)(([i,r])=>r),wn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ft((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=nH(t);return tH(this.query,e,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(t={}){return Vx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),wn.iC)}get(t){return(0,on.D)(this.query.get(t)).pipe(wn.iC)}add(t){return this.ref.add(t)}doc(t){return new rH(this.ref.doc(t),this.afs)}}class rH{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=aH(i,e);return new iH(r,s,this.afs)}snapshotChanges(){return function VX(n,t){return eH(n,t).pipe(Vr(void 0),h7(),(0,Je.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,on.D)(this.ref.get(t)).pipe(wn.iC)}}class zX{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?wy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),x(e=>e.length>0),wn.iC):wy(this.query,this.afs.schedulers.outsideAngular).pipe(wn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ft((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=nH(t);return tH(this.query,e,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(t={}){return Vx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),wn.iC)}get(t){return(0,on.D)(this.query.get(t)).pipe(wn.iC)}}const sH=new o.OlP("angularfire2.enableFirestorePersistence"),oH=new o.OlP("angularfire2.firestore.persistenceSettings"),NX=new o.OlP("angularfire2.firestore.settings"),PX=new o.OlP("angularfire2.firestore.use-emulator");function aH(n,t=(e=>e)){return{query:t(n),ref:n}}let cH=(()=>{class n{constructor(e,i,r,s,l,d,f,v,b,S,I,H,N,j,J,De,Pe){this.schedulers=f;const Oe=(0,Bi.on)(e,d,i),je=b;S&&kx(Oe,d,I,N,j,J,H,De),[this.firestore,this.persistenceEnabled$]=(0,Bi.cc)(`${Oe.name}.firestore`,"AngularFirestore",Oe.name,()=>{const rt=d.runOutsideAngular(()=>Oe.firestore());if(s&&rt.settings(s),je&&rt.useEmulator(...je),r&&!Ni(l)){const mt=()=>{try{return(0,on.D)(rt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(qt){return typeof console<"u"&&console.warn(qt),nt(!1)}};return[rt,d.runOutsideAngular(mt)]}return[rt,nt(!1)]},[s,je,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:l}=aH(r,i),d=this.schedulers.ngZone.run(()=>s);return new iH(d,l,this)}collectionGroup(e,i){const r=i||(l=>l),s=this.firestore.collectionGroup(e);return new zX(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new rH(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bi.Dh),o.LFG(Bi.xv,8),o.LFG(sH,8),o.LFG(NX,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(wn.HU),o.LFG(oH,8),o.LFG(PX,8),o.LFG(rm,8),o.LFG(Dx,8),o.LFG(xx,8),o.LFG(Ex,8),o.LFG(Ax,8),o.LFG(Tx,8),o.LFG(Ix,8),o.LFG(im,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),OX=(()=>{class n{constructor(){My.Z.registerVersion("angularfire",wn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:sH,useValue:!0},{provide:oH,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[cH]}),n})(),lH=(()=>{class n{constructor(e,i){this.firestore=e,this.auth=i}signUp(e,i){return this.auth.createUserWithEmailAndPassword(e.email,i).then(r=>{console.log(r),this.sendVerificationMail(),this.setUserData(r.user,e)}).catch(r=>{window.alert(r.message)})}signIn(e,i){return this.auth.signInWithEmailAndPassword(e,i).then(r=>(console.log(r),this.auth.authState.subscribe(s=>{s&&console.log(s)}),this.getUserDoc(r.user?.uid??""))).catch(r=>{window.alert(r.message)})}sendVerificationMail(){}getUserDoc(e){return this.firestore.collection("users").doc(e).valueChanges()}setUserData(e,i){return console.log(i),this.firestore.doc(`users/${e.uid}`).set({id:e.uid,userName:i.userName,email:i.email},{merge:!0})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(cH),o.LFG(rm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RX=(()=>{class n{constructor(){}ngOnInit(){}signInGoogle(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-in-google"]],decls:4,vars:0,consts:[[1,"form__button"],["src","assets/images/google-logo.png","alt","","width","20px"]],template:function(e,i){1&e&&(o.TgZ(0,"button",0)(1,"span"),o._UZ(2,"img",1),o._uU(3," Continue with Google"),o.qZA()())},styles:[".form__button[_ngcontent-%COMP%]{width:503px;height:48px;border-radius:8px;border:none;cursor:pointer;position:relative;border:1px solid #222;background-color:#fff;font-size:14px;margin:17px 0}.form__button[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}img[_ngcontent-%COMP%]{position:absolute;left:22px;top:14px}"]}),n})(),FX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-in-facebook"]],decls:4,vars:0,consts:[[1,"form__button"],["src","assets/images/facebook-logo.png","alt","","width","20px"]],template:function(e,i){1&e&&(o.TgZ(0,"button",0)(1,"span"),o._UZ(2,"img",1),o._uU(3," Continue with Facebook"),o.qZA()())},styles:[".form__button[_ngcontent-%COMP%]{width:503px;height:48px;border-radius:8px;border:none;cursor:pointer;position:relative;border:1px solid #222;background-color:#fff;font-size:14px}.form__button[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}img[_ngcontent-%COMP%]{position:absolute;left:22px;top:14px}"]}),n})(),BX=(()=>{class n{constructor(e,i,r,s){this.formBuilder=e,this.firebaseWorker=i,this.userService=r,this.router=s,this.submitted=!1}ngOnInit(){}onBtnClick(){}onFormSubmit(e){this.submitted=!0,this.firebaseWorker.signIn(e.value.email,e.value.password).then(i=>{i.subscribe(r=>{this.userService.userService.next(r),this.user=r,this.router.navigate(["/profile"],{queryParams:{id:r.id,firstName:r.userName,email:r.email}})})})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Bh),o.Y36(lH),o.Y36(uh),o.Y36(ei))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-in"]],decls:30,vars:0,consts:[["id","login","aria-hidden","true","aria-labelledby","exampleModalToggleLabel","tabindex","-1",1,"modal","custom","fade"],[1,"modal-dialog","modal-dialog-centered",2,"background-color","#fff"],[1,"modal-content"],[1,"form",3,"ngSubmit"],["form","ngForm"],[1,"form__header"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","close"],[1,"wrapper"],[1,"form-floating","mb-3"],["ngModel","","name","email","type","text","id","email","placeholder","email",1,"form-control","name","shadow-none"],["for","email"],[1,"input__wrapper__text"],["ngModel","","name","password","type","password","NgModel","","placeholder","password","id","password","maxlength","8","required","",1,"form-control","shadow-none"],["for","password"],["data-bs-toggle","modal","href","#signup",1,"signup"],["type","submit","data-bs-dismiss","modal",1,"btn","form__button"],[1,"form__line"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3,4),o.NdJ("ngSubmit",function(){o.CHM(r);const l=o.MAs(4);return o.KtG(i.onFormSubmit(l))}),o.TgZ(5,"h1",5),o._uU(6,"Sign in"),o._UZ(7,"span",6),o.qZA(),o.TgZ(8,"div",7)(9,"div",8),o._UZ(10,"input",9),o.TgZ(11,"label",10),o._uU(12,"Email"),o.qZA()(),o.TgZ(13,"p",11),o._uU(14,"Make sure it matches the name on your government ID."),o.qZA()(),o.TgZ(15,"div",7)(16,"div",8),o._UZ(17,"input",12),o.TgZ(18,"label",13),o._uU(19,"Password"),o.qZA()(),o.TgZ(20,"p",11),o._uU(21,"We'll email you trip confirmations and receipts. "),o.TgZ(22,"a",14),o._uU(23,"Signup"),o.qZA()()(),o.TgZ(24,"button",15),o._uU(25,"Login"),o.qZA(),o.TgZ(26,"div",16),o._uU(27,"or"),o.qZA(),o._UZ(28,"app-sign-in-facebook")(29,"app-sign-in-google"),o.qZA()()()()}},dependencies:[Qa,Ya,T4,I4,P4,z6,ga,gc,RX,FX],styles:['.modal[_ngcontent-%COMP%]{height:auto;overflow:visible;padding:100px 0 200px}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translate3d(0,100vh,0)}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translateZ(0)}.mb-3[_ngcontent-%COMP%]{margin-bottom:0!important}.btn[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none}.form[_ngcontent-%COMP%]{width:568px;height:auto;background-color:#fff;display:flex;flex-direction:column;align-items:center;border-radius:12px;overflow:hidden;position:relative;left:-35px;margin:-5px;padding-bottom:5px}.form__header[_ngcontent-%COMP%]{font-size:20px;font-weight:700;height:64px;width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:22px;border-bottom:1px solid #ebebeb}.close[_ngcontent-%COMP%]{position:relative;top:4px;left:-277px;width:6px;height:6px;display:block}.close[_ngcontent-%COMP%]:after{content:"";width:32px;height:32px;border-radius:50%;position:absolute;top:-9px;left:-9px}.wrapper[_ngcontent-%COMP%]{width:503px;display:flex;flex-wrap:wrap}.input__wrapper[_ngcontent-%COMP%]{position:relative;height:55px;width:auto}.input__wrapper__text[_ngcontent-%COMP%]{font-size:12px;color:#717171;margin:8px 0 22px}input[_ngcontent-%COMP%]{width:503px;height:56px!important;border:1px solid #717171;border-radius:8px}.name[_ngcontent-%COMP%]{border-radius:8px}input[_ngcontent-%COMP%]:focus{border:2px solid #000;border-radius:8px}.signup[_ngcontent-%COMP%]{font-size:16px}.form__button[_ngcontent-%COMP%]{width:503px;height:48px;border-radius:8px;cursor:pointer;position:relative;border:1px solid #222;background-color:#e21b5f;color:#fff;font-size:16px;border:none}.form__line[_ngcontent-%COMP%]{height:45px;width:503px;position:relative;display:flex;justify-content:center;align-items:center;font-size:12px;margin-top:7px}.form__line[_ngcontent-%COMP%]:before{content:"";position:absolute;width:46%;height:1px;background:#ddd;top:50%;left:0}.form__line[_ngcontent-%COMP%]:after{content:"";position:absolute;width:46%;height:1px;background:#ddd;top:50%;right:0}.popup[_ngcontent-%COMP%]{color:red;position:absolute;top:17px;right:35px}']}),n})();class UX{}let jX=(()=>{class n{constructor(e,i,r){this.formBuilder=e,this.firebaseWorker=i,this.router=r}ngOnInit(){}onFormSubmit(e){var i=Object.assign(new UX,e.value);console.log(i),this.firebaseWorker.signUp(i,e.value.password).then(r=>{this.router.navigate(["/"])})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Bh),o.Y36(lH),o.Y36(ei))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-up"]],decls:38,vars:0,consts:[["id","signup","aria-hidden","true","aria-labelledby","exampleModalToggleLabel","tabindex","-1",1,"modal","custom","fade"],[1,"modal-dialog","modal-dialog-centered",2,"background-color","#fff"],[1,"modal-content"],[1,"form",3,"ngSubmit"],["form","ngForm"],[1,"form__header"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","close"],[1,"wrapper"],[1,"form-floating","mb-3"],["ngModel","","name","userName","type","text","id","name1","placeholder","name","maxlength","10",1,"form-control","name","shadow-none"],["for","name1"],["name","password","type","password","ngModel","","placeholder","password","id","password1","maxlength","8",1,"form-control","shadow-none"],["for","password1"],[1,"input__wrapper__text"],["name","email","type","email","ngModel","","id","email","placeholder","name@example.com",1,"form-control","shadow-none"],["for","email"],["type","submit","data-bs-dismiss","modal",1,"btn","form__button"],[1,"form__line"],[1,"form__button"],["src","assets/images/facebook-logo.png","alt","","width","20px"],["src","assets/images/google-logo.png","alt","","width","20px"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3,4),o.NdJ("ngSubmit",function(){o.CHM(r);const l=o.MAs(4);return o.KtG(i.onFormSubmit(l))}),o.TgZ(5,"h1",5),o._uU(6,"Sign up"),o._UZ(7,"span",6),o.qZA(),o.TgZ(8,"div",7)(9,"div",8),o._UZ(10,"input",9),o.TgZ(11,"label",10),o._uU(12,"First name"),o.qZA()(),o.TgZ(13,"div",8),o._UZ(14,"input",11),o.TgZ(15,"label",12),o._uU(16,"Password"),o.qZA()(),o.TgZ(17,"p",13),o._uU(18,"Make sure it matches the name on your government ID."),o.qZA()(),o.TgZ(19,"div",7)(20,"div",8),o._UZ(21,"input",14),o.TgZ(22,"label",15),o._uU(23,"Email address"),o.qZA()(),o.TgZ(24,"p",13),o._uU(25,"We'll email you trip confirmations and receipts."),o.qZA()(),o.TgZ(26,"button",16),o._uU(27,"Register"),o.qZA(),o.TgZ(28,"div",17),o._uU(29,"or"),o.qZA(),o.TgZ(30,"button",18)(31,"span"),o._UZ(32,"img",19),o._uU(33," Continue with Facebook"),o.qZA()(),o.TgZ(34,"button",18)(35,"span"),o._UZ(36,"img",20),o._uU(37," Continue with Google"),o.qZA()()()()()()}},dependencies:[Qa,Ya,T4,I4,z6,ga,gc],styles:['.modal[_ngcontent-%COMP%]{height:auto;overflow:visible;padding:100px 0 200px}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translate3d(0,100vh,0)}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translateZ(0)}.mb-3[_ngcontent-%COMP%]{margin-bottom:0!important}.btn[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none}.form[_ngcontent-%COMP%]{width:568px;height:auto;background-color:#fff;display:flex;flex-direction:column;align-items:center;border-radius:12px;overflow:hidden;position:relative;left:-35px;margin:-5px;padding-bottom:5px}.form__header[_ngcontent-%COMP%]{font-size:20px;font-weight:700;height:64px;width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:22px;border-bottom:1px solid #ebebeb}.close[_ngcontent-%COMP%]{position:relative;top:4px;left:-277px;width:6px;height:6px;display:block}.close[_ngcontent-%COMP%]:after{content:"";width:32px;height:32px;border-radius:50%;position:absolute;top:-9px;left:-9px}.wrapper[_ngcontent-%COMP%]{width:503px;display:flex;flex-wrap:wrap}.input__wrapper[_ngcontent-%COMP%]{position:relative;height:55px;width:auto}.input__wrapper__text[_ngcontent-%COMP%]{font-size:12px;color:#717171;margin:8px 0 22px}input[_ngcontent-%COMP%]{width:503px;height:56px!important;border:1px solid #717171;border-radius:8px}.name[_ngcontent-%COMP%]{border-radius:8px 8px 0 0}.lastname[_ngcontent-%COMP%]{border-radius:0 0 8px 8px}input[_ngcontent-%COMP%]:focus{border:2px solid #000;border-radius:8px}.form__button[_ngcontent-%COMP%]{width:503px;height:48px;border-radius:8px;border:none;cursor:pointer;position:relative;border:1px solid #222;background-color:#fff;font-size:14px}.form__button[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.form__button[_ngcontent-%COMP%]:first-of-type{background-color:#e21b5f;color:#fff;border:none;font-size:16px}.form__button[_ngcontent-%COMP%]:nth-of-type(3){margin:17px 0}img[_ngcontent-%COMP%]{position:absolute;left:22px;top:14px}.form__line[_ngcontent-%COMP%]{height:45px;width:503px;position:relative;display:flex;justify-content:center;align-items:center;font-size:12px;margin-top:7px}.form__line[_ngcontent-%COMP%]:before{content:"";position:absolute;width:46%;height:1px;background:#ddd;top:50%;left:0}.form__line[_ngcontent-%COMP%]:after{content:"";position:absolute;width:46%;height:1px;background:#ddd;top:50%;right:0}.popup[_ngcontent-%COMP%]{color:red;position:absolute;top:17px;right:35px}']}),n})(),uH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-account-pg"]],decls:2,vars:0,template:function(e,i){1&e&&o._UZ(0,"app-sign-up")(1,"app-sign-in")},dependencies:[BX,jX]}),n})();var Rx={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},Fx={prefix:"fas",iconName:"bed-pulse",icon:[640,512,["procedures"],"f487","M483.2 9.6L524 64h92c13.3 0 24 10.7 24 24s-10.7 24-24 24H512c-7.6 0-14.7-3.6-19.2-9.6L468.7 70.3l-47 99.9c-3.7 7.8-11.3 13.1-19.9 13.7s-16.9-3.4-21.7-10.6L339.2 112H216c-13.3 0-24-10.7-24-24s10.7-24 24-24H352c8 0 15.5 4 20 10.7l24.4 36.6 45.9-97.5C445.9 6.2 453.2 1 461.6 .1s16.6 2.7 21.6 9.5zM320 160h12.7l20.7 31.1c11.2 16.8 30.6 26.3 50.7 24.8s37.9-13.7 46.5-32L461.9 160H544c53 0 96 43 96 96V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V448H352 320 64v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V96C0 78.3 14.3 64 32 64s32 14.3 32 32V352H288V192c0-17.7 14.3-32 32-32zM176 320c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80z"]},zP={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},SO={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},PR={prefix:"fas",iconName:"bed",icon:[640,512,[128716],"f236","M32 32c17.7 0 32 14.3 32 32V320H288V160c0-17.7 14.3-32 32-32H544c53 0 96 43 96 96V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V416H352 320 64v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V64C0 46.3 14.3 32 32 32zM176 288c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80z"]},BR={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},JF={prefix:"fas",iconName:"link-slash",icon:[640,512,["chain-broken","chain-slash","unlink"],"f127","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L489.3 358.2l90.5-90.5c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114l-96 96-31.9-25C430.9 239.6 420.1 175.1 377 132c-52.2-52.3-134.5-56.2-191.3-11.7L38.8 5.1zM239 162c30.1-14.9 67.7-9.9 92.8 15.3c20 20 27.5 48.3 21.7 74.5L239 162zM406.6 416.4L220.9 270c-2.1 39.8 12.2 80.1 42.2 110c38.9 38.9 94.4 51 143.6 36.3zm-290-228.5L60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l61.8-61.8-50.6-39.9z"]};let AE,BB=(()=>{class n{constructor(){this.location=new Et.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{AE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{AE=!1}let u8,No=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?m2(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function jB(){if(u8)return u8;if("object"!=typeof document||!document)return u8=new Set(UB),u8;let n=document.createElement("input");return u8=new Set(UB.filter(t=>(n.setAttribute("type",t),n.type===t))),u8}let um,Hd,TE;function Fy(n){return function l9e(){if(null==um&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>um=!0}))}finally{um=um||!1}return um}()?n:!!n.capture}function u9e(){if(null==Hd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Hd=!1,Hd;if("scrollBehavior"in document.documentElement.style)Hd=!0;else{const n=Element.prototype.scrollTo;Hd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Hd}function GB(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function zd(n){return n.composedPath?n.composedPath()[0]:n.target}function IE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function LE(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function $y(n){return x((t,e)=>n<=e)}var Wy=R(5032);function f8(n){return(0,Nn.e)((t,e)=>{(0,jr.Xf)(n).subscribe((0,En.x)(e,()=>e.complete(),Wy.Z)),!e.closed&&t.subscribe(e)})}function ao(n){return null!=n&&"false"!=`${n}`}function $B(n){return Array.isArray(n)?n:[n]}function wr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function M3(n){return n instanceof o.SBq?n.nativeElement:n}function WB(n,t=O4.z){return(0,Nn.e)((e,i)=>{let r=null,s=null,l=null;const d=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function f(){const v=l+n,b=t.now();if(b<v)return r=this.schedule(void 0,v-b),void i.add(r);d()}e.subscribe((0,En.x)(i,v=>{s=v,l=t.now(),r||(r=t.schedule(f,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}let ZB=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b9e=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=M3(e);return new gn.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Et.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ZB))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M9e=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ao(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function v9e(n,t=0){return function y9e(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(WB(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(b9e),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),YB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ZB]}),n})(),D9e=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function E9e(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function x9e(n){try{return n.frameElement}catch{return null}}(function z9e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===JB(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=JB(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function L9e(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function H9e(n){return!function T9e(n){return function k9e(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function A9e(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function I9e(n){return function V9e(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||XB(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(No))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XB(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function JB(n){if(!XB(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class N9e{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(nn(1)).subscribe(t)}}let P9e=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new N9e(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(D9e),o.LFG(o.R0b),o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O9e=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=ao(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=ao(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=GB(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(P9e),o.Y36(ae))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[o.TTD]}),n})();function eU(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function tU(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const R9e=new o.OlP("cdk-input-modality-detector-options"),F9e={ignoreKeys:[18,17,224,91,16]},p8=Fy({passive:!0,capture:!0});let B9e=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Vn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(d=>d===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zd(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(eU(l)?"keyboard":"mouse"),this._mostRecentTarget=zd(l))},this._onTouchstart=l=>{tU(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zd(l))},this._options={...F9e,...s},this.modalityDetected=this._modality.pipe($y(1)),this.modalityChanged=this.modalityDetected.pipe(P6()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,p8),r.addEventListener("mousedown",this._onMousedown,p8),r.addEventListener("touchstart",this._onTouchstart,p8)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,p8),document.removeEventListener("mousedown",this._onMousedown,p8),document.removeEventListener("touchstart",this._onTouchstart,p8))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(No),o.LFG(o.R0b),o.LFG(ae),o.LFG(R9e,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j9e=new o.OlP("cdk-focus-monitor-default-options"),Zy=Fy({passive:!0,capture:!0});let iU=(()=>{class n{constructor(e,i,r,s,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Et.x,this._rootNodeFocusAndBlurListener=d=>{const f=zd(d),v="focus"===d.type?this._onFocus:this._onBlur;for(let b=f;b;b=b.parentElement)v.call(this,d,b)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const r=M3(e);if(!this._platform.isBrowser||1!==r.nodeType)return nt(null);const s=function h9e(n){if(function d9e(){if(null==TE){const n=typeof document<"u"?document.head:null;TE=!(!n||!n.createShadowRoot&&!n.attachShadow)}return TE}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const d={checkChildren:i,subject:new Et.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=M3(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=M3(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,f])=>this._originChanged(d,i,f)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=zd(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Zy),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Zy)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(f8(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Zy),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Zy),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(No),o.LFG(B9e),o.LFG(ae,8),o.LFG(j9e,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G9e=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new o.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(iU))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const rU="cdk-high-contrast-black-on-white",sU="cdk-high-contrast-white-on-black",HE="cdk-high-contrast-active";let oU=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(HE,rU,sU),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(HE,rU):2===i&&e.add(HE,sU)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(No),o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q9e=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oU))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[YB]}),n})();const $9e=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function W9e(){return(0,o.f3M)(ae)}}),Z9e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let m8=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Y9e(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Z9e.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($9e,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Q9e=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function K9e(){return!0}});let Po=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!IE()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oU),o.LFG(Q9e,8),o.LFG(ae))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[fm,fm]}),n})();function X9e(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ao(t)}}}function zE(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function J9e(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ao(t)}}}function e_e(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const t_e=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function n_e(){return(0,o.f3M)(o.soG)}});class Cs{constructor(){this._localeChanges=new Et.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Nd=new o.OlP("mat-date-formats"),i_e=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function NE(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let r_e=(()=>{class n extends Cs{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return NE(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return NE(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return NE(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(i_e.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(t_e,8),o.LFG(No))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const s_e={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let o_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Cs,useClass:r_e}]}),n})(),a_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Nd,useValue:s_e}],imports:[o_e]}),n})(),lU=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c_e{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uU={enterDuration:225,exitDuration:150},PE=Fy({passive:!0}),dU=["mousedown","touchstart"],hU=["mouseup","mouseleave","touchend","touchcancel"];class u_e{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=M3(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...uU,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=i.radius||function d_e(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,f=e-r.top,v=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-l+"px",b.style.top=f-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(b);const S=window.getComputedStyle(b),H=S.transitionDuration,N="none"===S.transitionProperty||"0s"===H||"0s, 0s"===H,j=new c_e(this,b,i,N);b.style.transform="scale3d(1, 1, 1)",j.state=0,i.persistent||(this._mostRecentTransientRipple=j);let J=null;return!N&&(v||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const De=()=>this._finishRippleTransition(j),Pe=()=>this._destroyRipple(j);b.addEventListener("transitionend",De),b.addEventListener("transitioncancel",Pe),J={onTransitionEnd:De,onTransitionCancel:Pe}}),this._activeRipples.set(j,J),(N||!v)&&this._finishRippleTransition(j),j}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...uU,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=M3(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(dU))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hU),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=eU(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!tU(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,PE)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(dU.forEach(t=>{this._triggerElement.removeEventListener(t,this,PE)}),this._pointerUpEventsRegistered&&hU.forEach(t=>{this._triggerElement.removeEventListener(t,this,PE)}))}}const h_e=new o.OlP("mat-ripple-global-options");let fU=(()=>{class n{constructor(e,i,r,s,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new u_e(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(No),o.Y36(h_e,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),pU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Po,Po]}),n})(),f_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Po]}),n})(),mU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[pU,xs,Po,f_e]}),n})();const p_e=["*",[["mat-card-footer"]]],m_e=["*","mat-card-footer"];let g_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),gU=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:m_e,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(p_e),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),__e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Po,Po]}),n})();function _U(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function ht(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?_U(Object(e),!0).forEach(function(i){Nr(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_U(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Yy(n){return(Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function vU(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Nr(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function OE(n,t){return function M_e(n){if(Array.isArray(n))return n}(n)||function S_e(n,t){var e=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var l,d,i=[],r=!0,s=!1;try{for(e=e.call(n);!(r=(l=e.next()).done)&&(i.push(l.value),!t||i.length!==t);r=!0);}catch(f){s=!0,d=f}finally{try{!r&&null!=e.return&&e.return()}finally{if(s)throw d}}return i}}(n,t)||yU(n,t)||function x_e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gm(n){return function b_e(n){if(Array.isArray(n))return RE(n)}(n)||function w_e(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||yU(n)||function D_e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yU(n,t){if(n){if("string"==typeof n)return RE(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return RE(n,t)}}function RE(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}var CU=function(){},FE={},bU={},MU=null,wU={mark:CU,measure:CU};try{typeof window<"u"&&(FE=window),typeof document<"u"&&(bU=document),typeof MutationObserver<"u"&&(MU=MutationObserver),typeof performance<"u"&&(wU=performance)}catch{}var Xy,Jy,eC,tC,nC,SU=(FE.navigator||{}).userAgent,DU=void 0===SU?"":SU,Cu=FE,bi=bU,xU=MU,Qy=wU,w3=!!bi.documentElement&&!!bi.head&&"function"==typeof bi.addEventListener&&"function"==typeof bi.createElement,EU=~DU.indexOf("MSIE")||~DU.indexOf("Trident/"),S3="___FONT_AWESOME___",TU="svg-inline--fa",Pd="data-fa-i2svg",UE="data-fa-pseudo-element",jE="data-prefix",GE="data-icon",IU="fontawesome-i2svg",I_e=["HTML","HEAD","STYLE","SCRIPT"],kU=function(){try{return!0}catch{return!1}}(),Mi="classic",tr="sharp",qE=[Mi,tr];function _m(n){return new Proxy(n,{get:function(e,i){return i in e?e[i]:e[Mi]}})}var vm=_m((Nr(Xy={},Mi,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Nr(Xy,tr,{fa:"solid",fass:"solid","fa-solid":"solid"}),Xy)),ym=_m((Nr(Jy={},Mi,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Nr(Jy,tr,{solid:"fass"}),Jy)),Cm=_m((Nr(eC={},Mi,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Nr(eC,tr,{fass:"fa-solid"}),eC)),k_e=_m((Nr(tC={},Mi,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Nr(tC,tr,{"fa-solid":"fass"}),tC)),V_e=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,VU="fa-layers-text",L_e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,H_e=_m((Nr(nC={},Mi,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Nr(nC,tr,{900:"fass"}),nC)),LU=[1,2,3,4,5,6,7,8,9,10],z_e=LU.concat([11,12,13,14,15,16,17,18,19,20]),N_e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],bm=new Set;Object.keys(ym[Mi]).map(bm.add.bind(bm)),Object.keys(ym[tr]).map(bm.add.bind(bm));var P_e=[].concat(qE,gm(bm),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(LU.map(function(n){return"".concat(n,"x")})).concat(z_e.map(function(n){return"w-".concat(n)})),Mm=Cu.FontAwesomeConfig||{};bi&&"function"==typeof bi.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=OE(n,2),i=t[1],r=function R_e(n){return""===n||"false"!==n&&("true"===n||n)}(function O_e(n){var t=bi.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=r&&(Mm[i]=r)});var HU={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:TU,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Mm.familyPrefix&&(Mm.cssPrefix=Mm.familyPrefix);var g8=ht(ht({},HU),Mm);g8.autoReplaceSvg||(g8.observeMutations=!1);var Dt={};Object.keys(HU).forEach(function(n){Object.defineProperty(Dt,n,{enumerable:!0,set:function(e){g8[n]=e,wm.forEach(function(i){return i(Dt)})},get:function(){return g8[n]}})}),Object.defineProperty(Dt,"familyPrefix",{enumerable:!0,set:function(t){g8.cssPrefix=t,wm.forEach(function(e){return e(Dt)})},get:function(){return g8.cssPrefix}}),Cu.FontAwesomeConfig=Dt;var wm=[],$c={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Sm(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function _8(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function $E(n){return n.classList?_8(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function zU(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function iC(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function WE(n){return n.size!==$c.size||n.x!==$c.x||n.y!==$c.y||n.rotate!==$c.rotate||n.flipX||n.flipY}function NU(){var n="fa",t=TU,e=Dt.cssPrefix,i=Dt.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(e!==n||i!==t){var s=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(t),"g");r=r.replace(s,".".concat(e,"-")).replace(l,"--".concat(e,"-")).replace(d,".".concat(i))}return r}var PU=!1;function ZE(){Dt.autoAddCss&&!PU&&(function U_e(n){if(n&&w3){var t=bi.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=bi.head.childNodes,i=null,r=e.length-1;r>-1;r--){var s=e[r],l=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(i=s)}bi.head.insertBefore(t,i)}}(NU()),PU=!0)}var Z_e={mixout:function(){return{dom:{css:NU,insertCss:ZE}}},hooks:function(){return{beforeDOMElementCreation:function(){ZE()},beforeI2svg:function(){ZE()}}}},D3=Cu||{};D3[S3]||(D3[S3]={}),D3[S3].styles||(D3[S3].styles={}),D3[S3].hooks||(D3[S3].hooks={}),D3[S3].shims||(D3[S3].shims=[]);var h1=D3[S3],OU=[],rC=!1;function K_e(n){!w3||(rC?setTimeout(n,0):OU.push(n))}function Dm(n){var t=n.tag,e=n.attributes,i=void 0===e?{}:e,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?zU(n):"<".concat(t," ").concat(function G_e(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(zU(n[e]),'" ')},"").trim()}(i),">").concat(s.map(Dm).join(""),"</").concat(t,">")}function RU(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}w3&&((rC=(bi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(bi.readyState))||bi.addEventListener("DOMContentLoaded",function n(){bi.removeEventListener("DOMContentLoaded",n),rC=1,OU.map(function(t){return t()})}));var YE=function(t,e,i,r){var f,v,b,s=Object.keys(t),l=s.length,d=void 0!==r?function(t,e){return function(i,r,s,l){return t.call(e,i,r,s,l)}}(e,r):e;for(void 0===i?(f=1,b=t[s[0]]):(f=0,b=i);f<l;f++)b=d(b,t[v=s[f]],v,t);return b};function KE(n){var t=function X_e(n){for(var t=[],e=0,i=n.length;e<i;){var r=n.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var s=n.charCodeAt(e++);56320==(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),e--)}else t.push(r)}return t}(n);return 1===t.length?t[0].toString(16):null}function FU(n){return Object.keys(n).reduce(function(t,e){var i=n[e];return i.icon?t[i.iconName]=i.icon:t[e]=i,t},{})}function QE(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.skipHooks,r=void 0!==i&&i,s=FU(t);"function"!=typeof h1.hooks.addPack||r?h1.styles[n]=ht(ht({},h1.styles[n]||{}),s):h1.hooks.addPack(n,FU(t)),"fas"===n&&QE("fa",t)}var sC,oC,aC,v8=h1.styles,eve=h1.shims,tve=(Nr(sC={},Mi,Object.values(Cm[Mi])),Nr(sC,tr,Object.values(Cm[tr])),sC),XE=null,BU={},UU={},jU={},GU={},qU={},nve=(Nr(oC={},Mi,Object.keys(vm[Mi])),Nr(oC,tr,Object.keys(vm[tr])),oC);function rve(n,t){var e=t.split("-"),i=e[0],r=e.slice(1).join("-");return i!==n||""===r||function ive(n){return~P_e.indexOf(n)}(r)?null:r}var $U=function(){var t=function(s){return YE(v8,function(l,d,f){return l[f]=YE(d,s,{}),l},{})};BU=t(function(r,s,l){return s[3]&&(r[s[3]]=l),s[2]&&s[2].filter(function(f){return"number"==typeof f}).forEach(function(f){r[f.toString(16)]=l}),r}),UU=t(function(r,s,l){return r[l]=l,s[2]&&s[2].filter(function(f){return"string"==typeof f}).forEach(function(f){r[f]=l}),r}),qU=t(function(r,s,l){var d=s[2];return r[l]=l,d.forEach(function(f){r[f]=l}),r});var e="far"in v8||Dt.autoFetchSvg,i=YE(eve,function(r,s){var l=s[0],d=s[1],f=s[2];return"far"===d&&!e&&(d="fas"),"string"==typeof l&&(r.names[l]={prefix:d,iconName:f}),"number"==typeof l&&(r.unicodes[l.toString(16)]={prefix:d,iconName:f}),r},{names:{},unicodes:{}});jU=i.names,GU=i.unicodes,XE=cC(Dt.styleDefault,{family:Dt.familyDefault})};function JE(n,t){return(BU[n]||{})[t]}function Rd(n,t){return(qU[n]||{})[t]}function WU(n){return jU[n]||{prefix:null,iconName:null}}function Mu(){return XE}function cC(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.family,i=void 0===e?Mi:e,r=vm[i][n],s=ym[i][n]||ym[i][r],l=n in h1.styles?n:null;return s||l||null}(function B_e(n){wm.push(n)})(function(n){XE=cC(n.styleDefault,{family:Dt.familyDefault})}),$U();var ZU=(Nr(aC={},Mi,Object.keys(Cm[Mi])),Nr(aC,tr,Object.keys(Cm[tr])),aC);function lC(n){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.skipLookups,r=void 0!==i&&i,s=(Nr(t={},Mi,"".concat(Dt.cssPrefix,"-").concat(Mi)),Nr(t,tr,"".concat(Dt.cssPrefix,"-").concat(tr)),t),l=null,d=Mi;(n.includes(s[Mi])||n.some(function(v){return ZU[Mi].includes(v)}))&&(d=Mi),(n.includes(s[tr])||n.some(function(v){return ZU[tr].includes(v)}))&&(d=tr);var f=n.reduce(function(v,b){var S=rve(Dt.cssPrefix,b);if(v8[b]?(b=tve[d].includes(b)?k_e[d][b]:b,l=b,v.prefix=b):nve[d].indexOf(b)>-1?(l=b,v.prefix=cC(b,{family:d})):S?v.iconName=S:b!==Dt.replacementClass&&b!==s[Mi]&&b!==s[tr]&&v.rest.push(b),!r&&v.prefix&&v.iconName){var I="fa"===l?WU(v.iconName):{},H=Rd(v.prefix,v.iconName);I.prefix&&(l=null),v.iconName=I.iconName||H||v.iconName,v.prefix=I.prefix||v.prefix,"far"===v.prefix&&!v8.far&&v8.fas&&!Dt.autoFetchSvg&&(v.prefix="fas")}return v},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(f.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(f.prefix="fad"),!f.prefix&&d===tr&&(v8.fass||Dt.autoFetchSvg)&&(f.prefix="fass",f.iconName=Rd(f.prefix,f.iconName)||f.iconName),("fa"===f.prefix||"fa"===l)&&(f.prefix=Mu()||"fas"),f}var ave=function(){function n(){(function v_e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function y_e(n,t,e){t&&vU(n.prototype,t),e&&vU(n,e),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var e=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var l=r.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(d){e.definitions[d]=ht(ht({},e.definitions[d]||{}),l[d]),QE(d,l[d]);var f=Cm[Mi][d];f&&QE(f,l[d]),$U()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var l=r[s],d=l.prefix,f=l.iconName,v=l.icon,b=v[2];e[d]||(e[d]={}),b.length>0&&b.forEach(function(S){"string"==typeof S&&(e[d][S]=v)}),e[d][f]=v}),e}}]),n}(),YU=[],y8={},C8={},cve=Object.keys(C8);function tA(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];var s=y8[n]||[];return s.forEach(function(l){t=l.apply(null,[t].concat(i))}),t}function Fd(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];var r=y8[n]||[];r.forEach(function(s){s.apply(null,e)})}function x3(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return C8[n]?C8[n].apply(null,t):void 0}function nA(n){"fa"===n.prefix&&(n.prefix="fas");var t=n.iconName,e=n.prefix||Mu();if(t)return t=Rd(e,t)||t,RU(KU.definitions,e,t)||RU(h1.styles,e,t)}var KU=new ave,dve={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w3?(Fd("beforeI2svg",t),x3("pseudoElements2svg",t),x3("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===Dt.autoReplaceSvg&&(Dt.autoReplaceSvg=!0),Dt.observeMutations=!0,K_e(function(){fve({autoReplaceSvgRoot:e}),Fd("watch",t)})}},va={noAuto:function(){Dt.autoReplaceSvg=!1,Dt.observeMutations=!1,Fd("noAuto")},config:Dt,dom:dve,parse:{icon:function(t){if(null===t)return null;if("object"===Yy(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Rd(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],i=cC(t[0]);return{prefix:i,iconName:Rd(i,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(Dt.cssPrefix,"-"))>-1||t.match(V_e))){var r=lC(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||Mu(),iconName:Rd(r.prefix,r.iconName)||r.iconName}}if("string"==typeof t){var s=Mu();return{prefix:s,iconName:Rd(s,t)||t}}}},library:KU,findIconDefinition:nA,toHtml:Dm},fve=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,i=void 0===e?bi:e;(Object.keys(h1.styles).length>0||Dt.autoFetchSvg)&&w3&&Dt.autoReplaceSvg&&va.dom.i2svg({node:i})};function uC(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return Dm(i)})}}),Object.defineProperty(n,"node",{get:function(){if(w3){var i=bi.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function iA(n){var t=n.icons,e=t.main,i=t.mask,r=n.prefix,s=n.iconName,l=n.transform,d=n.symbol,f=n.title,v=n.maskId,b=n.titleId,S=n.extra,I=n.watchable,H=void 0!==I&&I,N=i.found?i:e,j=N.width,J=N.height,De="fak"===r,Pe=[Dt.replacementClass,s?"".concat(Dt.cssPrefix,"-").concat(s):""].filter(function(nr){return-1===S.classes.indexOf(nr)}).filter(function(nr){return""!==nr||!!nr}).concat(S.classes).join(" "),Oe={children:[],attributes:ht(ht({},S.attributes),{},{"data-prefix":r,"data-icon":s,class:Pe,role:S.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(j," ").concat(J)})},je=De&&!~S.classes.indexOf("fa-fw")?{width:"".concat(j/J*16*.0625,"em")}:{};H&&(Oe.attributes[Pd]=""),f&&(Oe.children.push({tag:"title",attributes:{id:Oe.attributes["aria-labelledby"]||"title-".concat(b||Sm())},children:[f]}),delete Oe.attributes.title);var rt=ht(ht({},Oe),{},{prefix:r,iconName:s,main:e,mask:i,maskId:v,transform:l,symbol:d,styles:ht(ht({},je),S.styles)}),mt=i.found&&e.found?x3("generateAbstractMask",rt)||{children:[],attributes:{}}:x3("generateAbstractIcon",rt)||{children:[],attributes:{}},wi=mt.attributes;return rt.children=mt.children,rt.attributes=wi,d?function mve(n){var e=n.iconName,i=n.children,r=n.attributes,s=n.symbol,l=!0===s?"".concat(n.prefix,"-").concat(Dt.cssPrefix,"-").concat(e):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ht(ht({},r),{},{id:l}),children:i}]}]}(rt):function pve(n){var t=n.children,e=n.main,i=n.mask,r=n.attributes,s=n.styles,l=n.transform;if(WE(l)&&e.found&&!i.found){var v={x:e.width/e.height/2,y:.5};r.style=iC(ht(ht({},s),{},{"transform-origin":"".concat(v.x+l.x/16,"em ").concat(v.y+l.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(rt)}function QU(n){var t=n.content,e=n.width,i=n.height,r=n.transform,s=n.title,l=n.extra,d=n.watchable,f=void 0!==d&&d,v=ht(ht(ht({},l.attributes),s?{title:s}:{}),{},{class:l.classes.join(" ")});f&&(v[Pd]="");var b=ht({},l.styles);WE(r)&&(b.transform=function $_e(n){var t=n.transform,e=n.width,r=n.height,s=void 0===r?16:r,l=n.startCentered,d=void 0!==l&&l,f="";return f+=d&&EU?"translate(".concat(t.x/16-(void 0===e?16:e)/2,"em, ").concat(t.y/16-s/2,"em) "):d?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(f+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:e,height:i}),b["-webkit-transform"]=b.transform);var S=iC(b);S.length>0&&(v.style=S);var I=[];return I.push({tag:"span",attributes:v,children:[t]}),s&&I.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),I}function gve(n){var t=n.content,e=n.title,i=n.extra,r=ht(ht(ht({},i.attributes),e?{title:e}:{}),{},{class:i.classes.join(" ")}),s=iC(i.styles);s.length>0&&(r.style=s);var l=[];return l.push({tag:"span",attributes:r,children:[t]}),e&&l.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),l}var rA=h1.styles;function sA(n){var t=n[0],e=n[1],s=OE(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Dt.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(Dt.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Dt.cssPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var _ve={found:!1,width:512,height:512};function oA(n,t){var e=t;return"fa"===t&&null!==Dt.styleDefault&&(t=Mu()),new Promise(function(i,r){if(x3("missingIconAbstract"),"fa"===e){var l=WU(n)||{};n=l.iconName||n,t=l.prefix||t}if(n&&t&&rA[t]&&rA[t][n])return i(sA(rA[t][n]));(function vve(n,t){!kU&&!Dt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))})(n,t),i(ht(ht({},_ve),{},{icon:Dt.showMissingIcons&&n&&x3("missingIconAbstract")||{}}))})}var XU=function(){},aA=Dt.measurePerformance&&Qy&&Qy.mark&&Qy.measure?Qy:{mark:XU,measure:XU},xm='FA "6.2.1"',cA_begin=function(t){return aA.mark("".concat(xm," ").concat(t," begins")),function(){return function(t){aA.mark("".concat(xm," ").concat(t," ends")),aA.measure("".concat(xm," ").concat(t),"".concat(xm," ").concat(t," begins"),"".concat(xm," ").concat(t," ends"))}(t)}},dC=function(){};function ej(n){return"string"==typeof(n.getAttribute?n.getAttribute(Pd):null)}function wve(n){return bi.createElementNS("http://www.w3.org/2000/svg",n)}function Sve(n){return bi.createElement(n)}function tj(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.ceFn,i=void 0===e?"svg"===n.tag?wve:Sve:e;if("string"==typeof n)return bi.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(l){r.setAttribute(l,n.attributes[l])});var s=n.children||[];return s.forEach(function(l){r.appendChild(tj(l,{ceFn:i}))}),r}var hC={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(r){e.parentNode.insertBefore(tj(r),e)}),null===e.getAttribute(Pd)&&Dt.keepOriginalSource){var i=bi.createComment(function Dve(n){var t=" ".concat(n.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(i,e)}else e.remove()},nest:function(t){var e=t[0],i=t[1];if(~$E(e).indexOf(Dt.replacementClass))return hC.replace(t);var r=new RegExp("".concat(Dt.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(d,f){return f===Dt.replacementClass||f.match(r)?d.toSvg.push(f):d.toNode.push(f),d},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}var l=i.map(function(d){return Dm(d)}).join("\n");e.setAttribute(Pd,""),e.innerHTML=l}};function nj(n){n()}function ij(n,t){var e="function"==typeof t?t:dC;if(0===n.length)e();else{var i=nj;"async"===Dt.mutateApproach&&(i=Cu.requestAnimationFrame||nj),i(function(){var r=function Mve(){return!0===Dt.autoReplaceSvg?hC.replace:hC[Dt.autoReplaceSvg]||hC.replace}(),s=cA_begin("mutate");n.map(r),s(),e()})}}var lA=!1;function rj(){lA=!0}function uA(){lA=!1}var fC=null;function sj(n){if(xU&&Dt.observeMutations){var t=n.treeCallback,e=void 0===t?dC:t,i=n.nodeCallback,r=void 0===i?dC:i,s=n.pseudoElementsCallback,l=void 0===s?dC:s,d=n.observeMutationsRoot,f=void 0===d?bi:d;fC=new xU(function(v){if(!lA){var b=Mu();_8(v).forEach(function(S){if("childList"===S.type&&S.addedNodes.length>0&&!ej(S.addedNodes[0])&&(Dt.searchPseudoElements&&l(S.target),e(S.target)),"attributes"===S.type&&S.target.parentNode&&Dt.searchPseudoElements&&l(S.target.parentNode),"attributes"===S.type&&ej(S.target)&&~N_e.indexOf(S.attributeName))if("class"===S.attributeName&&function Cve(n){var t=n.getAttribute?n.getAttribute(jE):null,e=n.getAttribute?n.getAttribute(GE):null;return t&&e}(S.target)){var I=lC($E(S.target)),N=I.iconName;S.target.setAttribute(jE,I.prefix||b),N&&S.target.setAttribute(GE,N)}else(function bve(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Dt.replacementClass)})(S.target)&&r(S.target)})}}),w3&&fC.observe(f,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Eve(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(i,r){var s=r.split(":"),l=s[0],d=s.slice(1);return l&&d.length>0&&(i[l]=d.join(":").trim()),i},{})),e}function Ave(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=lC($E(n));return r.prefix||(r.prefix=Mu()),t&&e&&(r.prefix=t,r.iconName=e),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function sve(n,t){return(UU[n]||{})[t]}(r.prefix,n.innerText)||JE(r.prefix,KE(n.innerText))),!r.iconName&&Dt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function Tve(n){var t=_8(n.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),e=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Dt.autoA11y&&(e?t["aria-labelledby"]="".concat(Dt.replacementClass,"-title-").concat(i||Sm()):(t["aria-hidden"]="true",t.focusable="false")),t}function oj(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=Ave(n),i=e.iconName,r=e.prefix,s=e.rest,l=Tve(n),d=tA("parseNodeAttributes",{},n),f=t.styleParser?Eve(n):[];return ht({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:$c,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:f,attributes:l}},d)}var kve=h1.styles;function aj(n){var t="nest"===Dt.autoReplaceSvg?oj(n,{styleParser:!1}):oj(n);return~t.extra.classes.indexOf(VU)?x3("generateLayersText",n,t):x3("generateSvgReplacementMutation",n,t)}var wu=new Set;function cj(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!w3)return Promise.resolve();var e=bi.documentElement.classList,i=function(S){return e.add("".concat(IU,"-").concat(S))},r=function(S){return e.remove("".concat(IU,"-").concat(S))},s=Dt.autoFetchSvg?wu:qE.map(function(b){return"fa-".concat(b)}).concat(Object.keys(kve));s.includes("fa")||s.push("fa");var l=[".".concat(VU,":not([").concat(Pd,"])")].concat(s.map(function(b){return".".concat(b,":not([").concat(Pd,"])")})).join(", ");if(0===l.length)return Promise.resolve();var d=[];try{d=_8(n.querySelectorAll(l))}catch{}if(!(d.length>0))return Promise.resolve();i("pending"),r("complete");var f=cA_begin("onTree"),v=d.reduce(function(b,S){try{var I=aj(S);I&&b.push(I)}catch(H){kU||"MissingIcon"===H.name&&console.error(H)}return b},[]);return new Promise(function(b,S){Promise.all(v).then(function(I){ij(I,function(){i("active"),i("complete"),r("pending"),"function"==typeof t&&t(),f(),b()})}).catch(function(I){f(),S(I)})})}function Vve(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;aj(n).then(function(e){e&&ij([e],t)})}function Lve(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t||{}).icon?t:nA(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:nA(r||{})),n(i,ht(ht({},e),{},{mask:r}))}}qE.map(function(n){wu.add("fa-".concat(n))}),Object.keys(vm[Mi]).map(wu.add.bind(wu)),Object.keys(vm[tr]).map(wu.add.bind(wu)),wu=gm(wu);var Hve=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.transform,r=void 0===i?$c:i,s=e.symbol,l=void 0!==s&&s,d=e.mask,f=void 0===d?null:d,v=e.maskId,b=void 0===v?null:v,S=e.title,I=void 0===S?null:S,H=e.titleId,N=void 0===H?null:H,j=e.classes,J=void 0===j?[]:j,De=e.attributes,Pe=void 0===De?{}:De,Oe=e.styles,je=void 0===Oe?{}:Oe;if(t){var rt=t.prefix,mt=t.iconName,qt=t.icon;return uC(ht({type:"icon"},t),function(){return Fd("beforeDOMElementCreation",{iconDefinition:t,params:e}),Dt.autoA11y&&(I?Pe["aria-labelledby"]="".concat(Dt.replacementClass,"-title-").concat(N||Sm()):(Pe["aria-hidden"]="true",Pe.focusable="false")),iA({icons:{main:sA(qt),mask:f?sA(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:rt,iconName:mt,transform:ht(ht({},$c),r),symbol:l,title:I,maskId:b,titleId:N,extra:{attributes:Pe,styles:je,classes:J}})})}},zve={mixout:function(){return{icon:Lve(Hve)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=cj,e.nodeCallback=Vve,e}}},provides:function(t){t.i2svg=function(e){var i=e.node,s=e.callback;return cj(void 0===i?bi:i,void 0===s?function(){}:s)},t.generateSvgReplacementMutation=function(e,i){var r=i.iconName,s=i.title,l=i.titleId,d=i.prefix,f=i.transform,v=i.symbol,b=i.mask,S=i.maskId,I=i.extra;return new Promise(function(H,N){Promise.all([oA(r,d),b.iconName?oA(b.iconName,b.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(j){var J=OE(j,2);H([e,iA({icons:{main:J[0],mask:J[1]},prefix:d,iconName:r,transform:f,symbol:v,maskId:S,title:s,titleId:l,extra:I,watchable:!0})])}).catch(N)})},t.generateAbstractIcon=function(e){var v,i=e.children,r=e.attributes,s=e.main,l=e.transform,f=iC(e.styles);return f.length>0&&(r.style=f),WE(l)&&(v=x3("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),i.push(v||s.icon),{children:i,attributes:r}}}},Nve={mixout:function(){return{layer:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return uC({type:"layer"},function(){Fd("beforeDOMElementCreation",{assembler:e,params:i});var l=[];return e(function(d){Array.isArray(d)?d.map(function(f){l=l.concat(f.abstract)}):l=l.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(Dt.cssPrefix,"-layers")].concat(gm(s)).join(" ")},children:l}]})}}}},Pve={mixout:function(){return{counter:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,l=i.classes,d=void 0===l?[]:l,f=i.attributes,v=void 0===f?{}:f,b=i.styles,S=void 0===b?{}:b;return uC({type:"counter",content:e},function(){return Fd("beforeDOMElementCreation",{content:e,params:i}),gve({content:e.toString(),title:s,extra:{attributes:v,styles:S,classes:["".concat(Dt.cssPrefix,"-layers-counter")].concat(gm(d))}})})}}}},Ove={mixout:function(){return{text:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?$c:r,l=i.title,d=void 0===l?null:l,f=i.classes,v=void 0===f?[]:f,b=i.attributes,S=void 0===b?{}:b,I=i.styles,H=void 0===I?{}:I;return uC({type:"text",content:e},function(){return Fd("beforeDOMElementCreation",{content:e,params:i}),QU({content:e,transform:ht(ht({},$c),s),title:d,extra:{attributes:S,styles:H,classes:["".concat(Dt.cssPrefix,"-layers-text")].concat(gm(v))}})})}}},provides:function(t){t.generateLayersText=function(e,i){var r=i.title,s=i.transform,l=i.extra,d=null,f=null;if(EU){var v=parseInt(getComputedStyle(e).fontSize,10),b=e.getBoundingClientRect();d=b.width/v,f=b.height/v}return Dt.autoA11y&&!r&&(l.attributes["aria-hidden"]="true"),Promise.resolve([e,QU({content:e.innerHTML,width:d,height:f,transform:s,title:r,extra:l,watchable:!0})])}}},Rve=new RegExp('"',"ug"),lj=[1105920,1112319];function uj(n,t){var e="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(e))return i();var l=_8(n.children).filter(function(qt){return qt.getAttribute(UE)===t})[0],d=Cu.getComputedStyle(n,t),f=d.getPropertyValue("font-family").match(L_e),v=d.getPropertyValue("font-weight"),b=d.getPropertyValue("content");if(l&&!f)return n.removeChild(l),i();if(f&&"none"!==b&&""!==b){var S=d.getPropertyValue("content"),I=~["Sharp"].indexOf(f[2])?tr:Mi,H=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(f[2])?ym[I][f[2].toLowerCase()]:H_e[I][v],N=function Fve(n){var t=n.replace(Rve,""),e=function J_e(n,t){var r,e=n.length,i=n.charCodeAt(t);return i>=55296&&i<=56319&&e>t+1&&(r=n.charCodeAt(t+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(t,0),i=e>=lj[0]&&e<=lj[1],r=2===t.length&&t[0]===t[1];return{value:KE(r?t[0]:t),isSecondary:i||r}}(S),j=N.value,J=N.isSecondary,De=f[0].startsWith("FontAwesome"),Pe=JE(H,j),Oe=Pe;if(De){var je=function ove(n){var t=GU[n],e=JE("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(j);je.iconName&&je.prefix&&(Pe=je.iconName,H=je.prefix)}if(!Pe||J||l&&l.getAttribute(jE)===H&&l.getAttribute(GE)===Oe)i();else{n.setAttribute(e,Oe),l&&n.removeChild(l);var rt=function Ive(){return{iconName:null,title:null,titleId:null,prefix:null,transform:$c,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),mt=rt.extra;mt.attributes[UE]=t,oA(Pe,H).then(function(qt){var wi=iA(ht(ht({},rt),{},{icons:{main:qt,mask:{prefix:null,iconName:null,rest:[]}},prefix:H,iconName:Oe,extra:mt,watchable:!0})),nr=bi.createElement("svg");"::before"===t?n.insertBefore(nr,n.firstChild):n.appendChild(nr),nr.outerHTML=wi.map(function(y1){return Dm(y1)}).join("\n"),n.removeAttribute(e),i()}).catch(r)}}else i()})}function Bve(n){return Promise.all([uj(n,"::before"),uj(n,"::after")])}function Uve(n){return!(n.parentNode===document.head||~I_e.indexOf(n.tagName.toUpperCase())||n.getAttribute(UE)||n.parentNode&&"svg"===n.parentNode.tagName)}function dj(n){if(w3)return new Promise(function(t,e){var i=_8(n.querySelectorAll("*")).filter(Uve).map(Bve),r=cA_begin("searchPseudoElements");rj(),Promise.all(i).then(function(){r(),uA(),t()}).catch(function(){r(),uA(),e()})})}var hj=!1,fj=function(t){return t.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),l=s[0],d=s.slice(1).join("-");if(l&&"h"===d)return i.flipX=!0,i;if(l&&"v"===d)return i.flipY=!0,i;if(d=parseFloat(d),isNaN(d))return i;switch(l){case"grow":i.size=i.size+d;break;case"shrink":i.size=i.size-d;break;case"left":i.x=i.x-d;break;case"right":i.x=i.x+d;break;case"up":i.y=i.y-d;break;case"down":i.y=i.y+d;break;case"rotate":i.rotate=i.rotate+d}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},dA={x:0,y:0,width:"100%",height:"100%"};function pj(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function $ve(n){return"g"===n.tag?n.children:[n]}var Wve={hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-mask"),s=r?lC(r.split(" ").map(function(l){return l.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=Mu()),e.mask=s,e.maskId=i.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var i=e.children,r=e.attributes,s=e.main,l=e.mask,d=e.maskId,b=s.icon,I=l.icon,H=function q_e(n){var t=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),l="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),d="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(l," ").concat(d)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:e.transform,containerWidth:l.width,iconWidth:s.width}),N={tag:"rect",attributes:ht(ht({},dA),{},{fill:"white"})},j=b.children?{children:b.children.map(pj)}:{},J={tag:"g",attributes:ht({},H.inner),children:[pj(ht({tag:b.tag,attributes:ht(ht({},b.attributes),H.path)},j))]},De={tag:"g",attributes:ht({},H.outer),children:[J]},Pe="mask-".concat(d||Sm()),Oe="clip-".concat(d||Sm()),je={tag:"mask",attributes:ht(ht({},dA),{},{id:Pe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[N,De]},rt={tag:"defs",children:[{tag:"clipPath",attributes:{id:Oe},children:$ve(I)},je]};return i.push(rt,{tag:"rect",attributes:ht({fill:"currentColor","clip-path":"url(#".concat(Oe,")"),mask:"url(#".concat(Pe,")")},dA)}),{children:i,attributes:r}}}};!function lve(n,t){var e=t.mixoutsTo;YU=n,y8={},Object.keys(C8).forEach(function(i){-1===cve.indexOf(i)&&delete C8[i]}),YU.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(l){"function"==typeof r[l]&&(e[l]=r[l]),"object"===Yy(r[l])&&Object.keys(r[l]).forEach(function(d){e[l]||(e[l]={}),e[l][d]=r[l][d]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(l){y8[l]||(y8[l]=[]),y8[l].push(s[l])})}i.provides&&i.provides(C8)})}([Z_e,zve,Nve,Pve,Ove,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=dj,e}}},provides:function(t){t.pseudoElements2svg=function(e){var i=e.node;Dt.searchPseudoElements&&dj(void 0===i?bi:i)}}},{mixout:function(){return{dom:{unwatch:function(){rj(),hj=!0}}}},hooks:function(){return{bootstrap:function(){sj(tA("mutationObserverCallbacks",{}))},noAuto:function(){!function xve(){!fC||fC.disconnect()}()},watch:function(e){var i=e.observeMutationsRoot;hj?uA():sj(tA("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(e){return fj(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-transform");return r&&(e.transform=fj(r)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var i=e.main,r=e.transform,l=e.iconWidth,d={transform:"translate(".concat(e.containerWidth/2," 256)")},f="translate(".concat(32*r.x,", ").concat(32*r.y,") "),v="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),b="rotate(".concat(r.rotate," 0 0)"),H={outer:d,inner:{transform:"".concat(f," ").concat(v," ").concat(b)},path:{transform:"translate(".concat(l/2*-1," -256)")}};return{tag:"g",attributes:ht({},H.outer),children:[{tag:"g",attributes:ht({},H.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:ht(ht({},i.icon.attributes),H.path)}]}]}}}},Wve,{provides:function(t){var e=!1;Cu.matchMedia&&(e=Cu.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:ht(ht({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var l=ht(ht({},s),{},{attributeName:"opacity"}),d={tag:"circle",attributes:ht(ht({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||d.children.push({tag:"animate",attributes:ht(ht({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ht(ht({},l),{},{values:"1;0;1;1;0;1;"})}),i.push(d),i.push({tag:"path",attributes:ht(ht({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ht(ht({},l),{},{values:"1;0;0;0;0;1;"})}]}),e||i.push({tag:"path",attributes:ht(ht({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ht(ht({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-symbol");return e.symbol=null!==r&&(""===r||r),e}}}}],{mixoutsTo:va});var Qve=va.parse,Xve=va.icon;const Jve=["*"],nye=n=>{const t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let sye=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oye=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const i of e){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...e){for(const i of e){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(e,i){return e in this.definitions&&i in this.definitions[e]?this.definitions[e][i]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aye=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[o.TTD]}),n})(),cye=(()=>{class n{constructor(e,i){this.renderer=e,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[o.TTD],ngContentSelectors:Jve,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),n})(),mj=(()=>{class n{constructor(e,i,r,s,l){this.sanitizer=e,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=l&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let i=null;if(i=this.icon??this.config.fallbackIcon,e){const r=this.findIconDefinition(i);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const i=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:t,iconName:n}:void 0)(e,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?Qve.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...nye(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,i){const r=Xve(e,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(V2),o.Y36(sye),o.Y36(oye),o.Y36(aye,8),o.Y36(cye,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,i){2&e&&(o.Ikx("innerHTML",i.renderedIconHTML,o.oJD),o.uIk("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[o.TTD],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),hA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var gj=R(4408);const Em={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Em;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new $n.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Em;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Em;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var _j=R(7565);new class uye extends _j.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class lye extends gj.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Em.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Em.cancelAnimationFrame(e),t._scheduled=void 0)}});let fA,hye=1;const pC={};function vj(n){return n in pC&&(delete pC[n],!0)}const fye={setImmediate(n){const t=hye++;return pC[t]=!0,fA||(fA=Promise.resolve()),fA.then(()=>vj(t)&&n()),t},clearImmediate(n){vj(n)}},{setImmediate:pye,clearImmediate:mye}=fye,mC={setImmediate(...n){const{delegate:t}=mC;return(t?.setImmediate||pye)(...n)},clearImmediate(n){const{delegate:t}=mC;return(t?.clearImmediate||mye)(n)},delegate:void 0};new class _ye extends _j.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class gye extends gj.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=mC.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(mC.clearImmediate(e),t._scheduled=void 0)}});var Cye=R(3532);function pA(n=0,t,e=O4.P){let i=-1;return null!=t&&((0,Cye.K)(t)?e=t:i=t),new gn.y(r=>{let s=function bye(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function yj(n,t=O4.z){return function yye(n){return(0,Nn.e)((t,e)=>{let i=!1,r=null,s=null,l=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const v=r;r=null,e.next(v)}l&&e.complete()},f=()=>{s=null,l&&e.complete()};t.subscribe((0,En.x)(e,v=>{i=!0,r=v,s||(0,jr.Xf)(n(v)).subscribe(s=(0,En.x)(e,d,f))},()=>{l=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>pA(n,t))}let wye=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Et.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new gn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(yj(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(x(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=M3(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>b6(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(No),o.LFG(ae,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cj=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Et.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(yj(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(No),o.LFG(o.R0b),o.LFG(ae,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),bj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[fm,gC,fm,gC]}),n})();class mA{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class gA extends mA{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Dye extends mA{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class xye extends mA{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class Mj{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof gA?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Dye?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof xye?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Eye extends Mj{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const d=l.element,f=this._document.createComment("dom-portal");d.parentNode.insertBefore(f,d),this.outletElement.appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let wj=(()=>{class n extends Mj{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const l=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(d,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(ae))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),Sj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Dj=u9e();class Aye{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=wr(-this._previousScrollPosition.left),t.style.top=wr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Dj&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Dj&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Tye{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xj{enable(){}disable(){}attach(){}}function _A(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Ej(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Iye{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();_A(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let kye=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new xj,this.close=l=>new Tye(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Aye(this._viewportRuler,this._document),this.reposition=l=>new Iye(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wye),o.LFG(Cj),o.LFG(o.R0b),o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Aj{constructor(t){if(this.scrollStrategy=new xj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Vye{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Tj=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lye=(()=>{class n extends Tj{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const d=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hye=(()=>{class n extends Tj{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=zd(s)},this._clickListener=s=>{const l=zd(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let v=f.length-1;v>-1;v--){const b=f[v];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(d))break;const S=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(s)):S.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae),o.LFG(No),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ij=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||IE()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),IE()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae),o.LFG(No))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zye{constructor(t,e,i,r,s,l,d,f,v,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=d,this._location=f,this._outsideClickDispatcher=v,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new Et.x,this._attachments=new Et.x,this._detachments=new Et.x,this._locationChanges=$n.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new Et.x,this._outsidePointerEvents=new Et.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(nn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=wr(this._config.width),t.height=wr(this._config.height),t.minWidth=wr(this._config.minWidth),t.minHeight=wr(this._config.minHeight),t.maxWidth=wr(this._config.maxWidth),t.maxHeight=wr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=$B(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(f8((0,es.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const kj="cdk-overlay-connected-position-bounding-box",Nye=/([A-Za-z%]+)$/;class Vj{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Et.x,this._resizeSubscription=$n.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(kj),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let d of this._preferredPositions){let f=this._getOriginPoint(t,r,d),v=this._getOverlayPoint(f,e,d),b=this._getOverlayFit(v,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,f);this._canFitWithFlexibleDimensions(b,v,i)?s.push({position:d,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,d)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:v,originPoint:f,position:d,overlayRect:e})}if(s.length){let d=null,f=-1;for(const v of s){const b=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);b>f&&(f=b,d=v)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(kj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?l:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=Hj(e);let{x:l,y:d}=t,f=this._getOffset(r,"x"),v=this._getOffset(r,"y");f&&(l+=f),v&&(d+=v);let I=0-d,H=d+s.height-i.height,N=this._subtractOverflows(s.width,0-l,l+s.width-i.width),j=this._subtractOverflows(s.height,I,H),J=N*j;return{visibleArea:J,isCompletelyWithinViewport:s.width*s.height===J,fitsInViewportVertically:j===s.height,fitsInViewportHorizontally:N==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,l=Lj(this._overlayRef.getConfig().minHeight),d=Lj(this._overlayRef.getConfig().minWidth),v=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=l&&l<=r)&&v}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Hj(e),s=this._viewportRect,l=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),f=Math.max(s.top-i.top-t.y,0),v=Math.max(s.left-i.left-t.x,0);let b=0,S=0;return b=r.width<=s.width?v||-l:t.x<this._viewportMargin?s.left-i.left-t.x:0,S=r.height<=s.height?f||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:b,y:S},{x:t.x+b,y:t.y+S}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Vye(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,l,d,b,S,I;if("top"===e.overlayY)l=t.y,s=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const H=Math.min(i.bottom-t.y+i.top,t.y),N=this._lastBoundingBoxSize.height;s=2*H,l=t.y-H,s>N&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-N/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)I=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)S=t.x,b=i.right-t.x;else{const H=Math.min(i.right-t.x+i.left,t.x),N=this._lastBoundingBoxSize.width;b=2*H,S=t.x-H,b>N&&!this._isInitialRender&&!this._growAfterOpen&&(S=t.x-N/2)}return{top:l,left:S,bottom:d,right:I,width:b,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=wr(i.height),r.top=wr(i.top),r.bottom=wr(i.bottom),r.width=wr(i.width),r.left=wr(i.left),r.right=wr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=wr(s)),l&&(r.maxWidth=wr(l))}this._lastBoundingBoxSize=i,Bd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Bd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Bd(i,this._getExactOverlayY(e,t,b)),Bd(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",f=this._getOffset(e,"x"),v=this._getOffset(e,"y");f&&(d+=`translateX(${f}px) `),v&&(d+=`translateY(${v}px)`),i.transform=d.trim(),l.maxHeight&&(r?i.maxHeight=wr(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=wr(l.maxWidth):s&&(i.maxWidth="")),Bd(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=wr(s.y),r}_getExactOverlayX(t,e,i){let l,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=wr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ej(t,i),isOriginOutsideView:_A(t,i),isOverlayClipped:Ej(e,i),isOverlayOutsideView:_A(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$B(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Bd(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Lj(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Nye);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Hj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const zj="cdk-global-overlay-wrapper";class Pye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(zj),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:d}=i,f=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),v=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,S=this._xOffset,I="rtl"===this._overlayRef.getConfig().direction;let H="",N="",j="";f?j="flex-start":"center"===b?(j="center",I?N=S:H=S):I?"left"===b||"end"===b?(j="flex-end",H=S):("right"===b||"start"===b)&&(j="flex-start",N=S):"left"===b||"start"===b?(j="flex-start",H=S):("right"===b||"end"===b)&&(j="flex-end",N=S),t.position=this._cssPosition,t.marginLeft=f?"0":H,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":N,e.justifyContent=j,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(zj),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Oye=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Pye}flexibleConnectedTo(e){return new Vj(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Cj),o.LFG(ae),o.LFG(No),o.LFG(Ij))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rye=0,Am=(()=>{class n{constructor(e,i,r,s,l,d,f,v,b,S,I,H){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=d,this._ngZone=f,this._document=v,this._directionality=b,this._location=S,this._outsideClickDispatcher=I,this._animationsModuleType=H}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new Aj(e);return l.direction=l.direction||this._directionality.value,new zye(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Rye++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new Eye(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kye),o.LFG(Ij),o.LFG(o._Vd),o.LFG(Oye),o.LFG(Lye),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(ae),o.LFG(m8),o.LFG(He),o.LFG(Hye),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Uye={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Am],useFactory:function Bye(n){return()=>n.scrollStrategies.reposition()}};let Nj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Am,Uye],imports:[fm,Sj,bj,bj]}),n})();const jye=["mat-button",""],Gye=["*"],$ye=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Wye=zE(X9e(J9e(class{constructor(n){this._elementRef=n}})));let vA=(()=>{class n extends Wye{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of $ye)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(iU),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(fU,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:jye,ngContentSelectors:Gye,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[fU],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),n})(),Pj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[pU,Po,Po]}),n})();class Oj{}const E3="*";function b8(n,t){return{type:7,name:n,definitions:t,options:{}}}function A3(n,t=null){return{type:4,styles:t,timings:n}}function Rj(n,t=null){return{type:2,steps:n,options:t}}function bs(n){return{type:6,styles:n,offset:null}}function Su(n,t,e){return{type:0,name:n,styles:t,options:e}}function Fj(n){return{type:5,steps:n}}function Wc(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Bj(n){Promise.resolve().then(n)}class Tm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Bj(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Uj{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?Bj(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Qye=["connectionContainer"],Xye=["inputContainer"],Jye=["label"];function eCe(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function tCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function nCe(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function iCe(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function rCe(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function sCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.YNc(2,nCe,4,1,"ng-container",12),o.YNc(3,iCe,1,0,"ng-content",12),o.YNc(4,rCe,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function oCe(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function aCe(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function cCe(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function lCe(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function uCe(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,lCe,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const dCe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],hCe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],fCe=new o.OlP("MatError"),pCe={transitionMessages:b8("transitionMessages",[Su("enter",bs({opacity:1,transform:"translateY(0%)"})),Wc("void => enter",[bs({opacity:0,transform:"translateY(-5px)"}),A3("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let CA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const mCe=new o.OlP("MatHint");let bA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),gCe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const _Ce=new o.OlP("MatPrefix"),vCe=new o.OlP("MatSuffix");let jj=0;const CCe=zE(class{constructor(n){this._elementRef=n}},"primary"),bCe=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),MA=new o.OlP("MatFormField");let MCe=(()=>{class n extends CCe{constructor(e,i,r,s,l,d,f){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=l,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Et.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+jj++,this._labelId="mat-form-field-label-"+jj++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==f,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ao(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Vr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(f8(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(f8(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,es.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Vr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Vr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(f8(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,b6(this._label.nativeElement,"transitionend").pipe(nn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const b=i.querySelectorAll(`${r}, ${s}`);for(let S=0;S<b.length;S++)b[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let l=0,d=0;const f=i.querySelectorAll(r),v=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const b=i.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(b),I=e.children,H=this._getStartEnd(I[0].getBoundingClientRect());let N=0;for(let j=0;j<I.length;j++)N+=I[j].offsetWidth;l=Math.abs(H-S)-5,d=N>0?.75*N+10:0}for(let b=0;b<f.length;b++)f[b].style.width=`${l}px`;for(let b=0;b<v.length;b++)v[b].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(m8,8),o.Y36(bCe,8),o.Y36(No),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,CA,5),o.Suo(r,CA,7),o.Suo(r,bA,5),o.Suo(r,bA,7),o.Suo(r,gCe,5),o.Suo(r,fCe,5),o.Suo(r,mCe,5),o.Suo(r,_Ce,5),o.Suo(r,vCe,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(Qye,7),o.Gf(Xye,5),o.Gf(Jye,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:MA,useExisting:n}]),o.qOj],ngContentSelectors:hCe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(dCe),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,eCe,9,0,"ng-container",3),o.YNc(4,tCe,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,sCe,5,16,"label",8),o.qZA()(),o.YNc(10,oCe,2,0,"div",9),o.qZA(),o.YNc(11,aCe,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,cCe,2,1,"div",12),o.YNc(14,uCe,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[Gn,Aa,Go,M9e],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[pCe.transitionMessages]},changeDetection:0}),n})(),_C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xs,Po,YB,Po]}),n})();const qj=Fy({passive:!0});let wCe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ts.E;const i=M3(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Et.x,l="cdk-text-field-autofilled",d=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,qj),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,qj)}}),s}stopMonitoring(e){const i=M3(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(No),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Wj=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),SCe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let DCe=0;const xCe=e_e(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Et.x}});let ECe=(()=>{class n extends xCe{constructor(e,i,r,s,l,d,f,v,b,S){super(d,s,l,r),this._elementRef=e,this._platform=i,this._autofillMonitor=v,this._formField=S,this._uid="mat-input-"+DCe++,this.focused=!1,this.stateChanges=new Et.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(N=>jB().has(N)),this._iOSKeyupListener=N=>{const j=N.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))};const I=this._elementRef.nativeElement,H=I.nodeName.toLowerCase();this._inputValueAccessor=f||I,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=I.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ao(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(dh.required)??!1}set required(e){this._required=ao(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&jB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ao(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){SCe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(No),o.Y36(Y2,10),o.Y36(gc,8),o.Y36(k6,8),o.Y36(lU),o.Y36(Wj,10),o.Y36(wCe),o.Y36(o.R0b),o.Y36(MA,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:CA,useExisting:n}]),o.qOj,o.TTD]}),n})(),ACe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[lU],imports:[$j,_C,Po,$j,_C]}),n})();const TCe=["mat-calendar-body",""];function ICe(n,t){if(1&n&&(o.TgZ(0,"tr",2)(1,"td",3),o._uU(2),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e.numCols),o.xp6(1),o.hij(" ",e.label," ")}}function kCe(n,t){if(1&n&&(o.TgZ(0,"td",3),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e._firstRowOffset),o.xp6(1),o.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function VCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",7)(1,"button",8),o.NdJ("click",function(r){const l=o.CHM(e).$implicit,d=o.oxw(2);return o.KtG(d._cellClicked(l,r))})("focus",function(r){const l=o.CHM(e).$implicit,d=o.oxw(2);return o.KtG(d._emitActiveDateChange(l,r))}),o.TgZ(2,"div",9),o._uU(3),o.qZA(),o._UZ(4,"div",10),o.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw().index,s=o.oxw();o.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),o.uIk("data-mat-row",r)("data-mat-col",i),o.xp6(1),o.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),o.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),o.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),o.xp6(1),o.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),o.xp6(1),o.hij(" ",e.displayValue," ")}}function LCe(n,t){if(1&n&&(o.TgZ(0,"tr",4),o.YNc(1,kCe,2,6,"td",5),o.YNc(2,VCe,5,47,"td",6),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.xp6(1),o.Q6J("ngIf",0===i&&r._firstRowOffset),o.xp6(1),o.Q6J("ngForOf",e)}}function HCe(n,t){if(1&n&&(o.TgZ(0,"th",5)(1,"span",6),o._uU(2),o.qZA(),o.TgZ(3,"span",7),o._uU(4),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.long),o.xp6(2),o.Oqu(e.narrow)}}const zCe=["*"];function NCe(n,t){}function PCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-month-view",5),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("_userSelection",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._dateSelected(r))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function OCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-year-view",6),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("monthSelected",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._goToDateInView(r,"month"))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function RCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-multi-year-view",7),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("yearSelected",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._goToDateInView(r,"year"))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function FCe(n,t){}const BCe=["button"];function UCe(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"path",4),o.qZA())}const jCe=[[["","matDatepickerToggleIcon",""]]],GCe=["[matDatepickerToggleIcon]"];let Im=(()=>{class n{constructor(){this.changes=new Et.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wA{constructor(t,e,i,r,s={},l=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=l,this.rawValue=d}}let M8=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new o.vpe,this.previewChange=new o.vpe,this.activeDateChange=new o.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(nn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return SA(e,this.startValue,this.endValue)}_isRangeEnd(e){return DA(e,this.startValue,this.endValue)}_isInRange(e){return xA(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return SA(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const l=this.rows[i-1];s=l&&l[l.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const l=this.rows[i+1];s=l&&l[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return DA(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return xA(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return SA(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return DA(e,this.previewStart,this.previewEnd)}_isInPreview(e){return xA(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(Zj(e)?i=e:Zj(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[o.TTD],attrs:TCe,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(o.YNc(0,ICe,3,6,"tr",0),o.YNc(1,LCe,3,2,"tr",1)),2&e&&(o.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),o.xp6(1),o.Q6J("ngForOf",i.rows))},dependencies:[tn,Er,Gn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function Zj(n){return"TD"===n.nodeName}function SA(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function DA(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function xA(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Oo{constructor(t,e){this.start=t,this.end=e}}let Du=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Et.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),qCe=(()=>{class n extends Du{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Cs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Yj={provide:Du,deps:[[new o.FiY,new o.tp0,Du],Cs],useFactory:function WCe(n,t){return n||new qCe(t)}},vC=new o.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Kj=(()=>{class n{constructor(e,i,r,s,l){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=l,this._rerenderSubscription=$n.w0.EMPTY,this.selectedChange=new o.vpe,this._userSelection=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Oo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Vr(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,l;this._selected instanceof Oo?(s=this._getDateInCurrentMonth(this._selected.start),l=this._getDateInCurrentMonth(this._selected.end)):s=l=this._getDateInCurrentMonth(this._selected),(s!==i||l!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!LE(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((l,d)=>({long:l,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(l),f=this._dateAdapter.format(l,this._dateFormats.display.dateA11yLabel),v=this.dateClass?this.dateClass(l,"month"):void 0;this._weeks[this._weeks.length-1].push(new wA(r+1,i[r],f,d,v,this._getCellCompareValue(l),l))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Oo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Nd,8),o.Y36(Cs,8),o.Y36(m8,8),o.Y36(vC,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(M8,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[o.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o.YNc(3,HCe,5,2,"th",2),o.qZA(),o.TgZ(4,"tr"),o._UZ(5,"th",3),o.qZA()(),o.TgZ(6,"tbody",4),o.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngForOf",i._weekdays),o.xp6(3),o.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[Er,M8],encapsulation:2,changeDetection:0}),n})(),Qj=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=$n.w0.EMPTY,this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),Xj(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Oo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Vr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-km(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(l=>this._createCellForYear(l))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-km(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-km(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return km(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new wA(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Oo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Cs,8),o.Y36(m8,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(M8,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[M8],encapsulation:2,changeDetection:0}),n})();function Xj(n,t,e,i,r){const s=n.getYear(t),l=n.getYear(e),d=Jj(n,i,r);return Math.floor((s-d)/24)===Math.floor((l-d)/24)}function km(n,t,e,i){return function QCe(n,t){return(n%t+t)%t}(n.getYear(t)-Jj(n,e,i),24)}function Jj(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let eG=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=$n.w0.EMPTY,this.selectedChange=new o.vpe,this.monthSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Oo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Vr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),l=this.dateClass?this.dateClass(r,"year"):void 0;return new wA(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),l)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Oo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Nd,8),o.Y36(Cs,8),o.Y36(m8,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(M8,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[M8],encapsulation:2,changeDetection:0}),n})(),XCe=0,JCe=(()=>{class n{constructor(e,i,r,s,l){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+XCe++,this.calendar.stateChanges.subscribe(()=>l.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-km(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),l=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,l)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):Xj(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Im),o.Y36((0,o.Gpc)(()=>yC)),o.Y36(Cs,8),o.Y36(Nd,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:zCe,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return i.currentPeriodClicked()}),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.O4$(),o.TgZ(5,"svg",3),o._UZ(6,"polygon",4),o.qZA()(),o.kcU(),o._UZ(7,"div",5),o.Hsn(8),o.TgZ(9,"button",6),o.NdJ("click",function(){return i.previousClicked()}),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return i.nextClicked()}),o.qZA()()()),2&e&&(o.xp6(2),o.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),o.xp6(1),o.uIk("id",i._buttonDescriptionId),o.xp6(1),o.Oqu(i.periodButtonText),o.xp6(1),o.ekj("mat-calendar-invert","month"!==i.calendar.currentView),o.xp6(4),o.Q6J("disabled",!i.previousEnabled()),o.uIk("aria-label",i.prevButtonLabel),o.xp6(1),o.Q6J("disabled",!i.nextEnabled()),o.uIk("aria-label",i.nextButtonLabel))},dependencies:[vA],encapsulation:2,changeDetection:0}),n})(),yC=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this._userSelection=new o.vpe,this.stateChanges=new Et.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Oo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new gA(this.headerComponent||JCe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const l=this._getCurrentViewComponent();l&&(this._changeDetectorRef.detectChanges(),l._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Oo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Im),o.Y36(Cs,8),o.Y36(Nd,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Kj,5),o.Gf(eG,5),o.Gf(Qj,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.monthView=r.first),o.iGM(r=o.CRH())&&(i.yearView=r.first),o.iGM(r=o.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[o._Bn([Yj]),o.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(o.YNc(0,NCe,0,0,"ng-template",0),o.TgZ(1,"div",1),o.YNc(2,PCe,1,8,"mat-month-view",2),o.YNc(3,OCe,1,6,"mat-year-view",3),o.YNc(4,RCe,1,6,"mat-multi-year-view",4),o.qZA()),2&e&&(o.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),o.xp6(1),o.Q6J("ngSwitch",i.currentView),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngSwitchCase","multi-year"))},dependencies:[Aa,Go,G9e,wj,Kj,eG,Qj],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}'],encapsulation:2,changeDetection:0}),n})();const tG={transformPanel:b8("transformPanel",[Wc("void => enter-dropdown",A3("120ms cubic-bezier(0, 0, 0.2, 1)",Fj([bs({opacity:0,transform:"scale(1, 0.8)"}),bs({opacity:1,transform:"scale(1, 1)"})]))),Wc("void => enter-dialog",A3("150ms cubic-bezier(0, 0, 0.2, 1)",Fj([bs({opacity:0,transform:"scale(0.7)"}),bs({transform:"none",opacity:1})]))),Wc("* => void",A3("100ms linear",bs({opacity:0})))]),fadeInCalendar:b8("fadeInCalendar",[Su("void",bs({opacity:0})),Su("enter",bs({opacity:1})),Wc("void => *",A3("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let ebe=0;const nG=new o.OlP("mat-datepicker-scroll-strategy"),nbe={provide:nG,deps:[Am],useFactory:function tbe(n){return()=>n.scrollStrategies.reposition()}},ibe=zE(class{constructor(n){this._elementRef=n}});let rbe=(()=>{class n extends ibe{constructor(e,i,r,s,l,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=l,this._subscriptions=new $n.w0,this._animationDone=new Et.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Oo;if(s&&this._rangeSelectionStrategy){const l=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(l,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Du),o.Y36(Cs),o.Y36(vC,8),o.Y36(Im))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&o.Gf(yC,5),2&e){let r;o.iGM(r=o.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&o.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(o.d8E("@transformPanel",i._animationState),o.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[o.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"mat-calendar",1),o.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),o.qZA(),o.YNc(2,FCe,0,0,"ng-template",2),o.TgZ(3,"button",3),o.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),o._uU(4),o.qZA()()),2&e){let r;o.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),o.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),o.xp6(1),o.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),o.xp6(1),o.Q6J("cdkPortalOutlet",i._actionsPortal),o.xp6(1),o.ekj("cdk-visually-hidden",!i._closeButtonFocused),o.Q6J("color",i.color||"primary"),o.xp6(1),o.Oqu(i._closeButtonText)}},dependencies:[tn,vA,O9e,wj,yC],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[tG.transformPanel,tG.fadeInCalendar]},changeDetection:0}),n})(),iG=(()=>{class n{constructor(e,i,r,s,l,d,f){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=l,this._dir=d,this._model=f,this._inputStateChanges=$n.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this.openedStream=new o.vpe,this.closedStream=new o.vpe,this._opened=!1,this.id="mat-datepicker-"+ebe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Et.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=ao(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=ao(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=ao(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function C9e(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){ao(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof Vj&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=GB(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(nn(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal,e._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new gA(rbe,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Aj({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const l=s.keyCode;(38===l||40===l||37===l||39===l||33===l||34===l)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(nn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",l="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:l,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:l},{originX:r,originY:l,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:l}])}_getCloseStream(e){return(0,es.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(x(i=>27===i.keyCode&&!LE(i)||this.datepickerInput&&LE(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Am),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(nG),o.Y36(Cs,8),o.Y36(m8,8),o.Y36(Du))},n.\u0275dir=o.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[o.TTD]}),n})(),sbe=(()=>{class n extends iG{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[o._Bn([Yj,{provide:iG,useExisting:n}]),o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class CC{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let obe=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new o.vpe,this.dateInput=new o.vpe,this.stateChanges=new Et.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=$n.w0.EMPTY,this._localeSubscription=$n.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!l||this._matchesFilter(l)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!l||this._dateAdapter.compareDate(d,l)<=0?null:{matDatepickerMin:{min:d,actual:l}}},this._maxValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!l||this._dateAdapter.compareDate(d,l)>=0?null:{matDatepickerMax:{max:d,actual:l}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=ao(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new CC(this,this._elementRef.nativeElement)),this.dateChange.emit(new CC(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function abe(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new CC(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new CC(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Cs,8),o.Y36(Nd,8))},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[o.TTD]}),n})();const cbe={provide:vr,useExisting:(0,o.Gpc)(()=>TA),multi:!0},lbe={provide:Hr,useExisting:(0,o.Gpc)(()=>TA),multi:!0};let TA=(()=>{class n extends obe{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=$n.w0.EMPTY,this._validator=dh.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Cs,8),o.Y36(Nd,8),o.Y36(MA,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(o.Ikx("disabled",i.disabled),o.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[o._Bn([cbe,lbe,{provide:Wj,useExisting:n}]),o.qOj]}),n})(),ube=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),dbe=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=$n.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=ao(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:nt(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:nt(),r=this.datepicker?(0,es.T)(this.datepicker.openedStream,this.datepicker.closedStream):nt();this._stateChanges.unsubscribe(),this._stateChanges=(0,es.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Im),o.Y36(o.sBO),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,ube,5),2&e){let s;o.iGM(s=o.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(BCe,5),2&e){let r;o.iGM(r=o.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._open(s)}),2&e&&(o.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),o.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[o.TTD],ngContentSelectors:GCe,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(o.F$t(jCe),o.TgZ(0,"button",0,1),o.YNc(2,UCe,2,0,"svg",2),o.Hsn(3),o.qZA()),2&e&&(o.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),o.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),o.xp6(2),o.Q6J("ngIf",!i._customIcon))},dependencies:[Gn,vA],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),hbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Im,nbe],imports:[xs,Pj,Nj,q9e,Sj,Po,gC]}),n})();var T3=R(655);function rG(n,t,e){return e?rG(n,t).pipe(oa(e)):new gn.y(i=>{const r=(...l)=>i.next(1===l.length?l[0]:l),s=n(r);return(0,mr.m)(t)?()=>t(r,s):void 0})}const fbe=E.z,sG=["*"];let bC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),f1=(()=>{class n{constructor(e,i){this._loader=e,this._zone=i,this._map=new Promise(r=>{this._mapResolver=r})}createMap(e,i){return this._zone.runOutsideAngular(()=>this._loader.load().then(()=>{const r=new google.maps.Map(e,i);this._mapResolver(r)}))}setMapOptions(e){return this._zone.runOutsideAngular(()=>{this._map.then(i=>{i.setOptions(e)})})}createMarker(e={},i=!0){return this._zone.runOutsideAngular(()=>this._map.then(r=>(i&&(e.map=r),new google.maps.Marker(e))))}createInfoWindow(e){return this._zone.runOutsideAngular(()=>this._map.then(()=>new google.maps.InfoWindow(e)))}createCircle(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>(e.map=i,new google.maps.Circle(e))))}createRectangle(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>(e.map=i,new google.maps.Rectangle(e))))}createPolyline(e){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(i=>{const r=new google.maps.Polyline(e);return r.setMap(i),r}))}createPolygon(e){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(i=>{const r=new google.maps.Polygon(e);return r.setMap(i),r}))}createDataLayer(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>{const r=new google.maps.Data(e);return r.setMap(i),r}))}createTransitLayer(){return this._zone.runOutsideAngular(()=>this._map.then(e=>{const i=new google.maps.TransitLayer;return i.setMap(e),i}))}createBicyclingLayer(){return this._zone.runOutsideAngular(()=>this._map.then(e=>{const i=new google.maps.BicyclingLayer;return i.setMap(e),i}))}containsLocation(e,i){return this._map.then(()=>google.maps.geometry.poly.containsLocation(e,i))}subscribeToMapEvent(e){return new gn.y(i=>{this._map.then(r=>r.addListener(e,()=>this._zone.run(()=>i.next(arguments[0]))))})}clearInstanceListeners(){return this._zone.runOutsideAngular(()=>{this._map.then(e=>{google.maps.event.clearInstanceListeners(e)})})}setCenter(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>i.setCenter(e)))}getZoom(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getZoom()))}getBounds(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getBounds()))}getMapTypeId(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getMapTypeId()))}setZoom(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>i.setZoom(e)))}getCenter(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getCenter()))}panTo(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>i.panTo(e)))}panBy(e,i){return this._zone.runOutsideAngular(()=>this._map.then(r=>r.panBy(e,i)))}fitBounds(e,i){return this._zone.runOutsideAngular(()=>this._map.then(r=>r.fitBounds(e,i)))}panToBounds(e,i){return this._zone.runOutsideAngular(()=>this._map.then(r=>r.panToBounds(e,i)))}getNativeMap(){return this._map}triggerMapEvent(e){return this._map.then(i=>google.maps.event.trigger(i,e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bC),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),oG=(()=>{class n{constructor(e,i){this._apiWrapper=e,this._zone=i,this._circles=new Map}addCircle(e){this._apiWrapper.getNativeMap().then(()=>this._circles.set(e,this._apiWrapper.createCircle({center:{lat:e.latitude,lng:e.longitude},clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,radius:e.radius,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokePosition:google.maps.StrokePosition[e.strokePosition],strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex})))}removeCircle(e){return this._circles.get(e).then(i=>{i.setMap(null),this._circles.delete(e)})}setOptions(e,i){return(0,T3.mG)(this,void 0,void 0,function*(){return this._circles.get(e).then(r=>{i.strokePosition=google.maps.StrokePosition[i.strokePosition],r.setOptions(i)})})}getBounds(e){return this._circles.get(e).then(i=>i.getBounds())}getCenter(e){return this._circles.get(e).then(i=>i.getCenter())}getRadius(e){return this._circles.get(e).then(i=>i.getRadius())}setCenter(e){return this._circles.get(e).then(i=>i.setCenter({lat:e.latitude,lng:e.longitude}))}setEditable(e){return this._circles.get(e).then(i=>i.setEditable(e.editable))}setDraggable(e){return this._circles.get(e).then(i=>i.setDraggable(e.draggable))}setVisible(e){return this._circles.get(e).then(i=>i.setVisible(e.visible))}setRadius(e){return this._circles.get(e).then(i=>i.setRadius(e.radius))}getNativeCircle(e){return this._circles.get(e)}createEventObservable(e,i){return new gn.y(r=>{let s=null;return this._circles.get(i).then(l=>{s=l.addListener(e,d=>this._zone.run(()=>r.next(d)))}),()=>{null!==s&&s.remove()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f1),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),IA=(()=>{class n{constructor(e,i){this._wrapper=e,this._zone=i,this._layers=new Map}addDataLayer(e){const i=this._wrapper.createDataLayer({style:e.style}).then(r=>(e.geoJson&&this.getDataFeatures(r,e.geoJson).then(s=>r.features=s),r));this._layers.set(e,i)}deleteDataLayer(e){this._layers.get(e).then(i=>{i.setMap(null),this._layers.delete(e)})}updateGeoJson(e,i){this._layers.get(e).then(r=>{r.forEach(s=>{r.remove(s);const l=r.features.indexOf(s,0);l>-1&&r.features.splice(l,1)}),this.getDataFeatures(r,i).then(s=>r.features=s)})}setDataOptions(e,i){this._layers.get(e).then(r=>{r.setControlPosition(i.controlPosition),r.setControls(i.controls),r.setDrawingMode(i.drawingMode),r.setStyle(i.style)})}createEventObservable(e,i){return new gn.y(r=>{this._layers.get(i).then(s=>{s.addListener(e,l=>this._zone.run(()=>r.next(l)))})})}getDataFeatures(e,i){return new Promise((r,s)=>{if("object"==typeof i)try{r(e.addGeoJson(i))}catch(l){s(l)}else"string"==typeof i?e.loadGeoJson(i,null,r):s("Impossible to extract features from geoJson: wrong argument type")})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f1),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class kA{}let VA=(()=>{class n{constructor(e){this._boundsChangeSampleTime$=new Vn(200),this._includeInBounds$=new Vn(new Map),this.bounds$=(0,on.D)(e.load()).pipe(fbe(()=>this._includeInBounds$),function pbe(n){return(0,Nn.e)((t,e)=>{let i=!1,r=null;t.subscribe((0,En.x)(e,s=>{i=!0,r=s})),n.subscribe((0,En.x)(e,()=>{if(i){i=!1;const s=r;r=null,e.next(s)}},Wy.Z))})}(this._boundsChangeSampleTime$.pipe(Mn(i=>pA(0,i)))),(0,Je.U)(i=>this._generateBounds(i)),rx(1))}_generateBounds(e){const i=new google.maps.LatLngBounds;return e.forEach(r=>i.extend(r)),i}addToBounds(e){const i=this._createIdentifier(e);if(this._includeInBounds$.value.has(i))return;const r=this._includeInBounds$.value;r.set(i,e),this._includeInBounds$.next(r)}removeFromBounds(e){const i=this._includeInBounds$.value;i.delete(this._createIdentifier(e)),this._includeInBounds$.next(i)}changeFitBoundsChangeSampleTime(e){this._boundsChangeSampleTime$.next(e)}getBounds$(){return this.bounds$}_createIdentifier(e){return`${e.lat}+${e.lng}`}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bC))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class aG{getNativeWindow(){return window}}class cG{getNativeDocument(){return document}}const mbe=[aG,cG];var Ud=(()=>(function(n){n[n.HTTP=1]="HTTP",n[n.HTTPS=2]="HTTPS",n[n.AUTO=3]="AUTO"}(Ud||(Ud={})),Ud))();const lG=new o.OlP("angular-google-maps LAZY_MAPS_API_CONFIG");let gbe=(()=>{class n extends bC{constructor(e=null,i,r,s){super(),this.localeId=s,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=e||{},this._windowRef=i,this._documentRef=r}load(){const e=this._windowRef.getNativeWindow();if(e.google&&e.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const i=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(i)return this._assignScriptLoadingPromise(i),this._scriptLoadingPromise;const r=this._documentRef.getNativeDocument().createElement("script");return r.type="text/javascript",r.async=!0,r.defer=!0,r.id=this._SCRIPT_ID,r.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(r),this._documentRef.getNativeDocument().body.appendChild(r),this._scriptLoadingPromise}_assignScriptLoadingPromise(e){this._scriptLoadingPromise=new Promise((i,r)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{i()},e.onerror=s=>{r(s)}})}_getScriptSrc(e){let r;switch(this._config&&this._config.protocol||Ud.HTTPS){case Ud.AUTO:r="";break;case Ud.HTTP:r="http:";break;case Ud.HTTPS:r="https:"}const l={v:this._config.apiVersion||"quarterly",callback:e,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||("en-US"!==this.localeId?this.localeId:null)};return`${r}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(l).filter(f=>null!=l[f]).filter(f=>!Array.isArray(l[f])||Array.isArray(l[f])&&l[f].length>0).map(f=>{const v=l[f];return Array.isArray(v)?{key:f,value:v.join(",")}:{key:f,value:l[f]}}).map(f=>`${f.key}=${f.value}`).join("&")}`}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(lG,8),o.LFG(aG),o.LFG(cG),o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),LA=(()=>{class n{constructor(e,i){this._mapsWrapper=e,this._zone=i,this._markers=new Map}convertAnimation(e){return(0,T3.mG)(this,void 0,void 0,function*(){return null===e?null:this._mapsWrapper.getNativeMap().then(()=>google.maps.Animation[e])})}deleteMarker(e){const i=this._markers.get(e);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setMap(null),this._markers.delete(e)}))}updateMarkerPosition(e){return this._markers.get(e).then(i=>i.setPosition({lat:e.latitude,lng:e.longitude}))}updateTitle(e){return this._markers.get(e).then(i=>i.setTitle(e.title))}updateLabel(e){return this._markers.get(e).then(i=>{i.setLabel(e.label)})}updateDraggable(e){return this._markers.get(e).then(i=>i.setDraggable(e.draggable))}updateIcon(e){return this._markers.get(e).then(i=>i.setIcon(e.iconUrl))}updateOpacity(e){return this._markers.get(e).then(i=>i.setOpacity(e.opacity))}updateVisible(e){return this._markers.get(e).then(i=>i.setVisible(e.visible))}updateZIndex(e){return this._markers.get(e).then(i=>i.setZIndex(e.zIndex))}updateClickable(e){return this._markers.get(e).then(i=>i.setClickable(e.clickable))}updateAnimation(e){return(0,T3.mG)(this,void 0,void 0,function*(){(yield this._markers.get(e)).setAnimation(yield this.convertAnimation(e.animation))})}addMarker(e){const i=new Promise(r=>(0,T3.mG)(this,void 0,void 0,function*(){return this._mapsWrapper.createMarker({position:{lat:e.latitude,lng:e.longitude},label:e.label,draggable:e.draggable,icon:e.iconUrl,opacity:e.opacity,visible:e.visible,zIndex:e.zIndex,title:e.title,clickable:e.clickable,animation:yield this.convertAnimation(e.animation)}).then(r)}));this._markers.set(e,i)}getNativeMarker(e){return this._markers.get(e)}createEventObservable(e,i){return new gn.y(r=>{this._markers.get(i).then(s=>s.addListener(e,l=>this._zone.run(()=>r.next(l))))})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f1),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),uG=(()=>{class n{constructor(e,i,r){this._mapsWrapper=e,this._zone=i,this._markerManager=r,this._infoWindows=new Map}deleteInfoWindow(e){const i=this._infoWindows.get(e);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.close(),this._infoWindows.delete(e)}))}setPosition(e){return this._infoWindows.get(e).then(i=>i.setPosition({lat:e.latitude,lng:e.longitude}))}setZIndex(e){return this._infoWindows.get(e).then(i=>i.setZIndex(e.zIndex))}open(e){return this._infoWindows.get(e).then(i=>null!=e.hostMarker?this._markerManager.getNativeMarker(e.hostMarker).then(r=>this._mapsWrapper.getNativeMap().then(s=>i.open(s,r))):this._mapsWrapper.getNativeMap().then(r=>i.open(r)))}close(e){return this._infoWindows.get(e).then(i=>i.close())}setOptions(e,i){return this._infoWindows.get(e).then(r=>r.setOptions(i))}addInfoWindow(e){const i={content:e.content,maxWidth:e.maxWidth,zIndex:e.zIndex,disableAutoPan:e.disableAutoPan};"number"==typeof e.latitude&&"number"==typeof e.longitude&&(i.position={lat:e.latitude,lng:e.longitude});const r=this._mapsWrapper.createInfoWindow(i);this._infoWindows.set(e,r)}createEventObservable(e,i){return new gn.y(r=>{this._infoWindows.get(i).then(s=>{s.addListener(e,l=>this._zone.run(()=>r.next(l)))})})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f1),o.LFG(o.R0b),o.LFG(LA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),dG=(()=>{class n{constructor(e,i){this._wrapper=e,this._zone=i,this._layers=new Map}addKmlLayer(e){const i=this._wrapper.getNativeMap().then(r=>new google.maps.KmlLayer({clickable:e.clickable,map:r,preserveViewport:e.preserveViewport,screenOverlays:e.screenOverlays,suppressInfoWindows:e.suppressInfoWindows,url:e.url,zIndex:e.zIndex}));this._layers.set(e,i)}setOptions(e,i){this._layers.get(e).then(r=>r.setOptions(i))}deleteKmlLayer(e){this._layers.get(e).then(i=>{i.setMap(null),this._layers.delete(e)})}createEventObservable(e,i){return new gn.y(r=>{this._layers.get(i).then(s=>{s.addListener(e,l=>this._zone.run(()=>r.next(l)))})})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f1),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),HA=(()=>{class n{constructor(e){this._wrapper=e,this._layers=new Map}addTransitLayer(e){const i=this._wrapper.createTransitLayer();this._layers.set(e,i)}addBicyclingLayer(e){const i=this._wrapper.createBicyclingLayer();this._layers.set(e,i)}deleteLayer(e){return this._layers.get(e).then(i=>{i.setMap(null),this._layers.delete(e)})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function zA(n){const t=["insert_at","remove_at","set_at"];return rG(e=>t.map(i=>n.addListener(i,(r,s)=>e.apply(n,[{newArr:n.getArray(),eventName:i,index:r,previous:s}]))),(e,i)=>i.forEach(r=>r.remove()))}let hG=(()=>{class n{constructor(e,i){this._mapsWrapper=e,this._zone=i,this._polygons=new Map}addPolygon(e){const i=this._mapsWrapper.createPolygon({clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,geodesic:e.geodesic,paths:e.paths,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex});this._polygons.set(e,i)}updatePolygon(e){const i=this._polygons.get(e);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setPaths(e.paths)}))}setPolygonOptions(e,i){return this._polygons.get(e).then(r=>{r.setOptions(i)})}deletePolygon(e){const i=this._polygons.get(e);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setMap(null),this._polygons.delete(e)}))}getPath(e){return this._polygons.get(e).then(i=>i.getPath().getArray())}getPaths(e){return this._polygons.get(e).then(i=>i.getPaths().getArray().map(r=>r.getArray()))}createEventObservable(e,i){return new gn.y(r=>{this._polygons.get(i).then(s=>{s.addListener(e,l=>this._zone.run(()=>r.next(l)))})})}createPathEventObservable(e){return(0,T3.mG)(this,void 0,void 0,function*(){const r=(yield this._polygons.get(e)).getPaths();return zA(r).pipe(Vr({newArr:r.getArray()}),Mn(l=>(0,es.T)(...l.newArr.map((d,f)=>zA(d).pipe((0,Je.U)(v=>({parentMVEvent:l,chMVCEvent:v,pathIndex:f}))))).pipe(Vr({parentMVEvent:l,chMVCEvent:null,pathIndex:null}))),$y(1),(0,Je.U)(({parentMVEvent:l,chMVCEvent:d,pathIndex:f})=>{let v;return d?(v={newArr:l.newArr.map(b=>b.getArray().map(S=>S.toJSON())),pathIndex:f,eventName:d.eventName,index:d.index},d.previous&&(v.previous=d.previous)):(v={newArr:l.newArr.map(b=>b.getArray().map(S=>S.toJSON())),eventName:l.eventName,index:l.index},l.previous&&(v.previous=l.previous.getArray())),v}))})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f1),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),fG=(()=>{class n{constructor(e,i){this._mapsWrapper=e,this._zone=i,this._polylines=new Map}static _convertPoints(e){return e._getPoints().map(r=>({lat:r.latitude,lng:r.longitude}))}static _convertPath(e){const i=google.maps.SymbolPath[e];return"number"==typeof i?i:e}static _convertIcons(e){const i=e._getIcons().map(r=>({fixedRotation:r.fixedRotation,offset:r.offset,repeat:r.repeat,icon:{anchor:new google.maps.Point(r.anchorX,r.anchorY),fillColor:r.fillColor,fillOpacity:r.fillOpacity,path:n._convertPath(r.path),rotation:r.rotation,scale:r.scale,strokeColor:r.strokeColor,strokeOpacity:r.strokeOpacity,strokeWeight:r.strokeWeight}}));return i.forEach(r=>{Object.entries(r).forEach(([s,l])=>{typeof l>"u"&&delete r[s]}),(typeof r.icon.anchor.x>"u"||typeof r.icon.anchor.y>"u")&&delete r.icon.anchor}),i}addPolyline(e){const i=this._mapsWrapper.getNativeMap().then(()=>[n._convertPoints(e),n._convertIcons(e)]).then(([r,s])=>this._mapsWrapper.createPolyline({clickable:e.clickable,draggable:e.draggable,editable:e.editable,geodesic:e.geodesic,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex,path:r,icons:s}));this._polylines.set(e,i)}updatePolylinePoints(e){const i=n._convertPoints(e),r=this._polylines.get(e);return null==r?Promise.resolve():r.then(s=>this._zone.run(()=>s.setPath(i)))}updateIconSequences(e){return(0,T3.mG)(this,void 0,void 0,function*(){yield this._mapsWrapper.getNativeMap();const i=n._convertIcons(e),r=this._polylines.get(e);if(null!=r)return r.then(s=>this._zone.run(()=>s.setOptions({icons:i})))})}setPolylineOptions(e,i){return this._polylines.get(e).then(r=>{r.setOptions(i)})}deletePolyline(e){const i=this._polylines.get(e);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setMap(null),this._polylines.delete(e)}))}getMVCPath(e){return(0,T3.mG)(this,void 0,void 0,function*(){return(yield this._polylines.get(e)).getPath()})}getPath(e){return(0,T3.mG)(this,void 0,void 0,function*(){return(yield this.getMVCPath(e)).getArray()})}createEventObservable(e,i){return new gn.y(r=>{this._polylines.get(i).then(s=>{s.addListener(e,l=>this._zone.run(()=>r.next(l)))})})}createPathEventObservable(e){return(0,T3.mG)(this,void 0,void 0,function*(){return zA(yield this.getMVCPath(e))})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f1),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),pG=(()=>{class n{constructor(e,i){this._apiWrapper=e,this._zone=i,this._rectangles=new Map}addRectangle(e){this._apiWrapper.getNativeMap().then(()=>this._rectangles.set(e,this._apiWrapper.createRectangle({bounds:{north:e.north,east:e.east,south:e.south,west:e.west},clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokePosition:google.maps.StrokePosition[e.strokePosition],strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex})))}removeRectangle(e){return this._rectangles.get(e).then(i=>{i.setMap(null),this._rectangles.delete(e)})}setOptions(e,i){return this._rectangles.get(e).then(r=>{i.strokePosition=google.maps.StrokePosition[i.strokePosition],r.setOptions(i)})}getBounds(e){return this._rectangles.get(e).then(i=>i.getBounds())}setBounds(e){return this._rectangles.get(e).then(i=>i.setBounds({north:e.north,east:e.east,south:e.south,west:e.west}))}setEditable(e){return this._rectangles.get(e).then(i=>i.setEditable(e.editable))}setDraggable(e){return this._rectangles.get(e).then(i=>i.setDraggable(e.draggable))}setVisible(e){return this._rectangles.get(e).then(i=>i.setVisible(e.visible))}createEventObservable(e,i){return new gn.y(r=>{let s=null;return this._rectangles.get(i).then(l=>{s=l.addListener(e,d=>this._zone.run(()=>r.next(d)))}),()=>{null!==s&&s.remove()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f1),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),wbe=0,NA=(()=>{class n{constructor(e,i){this._infoWindowManager=e,this._el=i,this.isOpen=!1,this.infoWindowClose=new o.vpe,this._infoWindowAddedToManager=!1,this._id=(wbe++).toString()}ngOnInit(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}ngOnChanges(e){!this._infoWindowAddedToManager||((e.latitude||e.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),e.zIndex&&this._infoWindowManager.setZIndex(this),e.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(e))}_registerEventListeners(){this._infoWindowManager.createEventObservable("closeclick",this).subscribe(()=>{this.isOpen=!1,this.infoWindowClose.emit()})}_updateOpenState(){this.isOpen?this.open():this.close()}_setInfoWindowOptions(e){const i={};Object.keys(e).filter(s=>-1!==n._infoWindowOptionsInputs.indexOf(s)).forEach(s=>{i[s]=e[s].currentValue}),this._infoWindowManager.setOptions(this,i)}open(){return this._infoWindowManager.open(this)}close(){return this._infoWindowManager.close(this).then(()=>{this.infoWindowClose.emit()})}id(){return this._id}toString(){return"AgmInfoWindow-"+this._id.toString()}ngOnDestroy(){this._infoWindowManager.deleteInfoWindow(this)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(uG),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[o.TTD],ngContentSelectors:sG,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},encapsulation:2}),n._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],n})(),co=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,inputs:{position:"position"}}),n})(),mG=(()=>{class n{constructor(e,i,r,s,l){this._elem=e,this._mapsWrapper=i,this._platformId=r,this._fitBoundsService=s,this._zone=l,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.mapTypeId="ROADMAP",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new o.vpe,this.mapRightClick=new o.vpe,this.mapDblClick=new o.vpe,this.centerChange=new o.vpe,this.boundsChange=new o.vpe,this.mapTypeIdChange=new o.vpe,this.idle=new o.vpe,this.zoomChange=new o.vpe,this.mapReady=new o.vpe,this.tilesLoaded=new o.vpe}ngAfterContentInit(){if(Ni(this._platformId))return;const e=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(e)}_initMapInstance(e){this._mapsWrapper.createMap(e,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,mapTypeId:this.mapTypeId.toLocaleLowerCase(),clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(()=>this._mapsWrapper.getNativeMap()).then(i=>this.mapReady.emit(i)),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent(),this._handleControlChange()}ngOnDestroy(){this._observableSubscriptions.forEach(e=>e.unsubscribe()),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}ngOnChanges(e){this._updateMapOptionsChanges(e),this._updatePosition(e)}_updateMapOptionsChanges(e){const i={};Object.keys(e).filter(s=>-1!==n._mapOptionsAttributes.indexOf(s)).forEach(s=>{i[s]=e[s].currentValue}),this._mapsWrapper.setMapOptions(i)}triggerResize(e=!0){return new Promise(i=>{setTimeout(()=>this._mapsWrapper.triggerMapEvent("resize").then(()=>{e&&(null!=this.fitBounds?this._fitBounds():this._setCenter()),i()}))})}_updatePosition(e){if(null!=e.latitude||null!=e.longitude||e.fitBounds){if("fitBounds"in e)return void this._fitBounds();"number"!=typeof this.latitude||"number"!=typeof this.longitude||this._setCenter()}}_setCenter(){const e={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(e):this._mapsWrapper.setCenter(e)}_fitBounds(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe(),this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}_subscribeToFitBoundsUpdates(){this._zone.runOutsideAngular(()=>{this._fitBoundsSubscription=this._fitBoundsService.getBounds$().subscribe(e=>{this._zone.run(()=>this._updateBounds(e,this.fitBoundsPadding))})})}_updateBounds(e,i){if(e){if(this._isLatLngBoundsLiteral(e)&&typeof google<"u"&&google&&google.maps&&google.maps.LatLngBounds){const r=new google.maps.LatLngBounds;r.union(e),e=r}if(this.usePanning)return void this._mapsWrapper.panToBounds(e,i);this._mapsWrapper.fitBounds(e,i)}}_isLatLngBoundsLiteral(e){return null!=e&&void 0===e.extend}_handleMapCenterChange(){const e=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(()=>{this._mapsWrapper.getCenter().then(i=>{this.latitude=i.lat(),this.longitude=i.lng(),this.centerChange.emit({lat:this.latitude,lng:this.longitude})})});this._observableSubscriptions.push(e)}_handleBoundsChange(){const e=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(()=>{this._mapsWrapper.getBounds().then(i=>{this.boundsChange.emit(i)})});this._observableSubscriptions.push(e)}_handleMapTypeIdChange(){const e=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(()=>{this._mapsWrapper.getMapTypeId().then(i=>{this.mapTypeIdChange.emit(i)})});this._observableSubscriptions.push(e)}_handleMapZoomChange(){const e=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(()=>{this._mapsWrapper.getZoom().then(i=>{this.zoom=i,this.zoomChange.emit(i)})});this._observableSubscriptions.push(e)}_handleIdleEvent(){const e=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(()=>{this.idle.emit(void 0)});this._observableSubscriptions.push(e)}_handleTilesLoadedEvent(){const e=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(()=>this.tilesLoaded.emit(void 0));this._observableSubscriptions.push(e)}_handleMapMouseEvents(){[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(i=>{const r=this._mapsWrapper.subscribeToMapEvent(i.name).subscribe(([s])=>{s.placeId&&!this.showDefaultInfoWindow&&s.stop(),i.emitter.emit(s)});this._observableSubscriptions.push(r)})}_handleControlChange(){this._setControls(),this.mapControls.changes.subscribe(()=>this._setControls())}_setControls(){const e={fullscreenControl:!this.disableDefaultUI,mapTypeControl:!1,panControl:!1,rotateControl:!1,scaleControl:!1,streetViewControl:!this.disableDefaultUI,zoomControl:!this.disableDefaultUI};this._mapsWrapper.getNativeMap().then(()=>{this.mapControls.forEach(i=>Object.assign(e,i.getOptions())),this._mapsWrapper.setMapOptions(e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(f1),o.Y36(o.Lbi),o.Y36(VA),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["agm-map"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,co,4),2&e){let s;o.iGM(s=o.CRH())&&(i.mapControls=s)}},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",fitBoundsPadding:"fitBoundsPadding",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[o._Bn([oG,IA,IA,VA,f1,uG,dG,HA,LA,hG,fG,pG]),o.TTD],ngContentSelectors:sG,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(e,i){1&e&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),n._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","styles","zoom","minZoom","maxZoom","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],n})(),Lbe=0,gG=(()=>{class n{constructor(e){this._markerManager=e,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new o.vpe,this.markerClick=new o.vpe,this.markerDblClick=new o.vpe,this.markerRightClick=new o.vpe,this.dragStart=new o.vpe,this.drag=new o.vpe,this.dragEnd=new o.vpe,this.mouseOver=new o.vpe,this.mouseOut=new o.vpe,this.infoWindow=new o.n_E,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new AL(1),this._id=(Lbe++).toString()}ngAfterContentInit(){this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(()=>this.handleInfoWindowUpdate())}handleInfoWindowUpdate(){if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(e=>{e.hostMarker=this})}ngOnChanges(e){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(e.latitude||e.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),e.title&&this._markerManager.updateTitle(this),e.label&&this._markerManager.updateLabel(this),e.draggable&&this._markerManager.updateDraggable(this),e.iconUrl&&this._markerManager.updateIcon(this),e.opacity&&this._markerManager.updateOpacity(this),e.visible&&this._markerManager.updateVisible(this),e.zIndex&&this._markerManager.updateZIndex(this),e.clickable&&this._markerManager.updateClickable(this),e.animation&&this._markerManager.updateAnimation(this)}}getFitBoundsDetails$(){return this._fitBoundsDetails$.asObservable()}_updateFitBoundsDetails(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}_addEventListeners(){const e=this._markerManager.createEventObservable("click",this).subscribe(()=>{this.openInfoWindow&&this.infoWindow.forEach(S=>S.open()),this.markerClick.emit(this)});this._observableSubscriptions.push(e);const i=this._markerManager.createEventObservable("dblclick",this).subscribe(()=>{this.markerDblClick.emit(null)});this._observableSubscriptions.push(i);const r=this._markerManager.createEventObservable("rightclick",this).subscribe(()=>{this.markerRightClick.emit(null)});this._observableSubscriptions.push(r);const s=this._markerManager.createEventObservable("dragstart",this).subscribe(S=>this.dragStart.emit(S));this._observableSubscriptions.push(s);const l=this._markerManager.createEventObservable("drag",this).subscribe(S=>this.drag.emit(S));this._observableSubscriptions.push(l);const d=this._markerManager.createEventObservable("dragend",this).subscribe(S=>this.dragEnd.emit(S));this._observableSubscriptions.push(d);const f=this._markerManager.createEventObservable("mouseover",this).subscribe(S=>this.mouseOver.emit(S));this._observableSubscriptions.push(f);const v=this._markerManager.createEventObservable("mouseout",this).subscribe(S=>this.mouseOut.emit(S));this._observableSubscriptions.push(v);const b=this._markerManager.createEventObservable("animation_changed",this).subscribe(()=>{this.animationChange.emit(this.animation)});this._observableSubscriptions.push(b)}id(){return this._id}toString(){return"AgmMarker-"+this._id.toString()}ngOnDestroy(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(LA))},n.\u0275dir=o.lG2({type:n,selectors:[["agm-marker"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,NA,4),2&e){let s;o.iGM(s=o.CRH())&&(i.infoWindow=s)}},inputs:{draggable:["markerDraggable","draggable"],visible:"visible",openInfoWindow:"openInfoWindow",opacity:"opacity",zIndex:"zIndex",clickable:["markerClickable","clickable"],latitude:"latitude",longitude:"longitude",title:"title",label:"label",iconUrl:"iconUrl",animation:"animation"},outputs:{animationChange:"animationChange",markerClick:"markerClick",markerDblClick:"markerDblClick",markerRightClick:"markerRightClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut"},features:[o._Bn([{provide:kA,useExisting:(0,o.Gpc)(()=>n)}]),o.TTD]}),n})(),yG=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[...mbe,{provide:bC,useClass:gbe},{provide:lG,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Fbe=function(){return{"font-size.px":25}};function Bbe(n,t){if(1&n&&(o.TgZ(0,"div",61),o._UZ(1,"fa-icon",62),o.TgZ(2,"h6"),o._uU(3),o.qZA(),o.TgZ(4,"p"),o._uU(5),o.qZA()()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.xp6(1),o.Q6J("icon",r.faBed)("ngStyle",o.DdM(4,Fbe)),o.xp6(2),o.hij("Bedroom ",i+1,""),o.xp6(2),o.Oqu(e.name)}}function Ube(n,t){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(e)}}function jbe(n,t){if(1&n&&(o.TgZ(0,"ul"),o.YNc(1,Ube,2,1,"li",63),o.qZA()),2&n){const e=t.index;o.xp6(1),o.Q6J("ngIf",e<5)}}function Gbe(n,t){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(e)}}function qbe(n,t){if(1&n&&(o.TgZ(0,"ul"),o.YNc(1,Gbe,2,1,"li",63),o.qZA()),2&n){const e=t.index;o.xp6(1),o.Q6J("ngIf",e>=5&&e<10)}}const $be=function(n,t,e,i,r,s,l,d,f,v,b,S,I){return{price:n,night:t,total:e,img:i,name:r,type:s,star:l,inMonth:d,inDay:f,outMonth:v,outDay:b,guests:S,id:I}};let Wbe=(()=>{class n{constructor(e,i,r){this.activatedRoute=e,this.http=i,this.map=r,this.date=new yr(new Date),this.serializedDate=new yr((new Date).toISOString()),this.both=new yr(new Date),this.inDay=0,this.inMonth=0,this.inYear=0,this.outDay=0,this.outMonth=0,this.outYear=0,this.oneNightPrice=1,this.daysCount=1,this.totalPrice=1,this.checkInMonthString="",this.checkOutMonthString="",this.minDate=new Date,this.userCheckIn="",this.userCheckOut="",this.faStar=Rx,this.faHeart=zP,this.faFile=BR,this.faBed=PR,this.faBedPulse=Fx,this.faChainBroken=JF,this.hotelId="",this.iconArray=[],this.singleHotel=[],this.userScroll=0,this.userScrollMax=0,this.lat=0,this.long=0,this.zoom=12}ngOnInit(){this.hotelId=this.activatedRoute.snapshot.params.id,this.getOne(this.hotelId),this.checkInTop(),this.checkOutBottom()}checkIn(e){this.date.setValue(e)}checkOut(e){this.serializedDate.setValue(e)}checkInTop(){this.leftBottomSubscription=this.date.valueChanges.subscribe(e=>{for(;isNaN(this.differenceInDays)||this.differenceInDays<0;)this.differenceInDays=0,this.totalPrice=0;this.userCheckIn=e,this.inDay=e.getDate(),this.inMonth=e.getMonth(),this.inYear=e.getFullYear(),this.checkInMonth=new Date(this.inYear,this.inMonth,this.inDay),this.differenceInTime=this.checkOutMonth-this.checkInMonth,this.differenceInDays=this.differenceInTime/864e5,this.totalPrice=this.oneNightPrice*this.differenceInDays,this.checkOutMinDate=new Date(this.inYear,this.inMonth,this.inDay+1);const i=new Date;i.setMonth(this.inMonth),this.checkInMonthString=i.toLocaleString("en-US",{month:"long"}),console.log(this.inDay,this.inMonth,this.inYear)})}checkOutBottom(){this.rightBottomSubscription=this.serializedDate.valueChanges.subscribe(e=>{for(;isNaN(this.differenceInDays)||this.differenceInDays<0;)this.differenceInDays=0,this.totalPrice=0;this.userCheckOut=e,this.outDay=e.getDate(),this.outMonth=e.getMonth(),this.outYear=e.getFullYear(),this.checkOutMonth=new Date(this.outYear,this.outMonth,this.outDay),this.differenceInTime=this.checkOutMonth-this.checkInMonth,this.differenceInDays=this.differenceInTime/864e5,this.totalPrice=this.oneNightPrice*this.differenceInDays;const i=new Date;i.setMonth(this.outMonth),this.checkOutMonthString=i.toLocaleString("en-US",{month:"long"}),console.log(this.outDay,this.outMonth,this.outYear)})}getOne(e){this.http.getOne(e).subscribe(i=>{this.singleHotel=i,this.map.location.next(i),this.oneNightPrice=this.singleHotel.rooms[0].price,this.totalPrice=this.oneNightPrice,this.singleHotel=i,this.lat=this.singleHotel.latitude,this.long=this.singleHotel.longitude,console.log(this.lat),console.log(this.long)})}onWindowScroll(){let e=document.documentElement.scrollTop,i=document.documentElement.scrollHeight;this.userScroll=e>i/6.5||e>i/1.6?e:0}ngOnDestroy(){this.leftBottomSubscription.unsubscribe(),this.rightBottomSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qr),o.Y36(fc),o.Y36(BB))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-details"]],hostBindings:function(e,i){1&e&&o.NdJ("scroll",function(s){return i.onWindowScroll(s)},!1,o.Jf7)},decls:181,vars:68,consts:[[1,"container","intro"],[1,"hotel-desc"],[3,"icon"],[1,"image-area"],[1,"left"],["alt","",3,"src"],[1,"right"],[1,"container"],[1,"test"],[1,"hotel-info"],[1,"hotel-circle-img"],["src","https://a0.muscache.com/im/pictures/user/a6ccc650-1184-4401-8f29-4a7aabfc140b.jpg?im_w=240","alt",""],[1,"hotel-details"],[1,"icon-area"],[1,"hotel-est"],[1,"protection"],["src","https://a0.muscache.com/im/pictures/54e427bb-9cb7-4a81-94cf-78f19156faad.jpg","alt",""],[1,"description"],[1,"sleep-opt"],["class","bed-rooms",4,"ngFor","ngForOf"],[1,"place-offers"],[1,"list-box"],[4,"ngFor","ngForOf"],[1,"btn-area"],[1,"calendar"],[1,"calendar-box"],[1,"left-calendar"],[1,"demo-inline-calendar-card"],[3,"minDate","selected","selectedChange"],[1,"right-calendar"],[1,"long-hr"],[1,"map-container"],[3,"latitude","longitude","zoom"],[3,"latitude","longitude"],["infoWindow",""],[1,"host-box"],[1,"host-info"],[1,"host-img"],["src","https://a0.muscache.com/im/pictures/user/982b7cdd-0809-43cb-acb0-68698a290577.jpg?aki_policy=profile_large","alt",""],[1,"host-by"],[1,"host-btn"],[3,"routerLink"],[1,"protect"],[1,"reserve-area",3,"ngClass"],[1,"hotel-detal"],[1,"price"],[1,"rev"],[1,"check-in"],["appearance","fill"],["matInput","",3,"min","matDatepicker","formControl"],["matIconSuffix","",3,"for"],["picker1",""],[1,"check-out"],["picker2",""],[1,"availability"],["routerLink","/ordered",3,"queryParams"],[1,"price-box"],[1,"night"],[1,"total"],[1,"total-title"],[1,"total-price"],[1,"bed-rooms"],[3,"icon","ngStyle"],[4,"ngIf"]],template:function(e,i){if(1&e&&(o.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"h4"),o._uU(4),o.qZA(),o._UZ(5,"fa-icon",2),o.TgZ(6,"span"),o._uU(7),o.qZA(),o.TgZ(8,"span"),o._uU(9,"\xb7"),o.qZA(),o.TgZ(10,"span"),o._uU(11,"5 reviews "),o.qZA(),o.TgZ(12,"span"),o._uU(13,"\xb7"),o.qZA(),o.TgZ(14,"span"),o._uU(15),o.qZA()(),o.TgZ(16,"div",3)(17,"aside",4),o._UZ(18,"img",5),o.qZA(),o.TgZ(19,"aside",6),o._UZ(20,"img",5)(21,"img",5)(22,"img",5)(23,"img",5),o.qZA()()(),o.TgZ(24,"section")(25,"div",7)(26,"div",8)(27,"div",9)(28,"h6"),o._uU(29),o.qZA(),o.TgZ(30,"span"),o._uU(31),o.qZA(),o.TgZ(32,"span"),o._uU(33,"\xb7"),o.qZA(),o.TgZ(34,"span"),o._uU(35,"1 bedroom"),o.qZA(),o.TgZ(36,"span"),o._uU(37,"\xb7"),o.qZA(),o.TgZ(38,"span"),o._uU(39),o.qZA(),o.TgZ(40,"span"),o._uU(41,"\xb7"),o.qZA(),o.TgZ(42,"span"),o._uU(43),o.qZA()(),o.TgZ(44,"div",10),o._UZ(45,"img",11),o.qZA()(),o._UZ(46,"hr"),o.TgZ(47,"div",12)(48,"div",13),o._UZ(49,"fa-icon",2)(50,"fa-icon",2)(51,"fa-icon",2),o.qZA(),o.TgZ(52,"div",14)(53,"h6"),o._uU(54,"Experienced host"),o.qZA(),o.TgZ(55,"p"),o._uU(56,"Gaspard has 117 reviews for other places."),o.qZA(),o.TgZ(57,"h6"),o._uU(58,"Highly rated Host"),o.qZA(),o.TgZ(59,"p"),o._uU(60,"Gaspard has received 5-star ratings from 90% of recent guests."),o.qZA(),o.TgZ(61,"h6"),o._uU(62,"Free cancellation for 48 hours."),o.qZA()()(),o._UZ(63,"hr"),o.TgZ(64,"div",15),o._UZ(65,"img",16),o.TgZ(66,"p"),o._uU(67,"Every booking includes free protection from Host cancellations, listing inaccuracies, and other issues like trouble checking in."),o.qZA(),o.TgZ(68,"span"),o._uU(69,"Learn more"),o.qZA()(),o._UZ(70,"hr"),o.TgZ(71,"div",17)(72,"p"),o._uU(73),o.qZA()(),o._UZ(74,"hr"),o.TgZ(75,"div",18)(76,"h4"),o._uU(77,"Where you'll sleep"),o.qZA(),o.TgZ(78,"aside"),o.YNc(79,Bbe,6,5,"div",19),o.qZA()(),o._UZ(80,"hr"),o.TgZ(81,"div",20)(82,"h4"),o._uU(83,"What this place offers"),o.qZA(),o.TgZ(84,"div",21)(85,"aside",4),o.YNc(86,jbe,2,1,"ul",22),o.qZA(),o.TgZ(87,"aside",6),o.YNc(88,qbe,2,1,"ul",22),o.qZA()(),o.TgZ(89,"div",23)(90,"button"),o._uU(91,"show al 24 amenities"),o.qZA()()(),o._UZ(92,"hr"),o.TgZ(93,"div",24)(94,"h4"),o._uU(95,"Select checkout date"),o.qZA(),o.TgZ(96,"p"),o._uU(97,"Add your travel dates for exact pricing"),o.qZA(),o.TgZ(98,"div",25)(99,"aside",26)(100,"mat-card",27)(101,"span"),o._uU(102,"Check In"),o.qZA(),o.TgZ(103,"mat-calendar",28),o.NdJ("selectedChange",function(s){return i.checkIn(s)})("selectedChange",function(s){return i.userCheckIn=s}),o.qZA()()(),o.TgZ(104,"aside",29)(105,"mat-card",27)(106,"span"),o._uU(107,"Check Out"),o.qZA(),o.TgZ(108,"mat-calendar",28),o.NdJ("selectedChange",function(s){return i.checkOut(s)})("selectedChange",function(s){return i.userCheckOut=s}),o.qZA()()()()(),o._UZ(109,"hr",30),o.TgZ(110,"div",31)(111,"h4"),o._uU(112,"Where you\u2019ll be"),o.qZA(),o.TgZ(113,"agm-map",32)(114,"agm-marker",33),o._UZ(115,"agm-info-window",null,34),o.qZA()()(),o._UZ(117,"hr",30),o.TgZ(118,"div",35)(119,"div",36)(120,"div",37),o._UZ(121,"img",38),o.qZA(),o.TgZ(122,"div",39)(123,"h1"),o._uU(124),o.qZA(),o.TgZ(125,"p"),o._uU(126),o.qZA(),o.TgZ(127,"p"),o._uU(128),o.qZA()()(),o.TgZ(129,"div",40)(130,"button",41),o._uU(131,"Contact Host"),o.qZA()(),o.TgZ(132,"div",42)(133,"p"),o._uU(134,"To protect your payment, never transfer money or communicate outside of the Airbnb website or app."),o.qZA()()(),o._UZ(135,"hr"),o.qZA()()(),o.TgZ(136,"div",43)(137,"div",44)(138,"div",45)(139,"h4"),o._uU(140),o.TgZ(141,"span"),o._uU(142,"night"),o.qZA()()(),o.TgZ(143,"div",46)(144,"span"),o._uU(145,"5.0 \xb7 5 reviews "),o.qZA()()(),o.TgZ(146,"aside")(147,"div",47)(148,"mat-form-field",48)(149,"mat-label"),o._uU(150,"Check In"),o.qZA(),o._UZ(151,"input",49)(152,"mat-datepicker-toggle",50)(153,"mat-datepicker",null,51),o.qZA()(),o.TgZ(155,"div",52)(156,"mat-form-field",48)(157,"mat-label"),o._uU(158,"Check Out"),o.qZA(),o._UZ(159,"input",49)(160,"mat-datepicker-toggle",50)(161,"mat-datepicker",null,53),o.qZA()()(),o.TgZ(163,"div",54)(164,"button",55),o._uU(165,"Reserve"),o.qZA()(),o.TgZ(166,"div",56)(167,"div",57)(168,"p"),o._uU(169),o.qZA()(),o.TgZ(170,"div",45)(171,"p"),o._uU(172),o.qZA()()(),o._UZ(173,"hr"),o.TgZ(174,"div",58)(175,"div",59)(176,"h3"),o._uU(177,"Total before taxes"),o.qZA()(),o.TgZ(178,"div",60)(179,"h3"),o._uU(180),o.qZA()()()()),2&e){const r=o.MAs(154),s=o.MAs(162);o.xp6(4),o.Oqu(i.singleHotel.name),o.xp6(1),o.Q6J("icon",i.faStar),o.xp6(2),o.hij("",i.singleHotel.starCount,".0"),o.xp6(8),o.AsE(" ",i.singleHotel.city," ",i.singleHotel.country,""),o.xp6(3),o.Q6J("src",i.singleHotel.rooms[0].images[0],o.LSH),o.xp6(2),o.Q6J("src",i.singleHotel.rooms[0].images[1],o.LSH),o.xp6(1),o.Q6J("src",i.singleHotel.rooms[0].images[5],o.LSH),o.xp6(1),o.Q6J("src",i.singleHotel.rooms[0].images[3],o.LSH),o.xp6(1),o.Q6J("src",i.singleHotel.rooms[0].images[4],o.LSH),o.xp6(6),o.Oqu(i.singleHotel.hostInformation.hostName),o.xp6(2),o.hij("",i.singleHotel.rooms[0].personsCount," guests "),o.xp6(8),o.hij("",i.singleHotel.rooms[0].bedsCount," bed"),o.xp6(4),o.hij("",i.singleHotel.rooms[0].bathRoomsCount," bath"),o.xp6(6),o.Q6J("icon",i.faStar),o.xp6(1),o.Q6J("icon",i.faHeart),o.xp6(1),o.Q6J("icon",i.faFile),o.xp6(22),o.Oqu(i.singleHotel.description),o.xp6(6),o.Q6J("ngForOf",i.singleHotel.rooms),o.xp6(7),o.Q6J("ngForOf",i.singleHotel.placeOffers),o.xp6(2),o.Q6J("ngForOf",i.singleHotel.placeOffers),o.xp6(15),o.Q6J("minDate",i.minDate)("selected",i.userCheckIn),o.xp6(5),o.Q6J("minDate",i.checkOutMinDate)("selected",i.userCheckOut),o.xp6(5),o.Q6J("latitude",i.lat)("longitude",i.long)("zoom",i.zoom),o.xp6(1),o.Q6J("latitude",i.lat)("longitude",i.long),o.xp6(10),o.Oqu(i.singleHotel.hostInformation.hostName),o.xp6(2),o.Oqu(i.singleHotel.hostInformation.emailAddress),o.xp6(2),o.Oqu(i.singleHotel.hostInformation.phoneNumber),o.xp6(2),o.pbR("routerLink","/host-pg/",i.inDay,":",i.inMonth,":",i.inYear,"/",i.outDay,":",i.outMonth,":",i.outYear,""),o.xp6(6),o.Q6J("ngClass",i.userScroll>0?"fixed":"not-fixed"),o.xp6(4),o.hij("$",i.singleHotel.rooms[0].price," "),o.xp6(11),o.Q6J("min",i.minDate)("matDatepicker",r)("formControl",i.date),o.xp6(1),o.Q6J("for",r),o.xp6(7),o.Q6J("min",i.checkOutMinDate)("matDatepicker",s)("formControl",i.serializedDate),o.xp6(1),o.Q6J("for",s),o.xp6(4),o.Q6J("queryParams",o.rFY(54,$be,[i.singleHotel.rooms[0].price,i.differenceInDays,i.totalPrice,i.singleHotel.rooms[0].images[0],i.singleHotel.name,i.singleHotel.typeOfPlace,i.singleHotel.starCount,i.checkInMonthString,i.inDay,i.checkOutMonthString,i.outDay,i.singleHotel.rooms[0].personsCount,i.singleHotel.id])),o.xp6(5),o.AsE("$",i.singleHotel.rooms[0].price," x ",i.differenceInDays," nights"),o.xp6(3),o.hij("$",i.totalPrice,""),o.xp6(8),o.hij("$",i.totalPrice,"")}},dependencies:[Za,gU,tn,Er,Gn,ol,Ya,T4,n7,mj,yC,sbe,TA,dbe,MCe,bA,ECe,NA,mG,gG],styles:[".intro[_ngcontent-%COMP%]{margin-top:120px}.hotel-desc[_ngcontent-%COMP%]{margin-bottom:30px}.hotel-desc[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:26px}.hotel-desc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px}.hotel-desc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){text-decoration:underline}.hotel-desc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5):hover{cursor:pointer}.hotel-desc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){text-decoration:underline}.hotel-desc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7):hover{cursor:pointer}.image-area[_ngcontent-%COMP%]{display:flex}img[_ngcontent-%COMP%]{object-fit:cover}img[_ngcontent-%COMP%]:hover{filter:contrast(70%);transition:.4s;cursor:pointer}.left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:480px;width:560px;border-top-left-radius:15px;border-bottom-left-radius:15px}.right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:235px;width:280px;margin-left:10px}.right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(3){margin-top:10px}.right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(4){margin-top:10px;border-bottom-right-radius:15px}.right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2){border-top-right-radius:15px}.test[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end;width:650px}.hotel-circle-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:56px;height:56px}section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:50%}section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   agm-map[_ngcontent-%COMP%]{height:500px;width:52%}section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .hotel-info[_ngcontent-%COMP%]{margin-top:50px}section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .hotel-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:22px;font-weight:lighter}section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .hotel-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px;font-size:16px;color:#323232}section[_ngcontent-%COMP%]   .hotel-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:start;width:460px}section[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:38px;font-size:25px;justify-content:center}section[_ngcontent-%COMP%]   .hotel-est[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}section[_ngcontent-%COMP%]   .hotel-est[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:16px;margin:0}section[_ngcontent-%COMP%]   .hotel-est[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.protection[_ngcontent-%COMP%]{margin:35px 0;width:650px}.protection[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:126px}.protection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0}.protection[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}.protection[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}.hotel-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(odd){margin-right:5px}.description[_ngcontent-%COMP%]{width:650px}.bed-rooms[_ngcontent-%COMP%]{border:1px solid rgba(159,159,159,.319);width:200px;height:150px;border-radius:10px}.bed-rooms[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.bed-rooms[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .bed-rooms[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .bed-rooms[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding-left:25px}.bed-rooms[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{padding-top:20px}.sleep-opt[_ngcontent-%COMP%]{width:650px;margin-top:50px}.sleep-opt[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{margin:50px 0;display:flex;flex-wrap:wrap;gap:25px}.place-offers[_ngcontent-%COMP%]{margin-top:50px}.place-offers[_ngcontent-%COMP%]   .list-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;width:600px;gap:150px}li[_ngcontent-%COMP%]{list-style-type:none}.btn-area[_ngcontent-%COMP%]{margin:35px 0}.btn-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:9px 22px;border-radius:6px;border:1px solid rgba(0,0,0,.547);background-color:#fff;transition:.2s}.btn-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#fdf6ee37;transition:.2s}mat-form-field[_ngcontent-%COMP%]{margin-right:12px}.not-fixed[_ngcontent-%COMP%]{position:absolute;top:75%;right:24%}.fixed[_ngcontent-%COMP%]{position:fixed;top:120px;right:24%}.not-fixed-bottom[_ngcontent-%COMP%]{position:absolute;top:2000px;right:24%}.reserve-area[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(142,142,142,.55);border-radius:15px;padding:20px;width:450px;box-shadow:0 0 15px 3px #ccc;z-index:999}.reserve-area[_ngcontent-%COMP%]   .hotel-detal[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:300px}.reserve-area[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{display:flex}.reserve-area[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 0;width:100%;background-color:#fe375b;border:none;border-radius:8px;color:#fff;letter-spacing:2px}ul[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px!important;height:24px!important}.demo-inline-calendar-card[_ngcontent-%COMP%]{width:340px!important;box-shadow:none;padding:0}.calendar[_ngcontent-%COMP%]{margin-top:50px}.calendar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px;margin:0}.calendar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:8px;color:#3636369a}.calendar-box[_ngcontent-%COMP%]{display:flex}.host-box[_ngcontent-%COMP%]{margin-top:50px}.host-box[_ngcontent-%COMP%]   .host-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px}.host-box[_ngcontent-%COMP%]   .host-info[_ngcontent-%COMP%]   .host-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%}.host-box[_ngcontent-%COMP%]   .host-btn[_ngcontent-%COMP%]{margin:20px 0}.host-box[_ngcontent-%COMP%]   .host-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 50px;border-radius:10px;border:1px solid rgba(0,0,0,.547);transition:.2s;background-color:#fff}.host-box[_ngcontent-%COMP%]   .host-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#fdf6ee37;transition:.2s}.price-box[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{margin-top:25px;display:flex;justify-content:space-between}.price-box[_ngcontent-%COMP%]   .night[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]   .night[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-decoration:underline}.price-box[_ngcontent-%COMP%]   .night[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover, .total[_ngcontent-%COMP%]   .night[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer}.price-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.price-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700}.price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:lighter}.total-price[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{display:none}.total-price[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]{display:block}mat-card[_ngcontent-%COMP%]{margin-top:30px}mat-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:130px;color:#fe375b;font-size:14px}.protect[_ngcontent-%COMP%]{width:300px}.protect[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#13131398}.map-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:40px 0;font-size:24px}.long-hr[_ngcontent-%COMP%]{margin:50px 0;width:88%!important}"]}),n})(),CG=(()=>{class n{constructor(){this.cardService=new Et.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MC=function(n){return{active:n}};function Zbe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1)(1,"mat-card",2)(2,"div",3)(3,"div",4),o._UZ(4,"button",5)(5,"button",6)(6,"button",7)(7,"button",8),o.qZA(),o.TgZ(8,"div",9)(9,"div",10),o._UZ(10,"img",11),o.qZA(),o.TgZ(11,"div",10),o._UZ(12,"img",11),o.qZA(),o.TgZ(13,"div",10),o._UZ(14,"img",11),o.qZA(),o.TgZ(15,"div",10),o._UZ(16,"img",11),o.qZA()(),o.TgZ(17,"button",12),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.prev(s))}),o.TgZ(18,"span",13)(19,"span",14),o._UZ(20,"img",15),o.qZA()(),o.TgZ(21,"span",16),o._uU(22,"Previous"),o.qZA()(),o.TgZ(23,"button",17),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.next(s))}),o.TgZ(24,"span",13)(25,"span",18),o._UZ(26,"img",15),o.qZA()(),o.TgZ(27,"span",16),o._uU(28,"Next"),o.qZA()()(),o.TgZ(29,"mat-card-content",19)(30,"h6"),o._uU(31),o.qZA(),o.TgZ(32,"p")(33,"span"),o._uU(34),o.qZA(),o._uU(35," Night"),o.qZA()()()()}if(2&n){const e=t.$implicit;o.xp6(8),o.hYB("routerLink","./details/",e.name,"/",e.id,""),o.xp6(1),o.Q6J("ngClass",o.VKq(13,MC,e.mainImages[0].isActive)),o.xp6(1),o.Q6J("src",e.mainImages[0].src,o.LSH),o.xp6(1),o.Q6J("ngClass",o.VKq(15,MC,e.mainImages[1].isActive)),o.xp6(1),o.Q6J("src",e.mainImages[1].src,o.LSH),o.xp6(1),o.Q6J("ngClass",o.VKq(17,MC,e.mainImages[2].isActive)),o.xp6(1),o.Q6J("src",e.mainImages[2].src,o.LSH),o.xp6(1),o.Q6J("ngClass",o.VKq(19,MC,e.mainImages[3].isActive)),o.xp6(1),o.Q6J("src",e.mainImages[3].src,o.LSH),o.xp6(15),o.AsE(" ",e.city,", ",e.country," "),o.xp6(3),o.hij("$",e.rooms[0].price," ")}}let Ybe=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.http=i,this.mapService=r,this.mainService=s,this.cardService=l,this.hotelsArray=[],this.http.getAllHotels().subscribe(d=>{this.hotelsArray=d,console.log(this.hotelsArray),this.mapMainImages(this.hotelsArray)})}mapMainImages(e){this.hotelsArray.forEach(i=>{i.mainImages=i.mainImages.map((r,s)=>({src:r,isActive:0==s}))})}ngOnInit(){this.cardFilter=this.mainService.cardFilter.subscribe(e=>{this.hotelsArray=e,this.mapMainImages(this.hotelsArray)}),this.cardService.cardService.subscribe(e=>{this.hotelsArray=e,this.mapMainImages(this.hotelsArray),console.log(e)})}prev(e){var i=e.mainImages.findIndex(r=>1==r.isActive);e.mainImages[i].isActive=!1,0==i?e.mainImages[3].isActive=!0:e.mainImages[i-1].isActive=!0}next(e){var i=e.mainImages.findIndex(r=>r.isActive);e.mainImages[i].isActive=!1,3==i?e.mainImages[0].isActive=!0:e.mainImages[i+1].isActive=!0}ngOnDestroy(){this.cardFilter.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ei),o.Y36(fc),o.Y36(BB),o.Y36(oh),o.Y36(CG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-card"]],decls:1,vars:1,consts:[["class","test",4,"ngFor","ngForOf"],[1,"test"],[1,"example-card"],["id","carouselExampleIndicators","data-bs-ride","false",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active","button"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2",1,"button"],["type","input","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","2","aria-label","Slide 3",1,"button"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","3","aria-label","Slide 4",1,"button"],[1,"carousel-inner",3,"routerLink"],[1,"carousel-item",3,"ngClass"],["alt","...",1,"d-block","w-100",3,"src"],["type","button","data-bs-target","#carouselExampleIndicators",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,""],[1,"wrapper"],["src","/assets/images/arrow.png","alt","",1,"img"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators",1,"carousel-control-next","nextA",3,"click"],[1,"wrapper","rightA"],[1,"cardText"]],template:function(e,i){1&e&&o.YNc(0,Zbe,36,21,"div",0),2&e&&o.Q6J("ngForOf",i.hotelsArray)},dependencies:[Za,gU,g_e,tn,Er],styles:["[_nghost-%COMP%]{padding:0 80px;display:flex;justify-content:space-between;flex-wrap:wrap;margin-top:142px;font-family:Montserrat}.example-card[_ngcontent-%COMP%]{max-width:270px;border-radius:12px;margin-top:40px;box-shadow:none;cursor:pointer}.button[_ngcontent-%COMP%]{width:5px;height:5px;border-radius:50%}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{border-radius:50%;opacity:1;background:#fff;width:28px;height:28px;position:absolute;top:50%;left:10px;transition:ease-in-out .2s}.carousel-control-prev[_ngcontent-%COMP%]:hover{transform:scale(1.04)}.wrapper[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;display:block;border:.5px solid rgba(0,0,0,.3019607843);display:flex;justify-content:center;align-items:center}.img[_ngcontent-%COMP%]{width:10px;height:10px}.rightA[_ngcontent-%COMP%]{transform:rotate(180deg)}.nextA[_ngcontent-%COMP%]{left:calc(100% - 39px)}.nextA[_ngcontent-%COMP%]:hover{transform:scale(1.04)}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:15px}img[_ngcontent-%COMP%]{height:260px;object-fit:cover}.carousel[_ngcontent-%COMP%]{margin:-16px!important;margin-left:-16px}.carousel-inner[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:16px}.mat-card-content[_ngcontent-%COMP%]{margin-top:27px;margin-left:-17px}.cardText[_ngcontent-%COMP%]{margin-top:27px}"]}),n})();const Qbe=(n,t)=>(n.push(t),n);function bG(n,t){return t?e=>Ks(t.pipe(nn(1),function Jbe(){return(0,Nn.e)((n,t)=>{n.subscribe((0,En.x)(t,Wy.Z))})}()),e.pipe(bG(n))):(0,E.z)((e,i)=>n(e,i).pipe(nn(1),aa(e)))}function tMe(n,t){}const nMe=function(n,t){return{$implicit:n,index:t}};function iMe(n,t){if(1&n&&o.YNc(0,tMe,0,0,"ng-template",4),2&n){const e=o.oxw(),i=e.$implicit,r=e.index,s=o.oxw();o.Q6J("ngTemplateOutlet",i.tplRef)("ngTemplateOutletContext",o.WLB(2,nMe,s.preparePublicSlide(i),r))}}const rMe=function(n,t,e,i){return{width:n,"margin-left":t,"margin-right":e,left:i}};function sMe(n,t){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",2),o.NdJ("animationend",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.clear(s.id))}),o.YNc(2,iMe,1,5,null,3),o.qZA(),o.BQk()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngClass",e.classes)("ngStyle",o.l5B(4,rMe,e.width+"px",e.marginL?e.marginL+"px":"",e.marginR?e.marginR+"px":"",e.left))("@autoHeight",e.heightState),o.xp6(1),o.Q6J("ngIf",e.load)}}const oMe=function(n,t,e,i,r){return{width:n,transform:t,transition:e,"padding-left":i,"padding-right":r}},aMe=function(n,t){return{isMouseDragable:n,isTouchDragable:t}};function cMe(n,t){if(1&n&&(o.TgZ(0,"div",4),o._UZ(1,"owl-stage",5),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("owlDraggable",o.WLB(3,aMe,null==e.owlDOMData?null:e.owlDOMData.isMouseDragable,null==e.owlDOMData?null:e.owlDOMData.isTouchDragable))("stageData",e.stageData)("slidesData",e.slidesData)}}const lMe=function(n,t){return{active:n,"owl-dot-text":t}};function uMe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",11),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.moveByDot(s.id))}),o._UZ(1,"span",12),o.qZA()}if(2&n){const e=t.$implicit;o.Q6J("ngClass",o.WLB(2,lMe,e.active,e.showInnerContent)),o.xp6(1),o.Q6J("innerHTML",e.innerContent,o.oJD)}}const wC=function(n){return{disabled:n}};function dMe(n,t){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",6)(2,"div",7),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.prev())}),o.qZA(),o.TgZ(3,"div",8),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.next())}),o.qZA()(),o.TgZ(4,"div",9),o.YNc(5,uMe,2,5,"div",10),o.qZA(),o.BQk()}if(2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngClass",o.VKq(7,wC,null==e.navData?null:e.navData.disabled)),o.xp6(1),o.Q6J("ngClass",o.VKq(9,wC,null==e.navData||null==e.navData.prev?null:e.navData.prev.disabled))("innerHTML",null==e.navData||null==e.navData.prev?null:e.navData.prev.htmlText,o.oJD),o.xp6(1),o.Q6J("ngClass",o.VKq(11,wC,null==e.navData||null==e.navData.next?null:e.navData.next.disabled))("innerHTML",null==e.navData||null==e.navData.next?null:e.navData.next.htmlText,o.oJD),o.xp6(1),o.Q6J("ngClass",o.VKq(13,wC,null==e.dotsData?null:e.dotsData.disabled)),o.xp6(1),o.Q6J("ngForOf",null==e.dotsData?null:e.dotsData.dots)}}const hMe=function(n,t,e,i,r){return{"owl-rtl":n,"owl-loaded":t,"owl-responsive":e,"owl-drag":i,"owl-grab":r}};class fMe{constructor(){this.items=3,this.skip_validateItems=!1,this.loop=!1,this.center=!1,this.rewind=!1,this.mouseDrag=!0,this.touchDrag=!0,this.pullDrag=!0,this.freeDrag=!1,this.margin=0,this.stagePadding=0,this.merge=!1,this.mergeFit=!0,this.autoWidth=!1,this.startPosition=0,this.rtl=!1,this.smartSpeed=250,this.fluidSpeed=!1,this.dragEndSpeed=!1,this.responsive={},this.responsiveRefreshRate=200,this.nav=!1,this.navText=["prev","next"],this.navSpeed=!1,this.slideBy=1,this.dots=!0,this.dotsEach=!1,this.dotsData=!1,this.dotsSpeed=!1,this.autoplay=!1,this.autoplayTimeout=5e3,this.autoplayHoverPause=!1,this.autoplaySpeed=!1,this.autoplayMouseleaveTimeout=1,this.lazyLoad=!1,this.lazyLoadEager=0,this.slideTransition="",this.animateOut=!1,this.animateIn=!1,this.autoHeight=!1,this.URLhashListener=!1}}class pMe{constructor(){this.items="number",this.skip_validateItems="boolean",this.loop="boolean",this.center="boolean",this.rewind="boolean",this.mouseDrag="boolean",this.touchDrag="boolean",this.pullDrag="boolean",this.freeDrag="boolean",this.margin="number",this.stagePadding="number",this.merge="boolean",this.mergeFit="boolean",this.autoWidth="boolean",this.startPosition="number|string",this.rtl="boolean",this.smartSpeed="number",this.fluidSpeed="boolean",this.dragEndSpeed="number|boolean",this.responsive={},this.responsiveRefreshRate="number",this.nav="boolean",this.navText="string[]",this.navSpeed="number|boolean",this.slideBy="number|string",this.dots="boolean",this.dotsEach="number|boolean",this.dotsData="boolean",this.dotsSpeed="number|boolean",this.autoplay="boolean",this.autoplayTimeout="number",this.autoplayHoverPause="boolean",this.autoplaySpeed="number|boolean",this.autoplayMouseleaveTimeout="number",this.lazyLoad="boolean",this.lazyLoadEager="number",this.slideTransition="string",this.animateOut="string|boolean",this.animateIn="string|boolean",this.autoHeight="boolean",this.URLhashListener="boolean"}}let PA=(()=>{class n{constructor(e){this.errorHandler=e}log(e,...i){(0,o.X6Q)()&&console.log(e,...i)}error(e){this.errorHandler.handleError(e)}warn(e,...i){console.warn(e,...i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();var SC=(()=>(function(n){n.Event="event",n.State="state"}(SC||(SC={})),SC))(),w8=(()=>(function(n){n.Default="default",n.Inner="inner",n.Outer="outer"}(w8||(w8={})),w8))();let I3=(()=>{class n{constructor(e){this.logger=e,this._viewSettingsShipper$=new Et.x,this._initializedCarousel$=new Et.x,this._changeSettingsCarousel$=new Et.x,this._changedSettingsCarousel$=new Et.x,this._translateCarousel$=new Et.x,this._translatedCarousel$=new Et.x,this._resizeCarousel$=new Et.x,this._resizedCarousel$=new Et.x,this._refreshCarousel$=new Et.x,this._refreshedCarousel$=new Et.x,this._dragCarousel$=new Et.x,this._draggedCarousel$=new Et.x,this.settings={items:0},this.owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1},this.stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0},this._items=[],this._widths=[],this._supress={},this._plugins={},this._current=null,this._clones=[],this._mergers=[],this._speed=null,this._coordinates=[],this._breakpoint=null,this.clonedIdPrefix="cloned-",this._options={},this._invalidated={},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},this._pipe=[{filter:["width","items","settings"],run:i=>{i.current=this._items&&this._items[this.relative(this._current)].id}},{filter:["width","items","settings"],run:i=>{const r=this.settings.margin||"",l=this.settings.rtl,d={"margin-left":l?r:"","margin-right":l?"":r};!this.settings.autoWidth||this.slidesData.forEach(f=>{f.marginL=d["margin-left"],f.marginR=d["margin-right"]}),i.css=d}},{filter:["width","items","settings"],run:i=>{const r=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,s=!this.settings.autoWidth,l=[];let d=null,f=this._items.length;for(i.items={merge:!1,width:r};f-- >0;)d=this._mergers[f],d=this.settings.mergeFit&&Math.min(d,this.settings.items)||d,i.items.merge=d>1||i.items.merge,l[f]=s?r*d:this._items[f].width?this._items[f].width:r;this._widths=l,this.slidesData.forEach((v,b)=>{v.width=this._widths[b],v.marginR=i.css["margin-right"],v.marginL=i.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const i=[],r=this._items,s=this.settings,l=Math.max(2*s.items,4),d=2*Math.ceil(r.length/2);let f=[],v=[],b=s.loop&&r.length?s.rewind?l:Math.max(l,d):0;for(b/=2;b-- >0;)i.push(this.normalize(i.length/2,!0)),f.push({...this.slidesData[i[i.length-1]]}),i.push(this.normalize(r.length-1-(i.length-1)/2,!0)),v.unshift({...this.slidesData[i[i.length-1]]});this._clones=i,f=f.map(S=>(S.id=`${this.clonedIdPrefix}${S.id}`,S.isActive=!1,S.isCloned=!0,S)),v=v.map(S=>(S.id=`${this.clonedIdPrefix}${S.id}`,S.isActive=!1,S.isCloned=!0,S)),this.slidesData=v.concat(this.slidesData).concat(f)}},{filter:["width","items","settings"],run:()=>{const i=this.settings.rtl?1:-1,r=this._clones.length+this._items.length,s=[];let l=-1,d=0,f=0;for(;++l<r;)d=s[l-1]||0,f=this._widths[this.relative(l)]+this.settings.margin,s.push(d+f*i);this._coordinates=s}},{filter:["width","items","settings"],run:()=>{const i=this.settings.stagePadding,r=this._coordinates,s={width:Math.ceil(Math.abs(r[r.length-1]))+2*i,"padding-left":i||"","padding-right":i||""};this.stageData.width=s.width,this.stageData.paddingL=s["padding-left"],this.stageData.paddingR=s["padding-right"]}},{filter:["width","items","settings"],run:i=>{let r=i.current?this.slidesData.findIndex(s=>s.id===i.current):0;r=Math.max(this.minimum(),Math.min(this.maximum(),r)),this.reset(r)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const i=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,s=[];let l,d,f,v,b,S;if(l=this.coordinates(this.current()),"number"==typeof l?l+=r:l=0,d=l+this.width()*i,-1===i&&this.settings.center){const I=this._coordinates.filter(H=>this.settings.items%2==1?H>=l:H>l);l=I.length?I[I.length-1]:l}for(b=0,S=this._coordinates.length;b<S;b++)f=Math.ceil(this._coordinates[b-1]||0),v=Math.ceil(Math.abs(this._coordinates[b])+r*i),(this._op(f,"<=",l)&&this._op(f,">",d)||this._op(v,"<",l)&&this._op(v,">",d))&&s.push(b);this.slidesData.forEach(I=>(I.isActive=!1,I)),s.forEach(I=>{this.slidesData[I].isActive=!0}),this.settings.center&&(this.slidesData.forEach(I=>(I.isCentered=!1,I)),this.slidesData[this.current()].isCentered=!0)}}]}get invalidated(){return this._invalidated}get states(){return this._states}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(e){const i=new fMe,r=this._validateOptions(e,i);this._options={...i,...r}}_validateOptions(e,i){const r={...e},s=new pMe,l=(d,f)=>(this.logger.log(`options.${f} must be type of ${d}; ${f}=${e[f]} skipped to defaults: ${f}=${i[f]}`),i[f]);for(const d in r)if(r.hasOwnProperty(d))if("number"===s[d])this._isNumeric(r[d])?(r[d]=+r[d],r[d]="items"===d?this._validateItems(r[d],r.skip_validateItems):r[d]):r[d]=l(s[d],d);else if("boolean"===s[d]&&"boolean"!=typeof r[d])r[d]=l(s[d],d);else if("number|boolean"!==s[d]||this._isNumberOrBoolean(r[d]))if("number|string"!==s[d]||this._isNumberOrString(r[d]))if("string|boolean"!==s[d]||this._isStringOrBoolean(r[d])){if("string[]"===s[d])if(Array.isArray(r[d])){let f=!1;r[d].forEach(v=>{f="string"==typeof v}),f||(r[d]=l(s[d],d))}else r[d]=l(s[d],d)}else r[d]=l(s[d],d);else r[d]=l(s[d],d);else r[d]=l(s[d],d);return r}_validateItems(e,i){let r=e;return e>this._items.length?i?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(r=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):e===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),r}setCarouselWidth(e){this._width=e}setup(e,i,r){this.setCarouselWidth(e),this.setItems(i),this._defineSlidesData(),this.setOptions(r),this.settings={...this._options},this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const e=this._width,i=this._options.responsive;let r=-1;if(!Object.keys(i).length)return;if(!e)return void(this.settings.items=1);for(const l in i)i.hasOwnProperty(l)&&+l<=e&&+l>r&&(r=Number(l));this.settings={...this._options,...i[r],items:i[r]&&i[r].items?this._validateItems(i[r].items,this._options.skip_validateItems):this._options.items},delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const s=[];this._items.forEach(l=>{s.push(this.settings.merge?l.dataMerge:1)}),this._mergers=s,this._breakpoint=r,this.invalidate("settings")}initialize(e){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),e.forEach(i=>{this._mergers.push(this.settings.merge?i.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let e=0;const i=this._pipe.length,r=l=>this._invalidated[l],s={};for(;e<i;){const l=this._pipe[e].filter.filter(r);(this._invalidated.all||l.length>0)&&this._pipe[e].run(s),e++}this.slidesData.forEach(l=>l.classes=this.setCurSlideClasses(l)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(e){switch(e=e||w8.Default){case w8.Inner:case w8.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(e){if(!this._items.length)return!1;this.setCarouselWidth(e),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(e){let r,i=null;return r=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),i={x:+r[0],y:+r[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===e.type&&(this.owlDOMData.isGrab=!0),this.speed(0),i}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(e,i){let r=null,s=null,l=null;const d=this.difference(i.pointer,this.pointer(e)),f=this.difference(i.stage.start,d);return!!this.is("dragging")&&(this.settings.loop?(r=this.coordinates(this.minimum()),s=+this.coordinates(this.maximum()+1)-r,f.x=((f.x-r)%s+s)%s+r):(r=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),s=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),l=this.settings.pullDrag?-1*d.x/5:0,f.x=Math.max(Math.min(f.x,r+l),s+l)),f)}finishDragging(e,i,r){const l=this.difference(i.pointer,this.pointer(e)),d=i.stage.current,f=["right","left"][+(this.settings.rtl?l.x<+this.settings.rtl:l.x>+this.settings.rtl)];let v,b,S;(0!==l.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),v=this.closest(d.x,0!==l.x?f:i.direction),b=this.current(),S=this.current(-1===v?void 0:v),b!==S&&(this.invalidate("position"),this.update()),i.direction=f,(Math.abs(l.x)>3||(new Date).getTime()-i.time>300)&&r()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(e,i){const s=this.width();let l=this.coordinates(),d=-1;this.settings.center&&(l=l.map(f=>(0===f&&(f+=1e-6),f)));for(let f=0;f<l.length&&("left"===i&&e>l[f]-30&&e<l[f]+30?d=f:"right"===i&&e>l[f]-s-30&&e<l[f]-s+30?d=f+1:this._op(e,"<",l[f])&&this._op(e,">",l[f+1]||l[f]-s)?d="left"===i?f+1:f:null===i&&e>l[f]-30&&e<l[f]+30&&(d=f),-1===d);f++);return this.settings.loop||(this._op(e,">",l[this.minimum()])?d=e=this.minimum():this._op(e,"<",l[this.maximum()])&&(d=e=this.maximum())),d}animate(e){const i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+e+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(e){return this._states.current[e]&&this._states.current[e]>0}current(e){return void 0===e?this._current:0!==this._items.length?(e=this.normalize(e),this._current!==e&&(this._trigger("change",{property:{name:"position",value:e}}),this._current=e,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(e){return"string"==typeof e&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(e){void 0!==(e=this.normalize(e))&&(this._speed=0,this._current=e,this._suppress(["translate","translated"]),this.animate(this.coordinates(e)),this._release(["translate","translated"]))}normalize(e,i){const r=this._items.length,s=i?0:this._clones.length;return!this._isNumeric(e)||r<1?e=void 0:(e<0||e>=r+s)&&(e=((e-s/2)%r+r)%r+s/2),e}relative(e){return this.normalize(e-=this._clones.length/2,!0)}maximum(e=!1){const i=this.settings;let s,l,d,r=this._coordinates.length;if(i.loop)r=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){for(s=this._items.length,l=this.slidesData[--s].width,d=this._width;s-- >0&&(l+=+this.slidesData[s].width+this.settings.margin,!(l>d)););r=s+1}else r=i.center?this._items.length-1:this._items.length-i.items;return e&&(r-=this._clones.length/2),Math.max(r,0)}minimum(e=!1){return e?0:this._clones.length/2}items(e){return void 0===e?this._items.slice():(e=this.normalize(e,!0),[this._items[e]])}mergers(e){return void 0===e?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])}clones(e){const i=this._clones.length/2,r=i+this._items.length,s=l=>l%2==0?r+l/2:i-(l+1)/2;return void 0===e?this._clones.map((l,d)=>s(d)):this._clones.map((l,d)=>l===e?s(d):null).filter(l=>l)}speed(e){return void 0!==e&&(this._speed=e),this._speed}coordinates(e){let s,l,i=1,r=e-1;return void 0===e?(l=this._coordinates.map((d,f)=>this.coordinates(f)),l):(this.settings.center?(this.settings.rtl&&(i=-1,r=e+1),s=this._coordinates[e],s+=(this.width()-s+(this._coordinates[r]||0))/2*i):s=this._coordinates[r]||0,s=Math.ceil(s),s)}_duration(e,i,r){return 0===r?0:Math.min(Math.max(Math.abs(i-e),1),6)*Math.abs(+r||this.settings.smartSpeed)}to(e,i){let r=this.current(),s=null,l=e-this.relative(r),d=this.maximum(),f=0;const v=+(l>0)-+(l<0),b=this._items.length,S=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(l)>b/2&&(l+=-1*v*b),s=(((e=r+l)-S)%b+b)%b+S,s!==e&&s-l<=d&&s-l>0&&(r=s-l,e=s,f=30,this.reset(r),this.sendChanges())):this.settings.rewind?(d+=1,e=(e%d+d)%d):e=Math.max(S,Math.min(d,e)),setTimeout(()=>{this.speed(this._duration(r,e,i)),this.current(e),this.update()},f)}next(e){e=e||!1,this.to(this.relative(this.current())+1,e)}prev(e){e=e||!1,this.to(this.relative(this.current())-1,e)}onTransitionEnd(e){if(void 0!==e)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let e;return this._width?e=this._width:this.logger.log("Can not detect viewport width."),e}setItems(e){this._items=e}_defineSlidesData(){let e;this.slidesData&&this.slidesData.length&&(e=new Map,this.slidesData.forEach(i=>{i.load&&e.set(i.id,i.load)})),this.slidesData=this._items.map(i=>({id:`${i.id}`,isActive:!1,tplRef:i.tplRef,dataMerge:i.dataMerge,width:0,isCloned:!1,load:!!e&&e.get(i.id),hashFragment:i.dataHash}))}setCurSlideClasses(e){const i={active:e.isActive,center:e.isCentered,cloned:e.isCloned,animated:e.isAnimated,"owl-animated-in":e.isDefAnimatedIn,"owl-animated-out":e.isDefAnimatedOut};return this.settings.animateIn&&(i[this.settings.animateIn]=e.isCustomAnimatedIn),this.settings.animateOut&&(i[this.settings.animateOut]=e.isCustomAnimatedOut),i}_op(e,i,r){const s=this.settings.rtl;switch(i){case"<":return s?e>r:e<r;case">":return s?e<r:e>r;case">=":return s?e<=r:e>=r;case"<=":return s?e>=r:e<=r}}_trigger(e,i,r,s,l){switch(e){case"initialized":this._initializedCarousel$.next(e);break;case"change":this._changeSettingsCarousel$.next(i);break;case"changed":this._changedSettingsCarousel$.next(i);break;case"drag":this._dragCarousel$.next(e);break;case"dragged":this._draggedCarousel$.next(e);break;case"resize":this._resizeCarousel$.next(e);break;case"resized":this._resizedCarousel$.next(e);break;case"refresh":this._refreshCarousel$.next(e);break;case"refreshed":this._refreshedCarousel$.next(e);break;case"translate":this._translateCarousel$.next(e);break;case"translated":this._translatedCarousel$.next(e)}}enter(e){[e].concat(this._states.tags[e]||[]).forEach(i=>{void 0===this._states.current[i]&&(this._states.current[i]=0),this._states.current[i]++})}leave(e){[e].concat(this._states.tags[e]||[]).forEach(i=>{(0===this._states.current[i]||this._states.current[i])&&this._states.current[i]--})}register(e){e.type===SC.State&&(this._states.tags[e.name]=this._states.tags[e.name]?this._states.tags[e.name].concat(e.tags):e.tags,this._states.tags[e.name]=this._states.tags[e.name].filter((i,r)=>this._states.tags[e.name].indexOf(i)===r))}_suppress(e){e.forEach(i=>{this._supress[i]=!0})}_release(e){e.forEach(i=>{delete this._supress[i]})}pointer(e){const i={x:null,y:null};return(e=(e=e.originalEvent||e||window.event).touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e).pageX?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i}_isNumeric(e){return!isNaN(parseFloat(e))}_isNumberOrBoolean(e){return this._isNumeric(e)||"boolean"==typeof e}_isNumberOrString(e){return this._isNumeric(e)||"string"==typeof e}_isStringOrBoolean(e){return"string"==typeof e||"boolean"==typeof e}difference(e,i){return null===e||null===i?{x:0,y:0}:{x:e.x-i.x,y:e.y-i.y}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(PA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),MG=(()=>{class n{constructor(e){this.carouselService=e,this._initialized=!1,this._pages=[],this._navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}},this._dotsData={disabled:!1,dots:[]},this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const e=this.carouselService.getInitializedState().pipe((0,Le.b)(l=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),i=this.carouselService.getChangedState().pipe(x(l=>"position"===l.property.name),(0,Le.b)(l=>{this.update()})),r=this.carouselService.getRefreshedState().pipe((0,Le.b)(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),s=(0,es.T)(e,i,r);this.navSubscription=s.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let e,i,r;const s=this.carouselService.clones().length/2,l=s+this.carouselService.items().length,d=this.carouselService.maximum(!0),f=[],v=this.carouselService.settings;let b=v.center||v.autoWidth||v.dotsData?1:Math.floor(Number(v.dotsEach))||Math.floor(v.items);if(b=+b,"page"!==v.slideBy&&(v.slideBy=Math.min(+v.slideBy,v.items)),v.dots||"page"===v.slideBy)for(e=s,i=0,r=0;e<l;e++){if(i>=b||0===i){if(f.push({start:Math.min(d,e-s),end:e-s+b-1}),Math.min(d,e-s)===d)break;i=0,++r}i+=this.carouselService.mergers(this.carouselService.relative(e))}this._pages=f}draw(){let e;const i=this.carouselService.settings,r=this.carouselService.items(),s=r.length<=i.items;if(this._navData.disabled=!i.nav||s,this._dotsData.disabled=!i.dots||s,i.dots)if(e=this._pages.length-this._dotsData.dots.length,i.dotsData&&0!==e)this._dotsData.dots=[],r.forEach(l=>{this._dotsData.dots.push({active:!1,id:`dot-${l.id}`,innerContent:l.dotContent,showInnerContent:!0})});else if(e>0){const l=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let d=0;d<e;d++)this._dotsData.dots.push({active:!1,id:`dot-${d+l}`,innerContent:"",showInnerContent:!1})}else e<0&&this._dotsData.dots.splice(e,Math.abs(e));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const e=this.carouselService.settings,i=e.loop||e.rewind,r=this.carouselService.relative(this.carouselService.current());e.nav&&(this._navData.prev.disabled=!i&&r<=this.carouselService.minimum(!0),this._navData.next.disabled=!i&&r>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let e;!this.carouselService.settings.dots||(this._dotsData.dots.forEach(i=>{!0===i.active&&(i.active=!1)}),e=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[e].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const e=this.carouselService.relative(this.carouselService.current());let i;const r=this._pages.filter((s,l)=>s.start<=e&&s.end>=e).pop();return i=this._pages.findIndex(s=>s.start===r.start&&s.end===r.end),i}_getPosition(e){let i,r;const s=this.carouselService.settings;return"page"===s.slideBy?(i=this._current(),r=this._pages.length,e?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this.carouselService.relative(this.carouselService.current()),r=this.carouselService.items().length,e?i+=+s.slideBy:i-=+s.slideBy),i}next(e){this.carouselService.to(this._getPosition(!0),e)}prev(e){this.carouselService.to(this._getPosition(!1),e)}to(e,i,r){let s;!r&&this._pages.length?(s=this._pages.length,this.carouselService.to(this._pages[(e%s+s)%s].start,i)):this.carouselService.to(e,i)}moveByDot(e){const i=this._dotsData.dots.findIndex(r=>e===r.id);this.to(i,this.carouselService.settings.dotsSpeed)}toSlideById(e){const i=this.carouselService.slidesData.findIndex(r=>r.id===e&&!1===r.isCloned);-1===i||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(I3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const wG=new o.OlP("WindowToken");class OA{get nativeWindow(){throw new Error("Not implemented.")}}let mMe=(()=>{class n extends OA{constructor(){super()}get nativeWindow(){return window}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const vMe={provide:wG,useFactory:function gMe(n,t){return m2(t)?n.nativeWindow:{setTimeout:(i,r)=>{},clearTimeout:i=>{}}},deps:[OA,o.Lbi]},yMe=[{provide:OA,useClass:mMe},vMe],RA=new o.OlP("DocumentToken");class FA{get nativeDocument(){throw new Error("Not implemented.")}}let CMe=(()=>{class n extends FA{constructor(){super()}get nativeDocument(){return document}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const wMe={provide:RA,useFactory:function bMe(n,t){return m2(t)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[FA,o.Lbi]},SMe=[{provide:FA,useClass:CMe},wMe];let SG=(()=>{class n{constructor(e,i,r,s){this.carouselService=e,this.ngZone=s,this._timeout=null,this._paused=!1,this._isAutoplayStopped=!1,this.winRef=i,this.docRef=r,this.spyDataStreams()}get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(e){this._isAutoplayStopped=e}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const e=this.carouselService.getInitializedState().pipe((0,Le.b)(()=>{this.carouselService.settings.autoplay&&this.play()})),i=this.carouselService.getChangedState().pipe((0,Le.b)(l=>{this._handleChangeObservable(l)})),r=this.carouselService.getResizedState().pipe((0,Le.b)(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),s=(0,es.T)(e,i,r);this.autoplaySubscription=s.subscribe(()=>{})}play(e,i){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(e,i){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!e,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(i||this.carouselService.settings.autoplaySpeed)})},e||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(e){this._timeout=this._getNextTimeout(e)}stop(){!this.carouselService.is("rotating")||(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){!this.carouselService.is("rotating")||(this._paused=!0)}_handleChangeObservable(e){"settings"===e.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===e.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){nt("translated").pipe(Mn(e=>this.carouselService.getTranslatedState()),oe(),x(()=>this._isArtificialAutoplayTimeout),(0,Le.b)(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(I3),o.LFG(wG),o.LFG(RA),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),DG=(()=>{class n{constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const e=this.carouselService.getInitializedState().pipe((0,Le.b)(()=>{const l=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(d=>d.load=!!l)})),i=this.carouselService.getChangeState(),r=this.carouselService.getResizedState(),s=(0,es.T)(e,i,r).pipe((0,Le.b)(l=>this._defineLazyLoadSlides(l)));this.lazyLoadSubscription=s.subscribe(()=>{})}_defineLazyLoadSlides(e){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(e.property&&"position"===e.property.name||"initialized"===e||"resized"===e)){const i=this.carouselService.settings,r=this.carouselService.clones().length;let s=i.center&&Math.ceil(i.items/2)||i.items,l=i.center&&-1*s||0,d=(e.property&&void 0!==e.property.value?e.property.value:this.carouselService.current())+l;for(i.lazyLoadEager>0&&(s+=i.lazyLoadEager,i.loop&&(d-=i.lazyLoadEager,s++));l++<s;)this._load(r/2+this.carouselService.relative(d)),r&&this.carouselService.clones(this.carouselService.relative(d)).forEach(f=>this._load(f)),d++}}_load(e){this.carouselService.slidesData[e].load||(this.carouselService.slidesData[e].load=!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(I3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),BA=(()=>{class n{constructor(e){this.carouselService=e,this.swapping=!0,this.previous=void 0,this.next=void 0,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const e=this.carouselService.getChangeState().pipe((0,Le.b)(v=>{"position"===v.property.name&&(this.previous=this.carouselService.current(),this.next=v.property.value)})),i=this.carouselService.getDragState(),r=this.carouselService.getDraggedState(),s=this.carouselService.getTranslatedState(),l=(0,es.T)(i,r,s).pipe((0,Le.b)(v=>this.swapping="translated"===v)),d=this.carouselService.getTranslateState().pipe((0,Le.b)(v=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),f=(0,es.T)(e,d,l).pipe();this.animateSubscription=f.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let e;this.carouselService.speed(0);const i=this.carouselService.slidesData[this.previous],r=this.carouselService.slidesData[this.next],s=this.carouselService.settings.animateIn,l=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(l&&(e=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(d=>{d.id===i.id&&(d.left=`${e}px`,d.isAnimated=!0,d.isDefAnimatedOut=!0,d.isCustomAnimatedOut=!0)})),s&&this.carouselService.slidesData.forEach(d=>{d.id===r.id&&(d.isAnimated=!0,d.isDefAnimatedIn=!0,d.isCustomAnimatedIn=!0)}))}clear(e){this.carouselService.slidesData.forEach(i=>{i.id===e&&(i.left="",i.isAnimated=!1,i.isDefAnimatedOut=!1,i.isCustomAnimatedOut=!1,i.isDefAnimatedIn=!1,i.isCustomAnimatedIn=!1,i.classes=this.carouselService.setCurSlideClasses(i))}),this.carouselService.onTransitionEnd()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(I3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),xG=(()=>{class n{constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const e=this.carouselService.getInitializedState().pipe((0,Le.b)(l=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(d=>d.heightState="full")})),i=this.carouselService.getChangedState().pipe((0,Le.b)(l=>{this.carouselService.settings.autoHeight&&"position"===l.property.name&&this.update()})),r=this.carouselService.getRefreshedState().pipe((0,Le.b)(l=>{this.carouselService.settings.autoHeight&&this.update()})),s=(0,es.T)(e,i,r);this.autoHeightSubscription=s.subscribe(()=>{})}update(){const e=this.carouselService.settings.items;let i=this.carouselService.current(),r=i+e;this.carouselService.settings.center&&(i=e%2==1?i-(e-1)/2:i-e/2,r=e%2==1?i+e:i+e+1),this.carouselService.slidesData.forEach((s,l)=>{s.heightState=l>=i&&l<r?"full":"nulled"})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(I3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),EG=(()=>{class n{constructor(e,i,r){this.carouselService=e,this.route=i,this.router=r,this.spyDataStreams(),this.route||(this.route={fragment:nt("no route").pipe(nn(1))}),this.router||(this.router={navigate:(s,l)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const e=this.carouselService.getInitializedState().pipe((0,Le.b)(()=>this.listenToRoute())),i=this.carouselService.getChangedState().pipe((0,Le.b)(s=>{if(this.carouselService.settings.URLhashListener&&"position"===s.property.name){const l=this.carouselService.current(),d=this.carouselService.slidesData[l].hashFragment;if(!d||d===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:d,relativeTo:this.route})}})),r=(0,es.T)(e,i);this.hashSubscription=r.subscribe(()=>{})}rewind(e){const i=this.carouselService.slidesData.findIndex(r=>r.hashFragment===e&&!1===r.isCloned);-1===i||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}listenToRoute(){this.route.fragment.pipe($y("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(i=>{this.currentHashFragment=i,this.rewind(i)})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(I3),o.LFG(qr,8),o.LFG(ei,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),DMe=0,AG=(()=>{class n{constructor(e){this.tplRef=e,this.id="owl-slide-"+DMe++,this._dataMerge=1,this.width=0,this.dotContent="",this.dataHash=""}set dataMerge(e){this._dataMerge=this.isNumeric(e)?e:1}get dataMerge(){return this._dataMerge}isNumeric(e){return!isNaN(parseFloat(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"}}),n})(),TG=(()=>{class n{constructor(e){this.eventManager=e,this.resizeSubject=new Et.x,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(e){this.resizeSubject.next(e.target)}onLoaded(e){this.windowWidth=e.target}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Sl))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),xMe=(()=>{class n{constructor(e,i,r,s,l){this.zone=e,this.el=i,this.renderer=r,this.carouselService=s,this.animateService=l,this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this._oneDragMove$=new Et.x,this.preparePublicSlide=d=>{const f={...d};return delete f.tplRef,f},this.bindOneMouseTouchMove=d=>{this._oneMouseTouchMove(d)},this.bindOnDragMove=d=>{this._onDragMove(d)},this.bindOnDragEnd=d=>{this._onDragEnd(d)},this._oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()}}onMouseDown(e){this.owlDraggable.isMouseDragable&&this._onDragStart(e)}onTouchStart(e){if(e.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(e)}onTouchCancel(e){this._onDragEnd(e)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(oe()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}_onDragStart(e){let i=null;3!==e.which&&(i=this._prepareDragging(e),this._drag.time=(new Date).getTime(),this._drag.target=e.target,this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this._pointer(e),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(e){const i=this._difference(this._drag.pointer,this._pointer(e));this.listenerATag&&this.listenerATag(),!(Math.abs(i.x)<3&&Math.abs(i.y)<3&&this._is("valid"))&&(Math.abs(i.x)<3&&Math.abs(i.x)<Math.abs(i.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(e),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),e.preventDefault(),this._enterDragging(),this._oneDragMove$.next(e)))}blockClickAnchorInDragging(e){let i=e.target;for(;i&&!(i instanceof HTMLAnchorElement);)i=i.parentElement;i instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(i,"click",()=>!1))}_onDragMove(e){let i;const r=this.carouselService.defineNewCoordsDrag(e,this._drag);!1!==r&&(i=r,e.preventDefault(),this._drag.stage.current=i,this._animate(i.x-this._drag.stage.start.x))}_animate(e){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${e}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(e){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(e),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(e){return this.carouselService.prepareDragging(e)}_finishDragging(e){this.carouselService.finishDragging(e,this._drag,this._oneClickHandler)}_pointer(e){return this.carouselService.pointer(e)}_difference(e,i){return this.carouselService.difference(e,i)}_is(e){return this.carouselService.is(e)}_enter(e){this.carouselService.enter(e)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(e){this.animateService.clear(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(I3),o.Y36(BA))},n.\u0275cmp=o.Xpm({type:n,selectors:[["owl-stage"]],hostBindings:function(e,i){1&e&&o.NdJ("mousedown",function(s){return i.onMouseDown(s)})("touchstart",function(s){return i.onTouchStart(s)})("touchcancel",function(s){return i.onTouchCancel(s)})("dragstart",function(){return i.onDragStart()})("selectstart",function(){return i.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(o.TgZ(0,"div")(1,"div",0),o.NdJ("transitionend",function(){return i.onTransitionEnd()}),o.YNc(2,sMe,3,9,"ng-container",1),o.qZA()()),2&e&&(o.xp6(1),o.Q6J("ngStyle",o.qbA(2,oMe,i.stageData.width+"px",i.stageData.transform,i.stageData.transition,i.stageData.paddingL?i.stageData.paddingL+"px":"",i.stageData.paddingR?i.stageData.paddingR+"px":"")),o.xp6(1),o.Q6J("ngForOf",i.slidesData))},dependencies:[tn,Er,Gn,b1,ol],encapsulation:2,data:{animation:[b8("autoHeight",[Su("nulled",bs({height:0})),Su("full",bs({height:"*"})),Wc("full => nulled",[A3("700ms 350ms")]),Wc("nulled => full",[A3(350)])])]}}),n})(),EMe=(()=>{class n{constructor(e,i,r,s,l,d,f,v,b,S,I,H){this.el=e,this.resizeService=i,this.carouselService=r,this.navigationService=s,this.autoplayService=l,this.lazyLoadService=d,this.animateService=f,this.autoHeightService=v,this.hashService=b,this.logger=S,this.changeDetectorRef=I,this.translated=new o.vpe,this.dragging=new o.vpe,this.change=new o.vpe,this.changed=new o.vpe,this.initialized=new o.vpe,this.slidesData=[],this.carouselLoaded=!1,this.docRef=H}onVisibilityChange(e){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe((0,Le.b)(e=>{e.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,e.toArray(),this.options),this.carouselService.initialize(e.toArray())):(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered"))})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe((0,Le.b)(e=>{this.owlDOMData=e.owlDOMData,this.stageData=e.stageData,this.slidesData=e.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=e.navData,this.dotsData=e.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe((0,Le.b)(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe((0,Le.b)(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe((0,Le.b)(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(Mn(e=>{const i=nt(e).pipe(x(()=>"position"===e.property.name),Mn(()=>(0,on.D)(this.slidesData)),$y(e.property.value),nn(this.carouselService.settings.items),(0,Je.U)(r=>{const s=this.carouselService.clonedIdPrefix,l=r.id.indexOf(s)>=0?r.id.slice(s.length):r.id;return{...r,id:l,isActive:!0}}),function Xbe(){return(0,Nn.e)((n,t)=>{(function Kbe(n,t){return(0,Nn.e)(ft(n,t,arguments.length>=2,!1,!0))})(Qbe,[])(n).subscribe(t)})}(),(0,Je.U)(r=>({slides:r,startPosition:this.carouselService.relative(e.property.value)})));return(0,es.T)(i)}),(0,Le.b)(e=>{this.gatherTranslatedData(),this.changed.emit(e.slides.length?e:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe((0,Le.b)(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),Mn(()=>this.carouselService.getDraggedState().pipe((0,Je.U)(()=>!!this.carouselService.is("animating")))),Mn(e=>e?this.carouselService.getTranslatedState().pipe(oe()):nt("not animating")),(0,Le.b)(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=(0,es.T)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(x(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),function eMe(n,t=O4.z){const e=pA(n,t);return bG(()=>e)}(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){!this.carouselLoaded||this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){!this.carouselLoaded||this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(e){!this.carouselLoaded||this.navigationService.moveByDot(e)}to(e){!this.carouselLoaded||this.navigationService.toSlideById(e)}gatherTranslatedData(){let e;const i=this.carouselService.clonedIdPrefix,r=this.slidesData.filter(s=>!0===s.isActive).map(s=>({id:s.id.indexOf(i)>=0?s.id.slice(i.length):s.id,width:s.width,marginL:s.marginL,marginR:s.marginR,center:s.isCentered}));e=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:e,slides:r}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(TG),o.Y36(I3),o.Y36(MG),o.Y36(SG),o.Y36(DG),o.Y36(BA),o.Y36(xG),o.Y36(EG),o.Y36(PA),o.Y36(o.sBO),o.Y36(RA))},n.\u0275cmp=o.Xpm({type:n,selectors:[["owl-carousel-o"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,AG,4),2&e){let s;o.iGM(s=o.CRH())&&(i.slides=s)}},hostBindings:function(e,i){1&e&&o.NdJ("visibilitychange",function(s){return i.onVisibilityChange(s)},!1,o.evT)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[o._Bn([MG,SG,I3,DG,BA,xG,EG]),o.TTD],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("mouseover",function(){return i.startPausing()})("mouseleave",function(){return i.startPlayML()})("touchstart",function(){return i.startPausing()})("touchend",function(){return i.startPlayTE()}),o.YNc(2,cMe,2,6,"div",2),o.YNc(3,dMe,6,15,"ng-container",3),o.qZA()),2&e&&(o.Q6J("ngClass",o.qbA(3,hMe,null==i.owlDOMData?null:i.owlDOMData.rtl,null==i.owlDOMData?null:i.owlDOMData.isLoaded,null==i.owlDOMData?null:i.owlDOMData.isResponsive,null==i.owlDOMData?null:i.owlDOMData.isMouseDragable,null==i.owlDOMData?null:i.owlDOMData.isGrab)),o.xp6(2),o.Q6J("ngIf",i.carouselLoaded),o.xp6(1),o.Q6J("ngIf",i.slides.toArray().length))},dependencies:[tn,Er,Gn,xMe],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),n})(),AMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[yMe,TG,SMe,PA],imports:[xs]}),n})();const TMe=function(n,t,e){return{id:n,name:t,icon:e}};function IMe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("click",function(){o.CHM(e);const r=o.oxw().$implicit,s=o.oxw();return o.KtG(s.getByCategory(r.id))}),o._UZ(1,"img",4),o.TgZ(2,"span",5),o._uU(3),o.qZA()()}if(2&n){const e=o.oxw().$implicit;o.Q6J("queryParams",o.kEZ(3,TMe,e.id,e.name,e.icon)),o.xp6(1),o.Q6J("src",e.icon,o.LSH),o.xp6(2),o.Oqu(e.name)}}function kMe(n,t){1&n&&o.YNc(0,IMe,4,7,"ng-template",2)}let VMe=(()=>{class n{constructor(e,i,r){this.http=e,this.activatedRoute=i,this.mainService=r,this.iconsArray=[],this.filteredIcon=[],this.customOptions={loop:!0,mouseDrag:!1,touchDrag:!1,pullDrag:!1,dots:!1,navSpeed:1400,navText:['<img src="assets/images/arrow.png" class="arrow">','<img src="assets/images/arrow.png" class="arrow arrowR">'],responsive:{0:{items:1},400:{items:2},760:{items:10},1300:{items:14},1600:{items:17}},nav:!0},this.http.getAllFilterIcons().subscribe(s=>{this.iconsArray=s,this.iconSub=this.activatedRoute.queryParams.subscribe(l=>{this.filteredIcon=l})})}ngOnInit(){}getByCategory(e){this.http.getFilterByCategory(e).subscribe(i=>{this.mainService.cardFilter.next(i)})}ngOnDestroy(){this.iconSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fc),o.Y36(qr),o.Y36(oh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-slider"]],decls:2,vars:2,consts:[[1,"slider",3,"options"],[4,"ngFor","ngForOf"],["carouselSlide",""],["routerLink","/",1,"slide",3,"queryParams","click"],["alt","img 1",1,"slider__slide__image",3,"src"],[1,"slider__slide__name"]],template:function(e,i){1&e&&(o.TgZ(0,"owl-carousel-o",0),o.YNc(1,kMe,1,0,null,1),o.qZA()),2&e&&(o.Q6J("options",i.customOptions),o.xp6(1),o.Q6J("ngForOf",i.iconsArray))},dependencies:[Za,EMe,AG,Er],styles:["[_nghost-%COMP%]{width:calc(100% - 115px)}.slider__slide__name[_ngcontent-%COMP%]{color:#717171;font-size:12px}.owl-prev[_ngcontent-%COMP%]{padding:10px;border-radius:50%}.slide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:end;margin-top:10px;cursor:pointer}img[_ngcontent-%COMP%]{width:24px!important}"]}),n})(),LMe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-filter"]],decls:3,vars:0,consts:[["data-bs-toggle","modal","href","#exampleModalToggle",1,"filter"],["src","assets/images/switch.png ","role","button"]],template:function(e,i){1&e&&(o.TgZ(0,"button",0),o._UZ(1,"img",1),o._uU(2," filters"),o.qZA())},styles:[".filter[_ngcontent-%COMP%]{width:90px;height:48px;border-radius:12px;border:1px solid #ddd;background-color:#fff;font-size:12px}img[_ngcontent-%COMP%]{width:20px;margin-right:7px}"]}),n})(),HMe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-navigation"]],decls:2,vars:0,template:function(e,i){1&e&&o._UZ(0,"app-slider")(1,"app-filter")},dependencies:[VMe,LMe],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;align-items:center;top:80px;position:fixed;z-index:8;height:80px;background-color:#fff;width:calc(100% + -0px);padding:0 80px}"]}),n})(),zMe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-main"]],decls:2,vars:0,template:function(e,i){1&e&&o._UZ(0,"app-card")(1,"app-navigation")},dependencies:[Ybe,HMe],styles:["main[_ngcontent-%COMP%]{margin:80px 0 101px;max-width:1920px;position:relative}"]}),n})(),NMe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-filter-content-header"]],decls:3,vars:0,consts:[[1,"filter__header"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","close"]],template:function(e,i){1&e&&(o.TgZ(0,"header",0),o._uU(1,"Filters"),o._UZ(2,"span",1),o.qZA())},styles:['.filter__header[_ngcontent-%COMP%]{text-align:center;height:64px;line-height:400%;border-radius:12px 12px 0 0;background-color:#fff;font-size:16px;font-weight:800;border-bottom:1px solid #ebebeb}.close[_ngcontent-%COMP%]{position:relative;left:25px;top:-36px;width:6px;height:6px;display:block}.close[_ngcontent-%COMP%]:after{content:"";width:32px;height:32px;border-radius:50%;position:absolute;top:-9px;left:-9px}']}),n})(),PMe=(()=>{class n{constructor(e,i){this.http=e,this.cardService=i,this.numberArray=[1,2,3,4,5,6,7,8],this.testing="",this.typeOfPlaces=[],this.amenities=[],this.hostLang=[],this.cont=new Q2({beth:new yr("")})}ngOnInit(){}filteredByCategory(e){e.value.typeOfPlace=this.testing,e.value.bedrooms=this.roomsCount,e.value.beds=this.bedsCount,e.value.baths=this.bathCount,e.value.property=this.property,e.value.amenities=this.amenities,e.value.hostLanguage=this.hostLang,this.http.getFilterByCategory("",e.value.price,e.value.typeOfPlace,e.value.bedrooms,e.value.beds,e.value.baths,e.value.property,e.value.amenities,e.value.hostLanguage).subscribe(i=>{this.cardService.cardService.next(i)})}test(e){const i=e.target;this.testing=i.value,i.checked?this.typeOfPlaces.push(this.testing):this.typeOfPlaces.splice(this.typeOfPlaces.indexOf(this.testing),1)}test1(e){this.roomsCount=e.target.value}getBedsValue(e){this.bedsCount=e.target.value}getBathCount(e){this.bathCount=e.target.value}getPropertyVal(e){this.property=e.target.value}getAmenities(e){const i=e.target;i.checked?this.amenities.push(i.value):this.amenities.splice(this.amenities.indexOf(this.amenities),1)}getHostLang(e){const i=e.target;i.checked?this.hostLang.push(i.value):this.hostLang.splice(this.hostLang.indexOf(this.hostLang),1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fc),o.Y36(CG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-filter-content-main"]],decls:228,vars:0,consts:[[3,"ngSubmit"],["modalForm","ngForm"],[1,"price"],[1,"price__header"],[1,"price__text"],["ngModelGroup","price",1,"price__range"],[1,"price__range__wrapper"],[1,"price__range__wrapper--label"],["ngModel","","name","minPrice","type","number","value","10",1,"price__range__wrapper--input"],[1,"line"],["ngModel","","name","maxPrice","type","number","value","200",1,"price__range__wrapper--input"],[1,"typeOfPlace"],[1,"typeOfPlace__header"],["ngModelGroup","typeOfPlace",1,"typeOfPlace__wrapper"],[1,"form-check"],["ngModel","","name","type","value","entire place","type","checkbox","id","flexCheckDefault1",1,"form-check-input",3,"change"],["for","flexCheckDefault1",1,"form-check-label"],[1,"checkboxHeader"],[1,"checkboxText"],["ngModel","","name","type1","value","shared room","type","checkbox","id","flexCheckDefault2",1,"form-check-input",3,"change"],["for","flexCheckDefault2",1,"form-check-label"],["ngModel","","name","type2","value","private room","type","checkbox","id","flexCheckDefault3",1,"form-check-input",3,"change"],["for","flexCheckDefault3",1,"form-check-label"],["ngModelGroup","bedrooms",1,"rooms"],[1,"rooms__header"],[1,"rooms__text"],[1,"rooms__Bedrooms"],[1,"radio_container"],["type","radio","value","any","name","radio","id","any","checked","",3,"change"],["for","any"],["type","radio","value","1","name","radio","id","one",3,"change"],["for","one"],["value","2","type","radio","name","radio","id","two",3,"change"],["for","two"],["value","3","type","radio","name","radio","id","three",3,"change"],["for","three"],["value","4","type","radio","name","radio","id","four",3,"change"],["for","four"],["value","5","type","radio","name","radio","id","five",3,"change"],["for","five"],["value","6","type","radio","name","radio","id","six",3,"change"],["for","six"],["ngModelGroup","beds",1,"rooms__Bedrooms"],["type","radio","value","any","name","beds","id","any1","checked","",3,"change"],["for","any1"],["value","1","type","radio","name","beds","id","beds1",3,"change"],["for","beds1"],["value","2","type","radio","name","beds","id","beds2",3,"change"],["for","beds2"],["value","3","type","radio","name","beds","id","beds3",3,"change"],["for","beds3"],["value","4","type","radio","name","beds","id","beds4",3,"change"],["for","beds4"],["value","5","type","radio","name","beds","id","beds5",3,"change"],["for","beds5"],["value","6","type","radio","name","beds","id","beds6",3,"change"],["for","beds6"],["ngModelGroup","baths",1,"rooms__Bedrooms"],["value","any","type","radio","name","bath","id","any2","checked","",3,"change"],["for","any2"],["value","1","type","radio","name","bath","id","bath1",3,"change"],["for","bath1"],["value","2","type","radio","name","bath","id","bath2",3,"change"],["for","bath2"],["value","3","type","radio","name","bath","id","bath3",3,"change"],["for","bath3"],["value","4","type","radio","name","bath","id","bath4",3,"change"],["for","bath4"],["value","5","type","radio","name","bath","id","bath5",3,"change"],["for","bath5"],["value","6","type","radio","name","bath","id","bath6",3,"change"],["for","bath6"],[1,"property"],[1,"property__header"],["ngModelGroup","property",1,"property__wrapper"],["value","home","type","radio","name","test","id","cb1",3,"click"],["for","cb1",1,"imgLab"],["src","/assets/images/house.png"],["value","villa","type","radio","name","test","id","cb2",3,"click"],["for","cb2",1,"imgLab"],["src","/assets/images/guesthouse.png"],["value","guesthouse","type","radio","name","test","id","cb3",3,"click"],["for","cb3",1,"imgLab"],["src","/assets/images/apartment.png"],["value","hotel","type","radio","name","test","id","cb4",3,"click"],["for","cb4",1,"imgLab"],["src","/assets/images/hotel.png"],[1,"Amenities"],[1,"Amenities__header"],[1,"Amenities__text"],["type","checkbox","value","wifi","id","wifi",1,"form-check-input",3,"change"],["for","wifi",1,"form-check-label"],["type","checkbox","value","Kitchen","id","Kitchen",1,"form-check-input",3,"change"],["for","Kitchen",1,"form-check-label"],["type","checkbox","value","Washer","id","Washer",1,"form-check-input",3,"change"],["for","Washer",1,"form-check-label"],["type","checkbox","value","Dryer","id","dryer",1,"form-check-input",3,"change"],["for","dryer",1,"form-check-label"],["type","checkbox","value","Air conditioning","id","Airconditioning",1,"form-check-input",3,"change"],["for","Airconditioning",1,"form-check-label"],["type","checkbox","value","Heating","id","Heating",1,"form-check-input",3,"change"],["for","Heating",1,"form-check-label"],["type","checkbox","value","Dedicatedworkspace","id","Dedicatedworkspace",1,"form-check-input",3,"change"],["for","Dedicatedworkspace",1,"form-check-label"],["type","checkbox","value","tv","id","tv",1,"form-check-input",3,"change"],["for","tv",1,"form-check-label"],["type","checkbox","value","hairdryer","id","hairdryer",1,"form-check-input",3,"change"],["for","hairdryer",1,"form-check-label"],["type","checkbox","value","iron","id","iron",1,"form-check-input",3,"change"],["for","iron",1,"form-check-label"],["ngModelGroup","hostLanguage",1,"languages"],[1,"languages__header"],["value","english","type","checkbox","id","English",1,"form-check-input",3,"change"],["for","English",1,"form-check-label"],["value","french","type","checkbox","id","French",1,"form-check-input",3,"change"],["for","French",1,"form-check-label"],["value","german","type","checkbox","id","German",1,"form-check-input",3,"change"],["for","German",1,"form-check-label"],["value","japanese","type","checkbox","id","Japanese",1,"form-check-input",3,"change"],["for","Japanese",1,"form-check-label"],[1,"filter__footer"],[1,"filter__footer__wrapper"],["type","submit","data-bs-dismiss","modal",1,"filter__footer__wrapper--button"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"main")(1,"form",0,1),o.NdJ("ngSubmit",function(){o.CHM(r);const l=o.MAs(2);return o.KtG(i.filteredByCategory(l))}),o.TgZ(3,"section",2)(4,"h1",3),o._uU(5,"Price range"),o.qZA(),o.TgZ(6,"p",4),o._uU(7,"The average nightly price is $91"),o.qZA(),o.TgZ(8,"div",5)(9,"div",6)(10,"span",7),o._uU(11,"min price"),o.qZA(),o._UZ(12,"input",8),o.qZA(),o._UZ(13,"div",9),o.TgZ(14,"div",6)(15,"span",7),o._uU(16,"max price"),o.qZA(),o._UZ(17,"input",10),o.qZA()()(),o.TgZ(18,"section",11)(19,"h1",12),o._uU(20,"Type of place"),o.qZA(),o.TgZ(21,"div",13)(22,"div",14)(23,"input",15),o.NdJ("change",function(l){return i.test(l)}),o.qZA(),o.TgZ(24,"label",16)(25,"h3",17),o._uU(26,"Entire place"),o.qZA(),o.TgZ(27,"p",18),o._uU(28,"A place all to yourself"),o.qZA()()(),o.TgZ(29,"div",14)(30,"input",19),o.NdJ("change",function(l){return i.test(l)}),o.qZA(),o.TgZ(31,"label",20)(32,"h3",17),o._uU(33,"Shared room"),o.qZA(),o.TgZ(34,"p",18),o._uU(35,"A sleeping space and common areas that may be shared with others"),o.qZA()()(),o.TgZ(36,"div",14)(37,"input",21),o.NdJ("change",function(l){return i.test(l)}),o.qZA(),o.TgZ(38,"label",22)(39,"h3",17),o._uU(40,"Private room"),o.qZA(),o.TgZ(41,"p",18),o._uU(42,"Your own room in a home or a hotel, plus some shared common spaces"),o.qZA()()()()(),o.TgZ(43,"section",23)(44,"h2",24),o._uU(45,"Rooms and beds"),o.qZA(),o.TgZ(46,"h3",25),o._uU(47,"Bedrooms"),o.qZA(),o.TgZ(48,"div",26)(49,"div",27)(50,"input",28),o.NdJ("change",function(l){return i.test1(l)}),o.qZA(),o.TgZ(51,"label",29),o._uU(52,"any"),o.qZA(),o.TgZ(53,"input",30),o.NdJ("change",function(l){return i.test1(l)}),o.qZA(),o.TgZ(54,"label",31),o._uU(55,"1"),o.qZA(),o.TgZ(56,"input",32),o.NdJ("change",function(l){return i.test1(l)}),o.qZA(),o.TgZ(57,"label",33),o._uU(58,"2"),o.qZA(),o.TgZ(59,"input",34),o.NdJ("change",function(l){return i.test1(l)}),o.qZA(),o.TgZ(60,"label",35),o._uU(61,"3"),o.qZA(),o.TgZ(62,"input",36),o.NdJ("change",function(l){return i.test1(l)}),o.qZA(),o.TgZ(63,"label",37),o._uU(64,"4"),o.qZA(),o.TgZ(65,"input",38),o.NdJ("change",function(l){return i.test1(l)}),o.qZA(),o.TgZ(66,"label",39),o._uU(67,"5"),o.qZA(),o.TgZ(68,"input",40),o.NdJ("change",function(l){return i.test1(l)}),o.qZA(),o.TgZ(69,"label",41),o._uU(70,"6"),o.qZA()()(),o.TgZ(71,"h3",25),o._uU(72,"Beds"),o.qZA(),o.TgZ(73,"div",42)(74,"div",27)(75,"input",43),o.NdJ("change",function(l){return i.getBedsValue(l)}),o.qZA(),o.TgZ(76,"label",44),o._uU(77,"any"),o.qZA(),o.TgZ(78,"input",45),o.NdJ("change",function(l){return i.getBedsValue(l)}),o.qZA(),o.TgZ(79,"label",46),o._uU(80,"1"),o.qZA(),o.TgZ(81,"input",47),o.NdJ("change",function(l){return i.getBedsValue(l)}),o.qZA(),o.TgZ(82,"label",48),o._uU(83,"2"),o.qZA(),o.TgZ(84,"input",49),o.NdJ("change",function(l){return i.getBedsValue(l)}),o.qZA(),o.TgZ(85,"label",50),o._uU(86,"3"),o.qZA(),o.TgZ(87,"input",51),o.NdJ("change",function(l){return i.getBedsValue(l)}),o.qZA(),o.TgZ(88,"label",52),o._uU(89,"4"),o.qZA(),o.TgZ(90,"input",53),o.NdJ("change",function(l){return i.getBedsValue(l)}),o.qZA(),o.TgZ(91,"label",54),o._uU(92,"5"),o.qZA(),o.TgZ(93,"input",55),o.NdJ("change",function(l){return i.getBedsValue(l)}),o.qZA(),o.TgZ(94,"label",56),o._uU(95,"6"),o.qZA()()(),o.TgZ(96,"h3",25),o._uU(97,"Bathrooms"),o.qZA(),o.TgZ(98,"div",57)(99,"div",27)(100,"input",58),o.NdJ("change",function(l){return i.getBathCount(l)}),o.qZA(),o.TgZ(101,"label",59),o._uU(102,"any"),o.qZA(),o.TgZ(103,"input",60),o.NdJ("change",function(l){return i.getBathCount(l)}),o.qZA(),o.TgZ(104,"label",61),o._uU(105,"1"),o.qZA(),o.TgZ(106,"input",62),o.NdJ("change",function(l){return i.getBathCount(l)}),o.qZA(),o.TgZ(107,"label",63),o._uU(108,"2"),o.qZA(),o.TgZ(109,"input",64),o.NdJ("change",function(l){return i.getBathCount(l)}),o.qZA(),o.TgZ(110,"label",65),o._uU(111,"3"),o.qZA(),o.TgZ(112,"input",66),o.NdJ("change",function(l){return i.getBathCount(l)}),o.qZA(),o.TgZ(113,"label",67),o._uU(114,"4"),o.qZA(),o.TgZ(115,"input",68),o.NdJ("change",function(l){return i.getBathCount(l)}),o.qZA(),o.TgZ(116,"label",69),o._uU(117,"5"),o.qZA(),o.TgZ(118,"input",70),o.NdJ("change",function(l){return i.getBathCount(l)}),o.qZA(),o.TgZ(119,"label",71),o._uU(120,"6"),o.qZA()()()(),o.TgZ(121,"section",72)(122,"h2",73),o._uU(123,"Property types"),o.qZA(),o.TgZ(124,"div",74)(125,"ul")(126,"li")(127,"input",75),o.NdJ("click",function(l){return i.getPropertyVal(l)}),o.qZA(),o.TgZ(128,"label",76),o._UZ(129,"img",77),o.qZA(),o._uU(130," Home "),o.qZA(),o.TgZ(131,"li")(132,"input",78),o.NdJ("click",function(l){return i.getPropertyVal(l)}),o.qZA(),o.TgZ(133,"label",79),o._UZ(134,"img",80),o.qZA(),o._uU(135," Villa "),o.qZA(),o.TgZ(136,"li")(137,"input",81),o.NdJ("click",function(l){return i.getPropertyVal(l)}),o.qZA(),o.TgZ(138,"label",82),o._UZ(139,"img",83),o.qZA(),o._uU(140," Guesthouse "),o.qZA(),o.TgZ(141,"li")(142,"input",84),o.NdJ("click",function(l){return i.getPropertyVal(l)}),o.qZA(),o.TgZ(143,"label",85),o._UZ(144,"img",86),o.qZA(),o._uU(145," Hotel "),o.qZA()()()(),o.TgZ(146,"section",87)(147,"h2",88),o._uU(148,"Amenities"),o.qZA(),o.TgZ(149,"h3",89),o._uU(150,"Essentials"),o.qZA(),o.TgZ(151,"div",14)(152,"input",90),o.NdJ("change",function(l){return i.getAmenities(l)}),o.qZA(),o.TgZ(153,"label",91)(154,"h3",17),o._uU(155,"wifi"),o.qZA()()(),o.TgZ(156,"div",14)(157,"input",92),o.NdJ("change",function(l){return i.getAmenities(l)}),o.qZA(),o.TgZ(158,"label",93)(159,"h3",17),o._uU(160,"Kitchen"),o.qZA()()(),o.TgZ(161,"div",14)(162,"input",94),o.NdJ("change",function(l){return i.getAmenities(l)}),o.qZA(),o.TgZ(163,"label",95)(164,"h3",17),o._uU(165,"Washer"),o.qZA()()(),o.TgZ(166,"div",14)(167,"input",96),o.NdJ("change",function(l){return i.getAmenities(l)}),o.qZA(),o.TgZ(168,"label",97)(169,"h3",17),o._uU(170,"Dryer"),o.qZA()()(),o.TgZ(171,"div",14)(172,"input",98),o.NdJ("change",function(l){return i.getAmenities(l)}),o.qZA(),o.TgZ(173,"label",99)(174,"h3",17),o._uU(175,"Air conditioning"),o.qZA()()(),o.TgZ(176,"div",14)(177,"input",100),o.NdJ("change",function(l){return i.getAmenities(l)}),o.qZA(),o.TgZ(178,"label",101)(179,"h3",17),o._uU(180,"Heating"),o.qZA()()(),o.TgZ(181,"div",14)(182,"input",102),o.NdJ("change",function(l){return i.getAmenities(l)}),o.qZA(),o.TgZ(183,"label",103)(184,"h3",17),o._uU(185,"Dedicated workspace"),o.qZA()()(),o.TgZ(186,"div",14)(187,"input",104),o.NdJ("change",function(l){return i.getAmenities(l)}),o.qZA(),o.TgZ(188,"label",105)(189,"h3",17),o._uU(190,"TV"),o.qZA()()(),o.TgZ(191,"div",14)(192,"input",106),o.NdJ("change",function(l){return i.getAmenities(l)}),o.qZA(),o.TgZ(193,"label",107)(194,"h3",17),o._uU(195,"Hair dryer"),o.qZA()()(),o.TgZ(196,"div",14)(197,"input",108),o.NdJ("change",function(l){return i.getAmenities(l)}),o.qZA(),o.TgZ(198,"label",109)(199,"h3",17),o._uU(200,"Iron"),o.qZA()()()(),o.TgZ(201,"section",110)(202,"h2",111),o._uU(203,"Host languages"),o.qZA(),o.TgZ(204,"div",14)(205,"input",112),o.NdJ("change",function(l){return i.getHostLang(l)}),o.qZA(),o.TgZ(206,"label",113)(207,"h3",17),o._uU(208,"English"),o.qZA()()(),o.TgZ(209,"div",14)(210,"input",114),o.NdJ("change",function(l){return i.getHostLang(l)}),o.qZA(),o.TgZ(211,"label",115)(212,"h3",17),o._uU(213,"French"),o.qZA()()(),o.TgZ(214,"div",14)(215,"input",116),o.NdJ("change",function(l){return i.getHostLang(l)}),o.qZA(),o.TgZ(216,"label",117)(217,"h3",17),o._uU(218,"German"),o.qZA()()(),o.TgZ(219,"div",14)(220,"input",118),o.NdJ("change",function(l){return i.getHostLang(l)}),o.qZA(),o.TgZ(221,"label",119)(222,"h3",17),o._uU(223,"Japanese"),o.qZA()()()(),o.TgZ(224,"footer",120)(225,"div",121)(226,"button",122),o._uU(227,"Show 1,000+homes"),o.qZA()()()()()}},dependencies:[Qa,Ya,X2,R5,T4,I4,ga,vc,gc],styles:['@charset "UTF-8";.Amenities[_ngcontent-%COMP%]{max-width:725px;padding:0 0 15px 25px;flex-wrap:wrap;display:flex;margin-bottom:34px}.Amenities__header[_ngcontent-%COMP%]{font-size:24px;width:100%}.Amenities__text[_ngcontent-%COMP%]{font-size:16px;margin:27px 0;width:100%}.languages[_ngcontent-%COMP%]{max-width:725px;padding:0 0 15px 25px;flex-wrap:wrap;display:flex;margin-bottom:34px}.languages__header[_ngcontent-%COMP%]{font-size:24px;width:100%;margin-bottom:31px}.form-check[_ngcontent-%COMP%]{width:350px;min-height:50px;display:flex}.checkboxHeader[_ngcontent-%COMP%]{font-size:16px;padding-top:2px}.checkboxText[_ngcontent-%COMP%]{color:#717171;margin:-8px 0 0}.price[_ngcontent-%COMP%]{width:725px;padding:0 0 15px 25px;height:auto;background-color:#fff;margin-bottom:34px}.price__header[_ngcontent-%COMP%]{font-size:24px;width:100%}.price__text[_ngcontent-%COMP%]{font-size:16px;color:#717171;margin-bottom:35px}.price__range[_ngcontent-%COMP%]{max-width:632px;display:flex;justify-content:space-between;margin-left:34px}.price__range__wrapper[_ngcontent-%COMP%]{position:relative;width:305px;height:55px;border-radius:8px}.price__range__wrapper[_ngcontent-%COMP%]:before{content:"$";position:absolute;left:13px;top:28px;z-index:33}.price__range__wrapper--label[_ngcontent-%COMP%]{position:absolute;left:12px;top:12px;color:#717171;font-size:12px;font-weight:400}.price__range__wrapper--input[_ngcontent-%COMP%]{border-radius:8px;width:100%;height:55px;padding:25px 0 0 27px;border:none;outline:none;-webkit-appearance:none;appearance:none;-moz-appearance:textfield;box-shadow:#b0b0b0 0 0 0 1px inset;cursor:pointer}.price__range__wrapper--input[_ngcontent-%COMP%]:focus{box-shadow:#222 0 0 0 2px inset!important}.line[_ngcontent-%COMP%]{width:7px;height:auto;position:relative}.line[_ngcontent-%COMP%]:before{content:"";position:absolute;border-top:1px solid #000;top:50%;width:7px}.property[_ngcontent-%COMP%]{max-width:725px;padding:15px 0 15px 25px;flex-wrap:wrap;display:flex;margin-bottom:52px}.property__header[_ngcontent-%COMP%]{font-size:24px;width:100%}.property__wrapper[_ngcontent-%COMP%]{width:100%;margin-top:15px}.property__wrapper__type[_ngcontent-%COMP%]{width:161px;height:124px;border-radius:12px;border:1px solid #D7D7D7;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between}.property__wrapper__type[_ngcontent-%COMP%]:hover{border:1px solid #000}.property__wrapper__type--image[_ngcontent-%COMP%]{width:46px;height:46px;padding:12px 0 0 12px}.property__wrapper__type--text[_ngcontent-%COMP%]{margin:0;padding:0 0 12px 12px;font-size:16px}.rooms[_ngcontent-%COMP%]{max-width:725px;padding:15px 0 15px 25px;margin-top:-24px;margin-bottom:34px}.rooms__header[_ngcontent-%COMP%]{font-size:24px}.rooms__text[_ngcontent-%COMP%]{font-size:16px;margin:27px 0}.rooms__Bedrooms__button[_ngcontent-%COMP%]:first-of-type{width:79px}.rooms__Bedrooms__button[_ngcontent-%COMP%]{width:59px;height:40px;border:1px solid #ddd;outline:none;border-radius:30px;background-color:#fff;margin-right:10px}.rooms__Bedrooms__button[_ngcontent-%COMP%]:hover{border:1px solid #222}.rooms__Bedrooms__button[_ngcontent-%COMP%]:focus{background-color:#222;color:#fff;border:1px solid #222}.typeOfPlace[_ngcontent-%COMP%]{max-width:725px;padding:15px 0 15px 25px;margin-bottom:34px}.typeOfPlace__header[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.typeOfPlace__wrapper[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.form-check[_ngcontent-%COMP%]{width:350px;min-height:60px;margin:8px 0;display:flex}.form-check-input[_ngcontent-%COMP%]{width:24px;height:24px;box-shadow:none;border:1px solid #808080}.form-check-input[_ngcontent-%COMP%]:hover{border:1px solid #000}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#000}.form-check-label[_ngcontent-%COMP%]{width:100%;padding-left:18px;cursor:pointer}.checkboxHeader[_ngcontent-%COMP%]{font-size:16px}.checkboxText[_ngcontent-%COMP%]{color:#717171;margin:-8px 0 0;font-size:14px}.filter__footer[_ngcontent-%COMP%]{width:100%;height:81px;border-top:1px solid #ebebeb;display:flex;justify-content:center;position:relative;bottom:-20px}.filter__footer__wrapper[_ngcontent-%COMP%]{width:calc(100% - 48px);display:flex;justify-content:end;align-items:center}.filter__footer__wrapper--button[_ngcontent-%COMP%]{border:none;background:#222;font-size:16px;font-weight:600;padding:14px 24px;color:#fff;border-radius:8px}.filter__footer__wrapper--button[_ngcontent-%COMP%]:hover{background-color:#000}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.radio_container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;background-color:#cecece;height:50px;border-radius:9999px;box-shadow:inset .5px .5px 2px #00000026}input[type=radio][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;display:none}.radio_container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:20px;display:flex;justify-content:center;align-items:center;background-color:inherit;width:80px;height:40px;text-align:center;border-radius:9999px;overflow:hidden;transition:linear .3s;color:#6e6e6edd}input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#404549;color:#f1f3f5;font-weight:900;transition:.3s}.property__wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{justify-content:space-between;width:100%;display:flex;list-style-type:none}.property__wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.property__wrapper[_ngcontent-%COMP%]   input[type=radio][id^=cb][_ngcontent-%COMP%]{display:none}.property__wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border:1px solid #fff;padding:10px;display:block;position:relative;margin:10px;cursor:pointer}.property__wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{background-color:#fff;color:#fff;content:" ";display:block;border-radius:50%;border:1px solid grey;position:absolute;top:-5px;left:-5px;width:25px;height:25px;text-align:center;line-height:28px;transition-duration:.4s;transform:scale(0)}.property__wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;transition-duration:.2s;transform-origin:50% 50%}.property__wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{border-color:#ddd;background-color:#fff;border:1px solid black;border-radius:12px}.property__wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{content:"\\2713";background-color:gray;transform:scale(1)}.property__wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(.9);box-shadow:0 0 5px #333;z-index:-1}']}),n})(),OMe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-filter-content-footer"]],decls:0,vars:0,template:function(e,i){}}),n})(),RMe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-filter-content"]],decls:7,vars:0,consts:[["id","exampleModalToggle","aria-hidden","true","aria-labelledby","exampleModalToggleLabel","tabindex","-1",1,"modal","custom","fade"],[1,"modal-dialog","modal-dialog-centered",2,"background-color","#fff"],[1,"modal-content"],[1,"filter"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"app-filter-content-header")(5,"app-filter-content-main")(6,"app-filter-content-footer"),o.qZA()()()())},dependencies:[NMe,PMe,OMe],styles:[".filter[_ngcontent-%COMP%]{position:relative;width:780px;height:auto;background-color:#fff;top:0;border-radius:12px;right:140px;margin:-5px;padding-bottom:20px}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translate3d(0,100vh,0)}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translateZ(0)}"]}),n})(),FMe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home-pg"]],decls:4,vars:0,template:function(e,i){1&e&&o._UZ(0,"app-filter-content")(1,"app-account-pg")(2,"app-header")(3,"app-main")},dependencies:[uH,bM,zMe,RMe]}),n})(),BMe=(()=>{class n{constructor(e){this.actRoute=e,this.actRoute.queryParams.subscribe(i=>{console.log(i),this.reservedHotel=i})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-ordered-history"]],decls:36,vars:7,consts:[[1,"card"],[1,"card-body"],[1,"card-text"],["href","#",1,"btn","btn-primary","btn-lg"],[1,"image"],["src","https://a0.muscache.com/im/pictures/d727f355-3f10-44b5-9750-d1efca2438fc.jpg?im_w=720"],[1,"history"],[1,"past","col-md-3","d-flex","justify-content-between"],[3,"src"],[1,"info"]],template:function(e,i){1&e&&(o.TgZ(0,"section")(1,"article")(2,"h1"),o._uU(3,"Trips"),o.qZA(),o.TgZ(4,"div",0)(5,"div",1)(6,"h2"),o._uU(7,"No trips booked...yet!"),o.qZA(),o.TgZ(8,"p",2),o._uU(9,"Time to dust off your bags and start planning your next adventure"),o.qZA(),o.TgZ(10,"a",3),o._uU(11,"Start searching"),o.qZA()(),o.TgZ(12,"div",4),o._UZ(13,"img",5),o.qZA()()(),o._UZ(14,"br"),o.TgZ(15,"div",6)(16,"h2"),o._uU(17,"Where you've been"),o.qZA(),o.TgZ(18,"div",7)(19,"div"),o._UZ(20,"img",8),o.qZA(),o.TgZ(21,"div",9)(22,"h5")(23,"b"),o._uU(24),o.qZA()(),o.TgZ(25,"p"),o._uU(26),o.qZA(),o.TgZ(27,"p"),o._uU(28),o.qZA(),o.TgZ(29,"p"),o._uU(30),o.qZA()()(),o._UZ(31,"hr"),o.qZA(),o.TgZ(32,"p"),o._uU(33,"Can't find your reservation here?"),o.TgZ(34,"span"),o._uU(35,"Visit the Help Center"),o.qZA()()()),2&e&&(o.xp6(20),o.Q6J("src",i.reservedHotel.img,o.LSH),o.xp6(4),o.Oqu(i.reservedHotel.name),o.xp6(2),o.AsE(" check in : ",i.reservedHotel.inMonth," ",i.reservedHotel.inDay," "),o.xp6(2),o.AsE(" check out : ",i.reservedHotel.outMonth," ",i.reservedHotel.outDay," "),o.xp6(2),o.hij("price: ",i.reservedHotel.price,""))},styles:["section[_ngcontent-%COMP%]{margin:200px 80px 80px}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-template-columns:1fr 1fr 1fr;column-gap:5px;border-radius:12px}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:900px;height:298px;object-fit:cover;border-top-right-radius:12px;border-bottom-right-radius:12px}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{margin:20px}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{cursor:pointer!important;border:none!important;background:linear-gradient(to right,rgb(230,30,77) 0%,rgb(227,28,95) 50%,rgb(215,4,102) 100%)!important;color:#fff!important;text-align:center!important;height:50px!important;width:150px!important;transition:opacity 1.25s;font-size:16px;padding:10px}section[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]{display:inline}section[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px;margin-right:50px;display:inline;border-radius:12px}section[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:23px}section[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:17px}"]}),n})();const UMe=["saveBtn"];let jMe=(()=>{class n{constructor(e,i,r,s,l){this.formBuilder=e,this.http=i,this.activatedRoute=r,this.det=s,this.router=l,this.submitted=!1,this.reservedHotel=[],this.faArrowLeft=SO,this.faStar=Rx,this.userScroll=0,this.userScrollMax=0,this.phoneNumber="Add and confirm your phone number to get trip updates."}onBtnClick(){this.router.navigate(["/ordered-payment"],{queryParams:{price:this.reservedHotel.price,img:this.reservedHotel.img,id:this.reservedHotel.id,name:this.reservedHotel.name,inMonth:this.reservedHotel.inMonth,inDay:this.reservedHotel.inDay,outMonth:this.reservedHotel.outMonth,outDay:this.reservedHotel.outDay}})}ngOnInit(){this.activatedRoute.queryParams.subscribe(e=>{this.reservedHotel=e,console.log(this.reservedHotel)}),this.addPhoneNumberForm=this.formBuilder.group({Number:["",[dh.required,dh.minLength(9)]]})}addPhoneNumber(e){this.phoneNumber=e.form.controls.phoneNumber.value,setTimeout(()=>{this.saveBtn.nativeElement.setAttribute("data-bs-dismiss","modal"),this.det.detectChanges()},300),this.det.detectChanges()}onWindowScroll(){let e=document.documentElement.scrollTop,i=document.documentElement.scrollHeight;e>i/50&&(this.userScroll=e),e<i/50&&(this.userScroll=0)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Bh),o.Y36(I5),o.Y36(qr),o.Y36(o.sBO),o.Y36(ei))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-ordered"]],viewQuery:function(e,i){if(1&e&&o.Gf(UMe,5),2&e){let r;o.iGM(r=o.CRH())&&(i.saveBtn=r.first)}},hostBindings:function(e,i){1&e&&o.NdJ("scroll",function(s){return i.onWindowScroll(s)},!1,o.Jf7)},decls:202,vars:19,consts:[[1,"col-md-12","d-flex","justify-content-between"],[1,"col-md-5"],[1,"back",3,"routerLink","icon"],[1,"trip","col-md-12","d-flex","justify-content-between"],[1,"payment","d-flex","justify-content-between"],[1,"payImage","d-flex","flex-direction-row"],["src","https://a0.muscache.com/airbnb/static/packages/assets/frontend/legacy-shared/svgs/payments/logo_visa.0adea522bb26bd90821a8fade4911913.svg","alt",""],["src","https://a0.muscache.com/airbnb/static/packages/assets/frontend/legacy-shared/svgs/payments/logo_amex.84088b520ca1b3384cb71398095627da.svg","alt",""],["src","https://a0.muscache.com/airbnb/static/packages/assets/frontend/legacy-shared/svgs/payments/logo_mastercard.f18379cf1f27d22abd9e9cf44085d149.svg","alt",""],["src","https://a0.muscache.com/airbnb/static/packages/assets/frontend/legacy-shared/svgs/payments/logo_discover.7f05c82f07d62a0f8a69d54dbcd7c8be.svg","alt",""],["src","https://a0.muscache.com/airbnb/static/packages/assets/frontend/legacy-shared/svgs/payments/logo_paypal.faa3042fa2daf6b4a9822cc4b43e8609.svg","alt",""],["src","https://a0.muscache.com/airbnb/static/packages/assets/frontend/legacy-shared/svgs/payments/logo_googlepay.3f786bc031b59575d24f504dfb859da0.svg","alt",""],[1,"paymentMethods"],[1,"container","p-0"],[1,"card","px-4"],["aria-label",".form-select-lg example",1,"form-select","form-select-lg","mb-3"],["selected",""],["value","1"],["value","2"],[1,"row","gx-3"],[1,"col-12"],[1,"credit-info","d-flex","flex-column"],[1,"text","mb-1"],["type","text","placeholder","0000 0000 0000 0000",1,"form-control","mb-3"],[1,"col-6"],["type","text","placeholder","MM/YYYY",1,"form-control","mb-3"],["type","password","placeholder","***",1,"form-control","mb-3","pt-2"],["type","text","placeholder","ZIP code","id","inputZip",1,"form-control","mb-3"],[1,"add"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-light"],[1,"cancellation"],[1,"small-information"],[1,"blue-text"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[1,"col-md-6"],[1,"card",2,"width","30rem",3,"ngClass"],[1,"image","d-flex","justify-content-between"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[3,"icon"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[2,"color","#FF385C"],[1,"d-flex","justify-content-between"],[1,"card-body","d-flex","justify-content-between"],[1,"form",3,"ngSubmit"],["mobileNumber","ngForm"],[1,"modal-number"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-group"],["aria-label",".form-select-lg example","type","string",1,"form-select","form-select-lg","mb-3"],["ngModel","","name","phoneNumber","type","number","placeholder","Phone number",1,"form-control","form-control-lg"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary"],["saveBtn",""]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"section")(1,"article",0)(2,"aside",1),o._UZ(3,"fa-icon",2),o.TgZ(4,"h1"),o._uU(5,"Confirm and pay"),o.qZA(),o._UZ(6,"br")(7,"br"),o.TgZ(8,"h2")(9,"b"),o._uU(10,"Your trip"),o.qZA()(),o.TgZ(11,"div",3)(12,"div")(13,"p"),o._uU(14,"Dates"),o.qZA(),o.TgZ(15,"p"),o._uU(16),o.qZA(),o.TgZ(17,"p"),o._uU(18,"Guests"),o.qZA(),o.TgZ(19,"p"),o._uU(20),o.qZA()(),o.TgZ(21,"div")(22,"span"),o._uU(23,"Edit"),o.qZA(),o._UZ(24,"br")(25,"br")(26,"br"),o.TgZ(27,"span"),o._uU(28,"Edit"),o.qZA()()(),o._UZ(29,"hr"),o.TgZ(30,"article",4)(31,"div")(32,"h2")(33,"b"),o._uU(34,"Pay with"),o.qZA()()(),o.TgZ(35,"div",5),o._UZ(36,"img",6)(37,"img",7)(38,"img",8)(39,"img",9)(40,"img",10)(41,"img",11),o.qZA()(),o.TgZ(42,"form",12)(43,"div",13)(44,"div",14),o._UZ(45,"br"),o.TgZ(46,"select",15)(47,"option",16),o._uU(48,"Credit or debit card"),o.qZA(),o.TgZ(49,"option",17),o._uU(50,"PayPal"),o.qZA(),o.TgZ(51,"option",18),o._uU(52,"Google Pay"),o.qZA()(),o.TgZ(53,"div",19)(54,"div",20)(55,"div",21)(56,"p",22),o._uU(57,"Card Number"),o.qZA(),o._UZ(58,"input",23),o.qZA()(),o.TgZ(59,"div",24)(60,"div",21)(61,"p",22),o._uU(62,"Expiration"),o.qZA(),o._UZ(63,"input",25),o.qZA()(),o.TgZ(64,"div",24)(65,"div",21)(66,"p",22),o._uU(67,"CVV/CVC"),o.qZA(),o._UZ(68,"input",26),o.qZA()(),o.TgZ(69,"div",20)(70,"div",21)(71,"p",22),o._uU(72,"ZIP code"),o.qZA(),o._UZ(73,"input",27),o.qZA(),o.TgZ(74,"p",22),o._uU(75,"Country/Region"),o.qZA(),o.TgZ(76,"select",15)(77,"option",17),o._uU(78,"Georgia"),o.qZA(),o.TgZ(79,"option",18),o._uU(80,"Germany"),o.qZA(),o.TgZ(81,"option",18),o._uU(82,"Greece"),o.qZA()(),o._UZ(83,"br"),o.qZA()()()()(),o._UZ(84,"br"),o.TgZ(85,"span"),o._uU(86,"Enter a coupon"),o.qZA(),o._UZ(87,"hr"),o.TgZ(88,"div",28)(89,"h2")(90,"b"),o._uU(91,"Required for your trip"),o.qZA()(),o.TgZ(92,"div",0)(93,"h3"),o._uU(94,"Phone number"),o.qZA(),o.TgZ(95,"button",29),o._uU(96," Add "),o.qZA()(),o.TgZ(97,"div")(98,"h4"),o._uU(99),o.qZA()()(),o._UZ(100,"hr"),o.TgZ(101,"div",30)(102,"h2")(103,"b"),o._uU(104,"Cancellation policy"),o.qZA()(),o.TgZ(105,"a"),o._uU(106,"This reservation is non-refundable."),o.qZA(),o.TgZ(107,"span"),o._uU(108,"Learn more"),o.qZA()(),o._UZ(109,"hr"),o.TgZ(110,"div",31)(111,"small"),o._uU(112,"By selecting the button below, I agree to the "),o.TgZ(113,"span"),o._uU(114,"Host's House Rules, Ground rules for guests, Airbnb's Rebooking and Refund Policy,"),o.qZA(),o._uU(115," and that Airbnb can "),o.TgZ(116,"span"),o._uU(117,"charge my payment method"),o.qZA(),o._uU(118," if I\u2019m responsible for damage."),o.qZA(),o._UZ(119,"br"),o.TgZ(120,"small"),o._uU(121,"I also agree to the "),o.TgZ(122,"span",32),o._uU(123,"updated Terms of Service, Payments Terms of Service,"),o.qZA(),o._uU(124," and I acknowledge the "),o.TgZ(125,"span",32),o._uU(126,"Privacy Policy."),o.qZA()(),o._UZ(127,"br")(128,"br"),o.TgZ(129,"button",33),o.NdJ("click",function(){return i.onBtnClick()}),o._uU(130,"Confirm and pay"),o.qZA()()(),o.TgZ(131,"aside",34)(132,"div",35)(133,"div",36)(134,"div"),o._UZ(135,"img",37),o.qZA(),o.TgZ(136,"div",38)(137,"h5",39),o._uU(138),o.qZA(),o.TgZ(139,"h4"),o._uU(140),o.qZA(),o._UZ(141,"br"),o.TgZ(142,"div"),o._UZ(143,"fa-icon",40),o.TgZ(144,"a"),o._uU(145),o.qZA(),o.TgZ(146,"small"),o._uU(147,"(5 review)"),o.qZA()()()(),o.TgZ(148,"ul",41)(149,"li",42),o._uU(150," Your booking is protected by "),o.TgZ(151,"b")(152,"a",43),o._uU(153,"air"),o.qZA(),o._uU(154,"cover"),o.qZA()(),o.TgZ(155,"div",38)(156,"h2")(157,"b"),o._uU(158,"Price details"),o.qZA()(),o.TgZ(159,"div",44)(160,"p"),o._uU(161),o.qZA(),o.TgZ(162,"p"),o._uU(163),o.qZA()()()(),o.TgZ(164,"div",45)(165,"p")(166,"b"),o._uU(167,"Total"),o.TgZ(168,"span"),o._uU(169,"(USD)"),o.qZA()()(),o.TgZ(170,"p"),o._uU(171),o.qZA()()(),o._UZ(172,"br"),o.qZA()()(),o.TgZ(173,"form",46,47),o.NdJ("ngSubmit",function(){o.CHM(r);const l=o.MAs(174);return o.KtG(i.addPhoneNumber(l))}),o.TgZ(175,"article",48)(176,"div",49)(177,"div",50)(178,"div",51)(179,"div",52)(180,"h1",53),o._uU(181,"Add phone number"),o.qZA(),o._UZ(182,"button",54),o.qZA(),o.TgZ(183,"div",55)(184,"p"),o._uU(185,"We'll send you trip updates and a text to verify this number."),o.qZA(),o.TgZ(186,"div",56),o._UZ(187,"br"),o.TgZ(188,"select",57)(189,"option",17),o._uU(190,"Georgia"),o.qZA(),o.TgZ(191,"option",18),o._uU(192,"Germany"),o.qZA(),o.TgZ(193,"option",18),o._uU(194,"Greece"),o.qZA()(),o._UZ(195,"input",58),o.qZA(),o.TgZ(196,"div",59)(197,"button",60),o._uU(198,"Close"),o.qZA(),o.TgZ(199,"button",61,62),o._uU(201,"Save"),o.qZA()()()()()()()()}2&e&&(o.xp6(3),o.hYB("routerLink","/details/",i.reservedHotel.name,"/",i.reservedHotel.id,""),o.Q6J("icon",i.faArrowLeft),o.xp6(13),o.HOy("",i.reservedHotel.inMonth," ",i.reservedHotel.inDay," - ",i.reservedHotel.outMonth," ",i.reservedHotel.outDay," "),o.xp6(4),o.Oqu(i.reservedHotel.guests),o.xp6(79),o.Oqu(i.phoneNumber),o.xp6(33),o.Q6J("ngClass",i.userScroll?"fixed":"not-fixed"),o.xp6(3),o.Q6J("src",i.reservedHotel.img,o.LSH),o.xp6(3),o.Oqu(i.reservedHotel.type),o.xp6(2),o.hij("",i.reservedHotel.name," "),o.xp6(3),o.Q6J("icon",i.faStar),o.xp6(2),o.hij("",i.reservedHotel.star,".00"),o.xp6(16),o.AsE("$",i.reservedHotel.price," x ",i.reservedHotel.night," nights"),o.xp6(2),o.hij("$",i.reservedHotel.total,""),o.xp6(8),o.hij("$",i.reservedHotel.total,""))},dependencies:[Za,tn,Qa,o7,Oh,Ya,X2,T4,I4,ga,gc,mj],styles:["section[_ngcontent-%COMP%]{margin-top:150px;margin-left:150px;padding-bottom:150px}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;margin-left:20px;font-size:32px!important;line-height:36px!important;font-weight:600!important}section[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{border-radius:50%;padding:10px;text-align:center;text-decoration:none;display:inline-block;border:none;color:#000;font-size:26px;background-color:#fff}section[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ebebeb}section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;text-decoration:underline;font-weight:700}section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}section[_ngcontent-%COMP%]   .cancellation[_ngcontent-%COMP%]{margin:35px 0;width:650px}section[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{margin:35px 0}section[_ngcontent-%COMP%]   .blue-text[_ngcontent-%COMP%]{color:#00f}section[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]{color:#000}section[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{border-color:#000;border-width:1px!important;margin:0!important;text-align:center!important;height:35px;padding:1px 15px!important;width:60px!important}section[_ngcontent-%COMP%]   .btn-lg[_ngcontent-%COMP%]{cursor:pointer!important;border:none!important;background:linear-gradient(to right,rgb(230,30,77) 0%,rgb(227,28,95) 50%,rgb(215,4,102) 100%)!important;color:#fff!important;text-align:center!important;height:60px!important;width:200px!important;transition:opacity 1.25s;display:block}section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:12px}section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;height:120px;margin-left:30px;margin-top:30px;margin-bottom:30px;display:inline}section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:inherit}section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px!important;margin-top:14px!important;margin-right:60px!important}section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px!important}article[_ngcontent-%COMP%]   .modal-number[_ngcontent-%COMP%]{margin-top:100px}article[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{text-align:center;margin-left:150px}article[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{color:#ff385c!important}article[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-bottom:12px}article[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#ff385c!important;border:none}article[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:50px}article[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{border:none}.payment[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px;margin:2px}.paymentMethods[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .paymentMethods[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}h2[_ngcontent-%COMP%]{font-size:22px}.hide[_ngcontent-%COMP%]{display:none}.not-fixed[_ngcontent-%COMP%]{position:absolute;top:15%;right:24%}.fixed[_ngcontent-%COMP%]{position:fixed;top:120px;right:24%}"]}),n})();function IG(n){return new o.vHH(3e3,!1)}function Swe(){return typeof window<"u"&&typeof window.document<"u"}function UA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function xu(n){switch(n.length){case 0:return new Tm;case 1:return n[0];default:return new Uj(n)}}function kG(n,t,e,i,r=new Map,s=new Map){const l=[],d=[];let f=-1,v=null;if(i.forEach(b=>{const S=b.get("offset"),I=S==f,H=I&&v||new Map;b.forEach((N,j)=>{let J=j,De=N;if("offset"!==j)switch(J=t.normalizePropertyName(J,l),De){case"!":De=r.get(j);break;case E3:De=s.get(j);break;default:De=t.normalizeStyleValue(j,J,De,l)}H.set(J,De)}),I||d.push(H),v=H,f=S}),l.length)throw function hwe(n){return new o.vHH(3502,!1)}();return d}function jA(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&GA(e,"start",n)));break;case"done":n.onDone(()=>i(e&&GA(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&GA(e,"destroy",n)))}}function GA(n,t,e){const s=qA(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(s._data=l),s}function qA(n,t,e,i,r="",s=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function Ca(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function VG(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let $A=(n,t)=>!1,LG=(n,t,e)=>[],HG=null;function WA(n){const t=n.parentNode||n.host;return t===HG?null:t}(UA()||typeof Element<"u")&&(Swe()?(HG=(()=>document.documentElement)(),$A=(n,t)=>{for(;t;){if(t===n)return!0;t=WA(t)}return!1}):$A=(n,t)=>n.contains(t),LG=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let jd=null,zG=!1;const NG=$A,PG=LG;let OG=(()=>{class n{validateStyleProperty(e){return function xwe(n){jd||(jd=function Ewe(){return typeof document<"u"?document.body:null}()||{},zG=!!jd.style&&"WebkitAppearance"in jd.style);let t=!0;return jd.style&&!function Dwe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in jd.style,!t&&zG&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in jd.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return NG(e,i)}getParentElement(e){return WA(e)}query(e,i,r){return PG(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,l,d=[],f){return new Tm(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ZA=(()=>{class n{}return n.NOOP=new OG,n})();const YA="ng-enter",DC="ng-leave",xC="ng-trigger",EC=".ng-trigger",FG="ng-animating",KA=".ng-animating";function k3(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:QA(parseFloat(t[1]),t[2])}function QA(n,t){return"s"===t?1e3*n:n}function AC(n,t,e){return n.hasOwnProperty("duration")?n:function Iwe(n,t,e){let r,s=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(IG()),{duration:0,delay:0,easing:""};r=QA(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=QA(parseFloat(f),d[4]));const v=d[5];v&&(l=v)}else r=n;if(!e){let d=!1,f=t.length;r<0&&(t.push(function GMe(){return new o.vHH(3100,!1)}()),d=!0),s<0&&(t.push(function qMe(){return new o.vHH(3101,!1)}()),d=!0),d&&t.splice(f,0,IG())}return{duration:r,delay:s,easing:l}}(n,t,e)}function Vm(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function BG(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Eu(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function jG(n,t,e){return e?t+":"+e+";":""}function GG(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=jG(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=jG(0,Hwe(e),n.style[e]));n.setAttribute("style",t)}function Zc(n,t,e){n.style&&(t.forEach((i,r)=>{const s=JA(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),UA()&&GG(n))}function Gd(n,t){n.style&&(t.forEach((e,i)=>{const r=JA(i);n.style[r]=""}),UA()&&GG(n))}function Lm(n){return Array.isArray(n)?1==n.length?n[0]:Rj(n):n}const XA=new RegExp("{{\\s*(.+?)\\s*}}","g");function qG(n){let t=[];if("string"==typeof n){let e;for(;e=XA.exec(n);)t.push(e[1]);XA.lastIndex=0}return t}function Hm(n,t,e){const i=n.toString(),r=i.replace(XA,(s,l)=>{let d=t[l];return null==d&&(e.push(function WMe(n){return new o.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function TC(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Lwe=/-+([a-z0-9])/g;function JA(n){return n.replace(Lwe,(...t)=>t[1].toUpperCase())}function Hwe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ba(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function ZMe(n){return new o.vHH(3004,!1)}()}}function $G(n,t){return window.getComputedStyle(n)[t]}function Fwe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Bwe(n,t,e){if(":"==n[0]){const f=function Uwe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function cwe(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function awe(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],l=i[3];t.push(WG(r,l));"<"==s[0]&&!("*"==r&&"*"==l)&&t.push(WG(l,r))}(i,e,t)):e.push(n),e}const LC=new Set(["true","1"]),HC=new Set(["false","0"]);function WG(n,t){const e=LC.has(n)||HC.has(n),i=LC.has(t)||HC.has(t);return(r,s)=>{let l="*"==n||n==r,d="*"==t||t==s;return!l&&e&&"boolean"==typeof r&&(l=r?LC.has(n):HC.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?LC.has(t):HC.has(t)),l&&d}}const jwe=new RegExp("s*:selfs*,?","g");function eT(n,t,e,i){return new Gwe(n).build(t,e,i)}class Gwe{constructor(t){this._driver=t}build(t,e,i){const r=new Wwe(e);return this._resetContextStyleTimingState(r),ba(this,Lm(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function KMe(){return new o.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const f=d,v=f.name;v.toString().split(/\s*,\s*/).forEach(b=>{f.name=b,s.push(this.visitState(f,e))}),f.name=v}else if(1==d.type){const f=this.visitTransition(d,e);i+=f.queryCount,r+=f.depCount,l.push(f)}else e.errors.push(function QMe(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{qG(f).forEach(v=>{l.hasOwnProperty(v)||s.add(v)})})}),s.size&&(TC(s.values()),e.errors.push(function XMe(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ba(this,Lm(t.animation),e);return{type:1,matchers:Fwe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:qd(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ba(this,i,e)),options:qd(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(l=>{e.currentTime=i;const d=ba(this,l,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:qd(t.options)}}visitAnimate(t,e){const i=function Ywe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return tT(AC(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=tT(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=AC(e,t);return tT(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:bs({});if(5==s.type)r=this.visitKeyframes(s,e);else{let l=t.styles,d=!1;if(!l){d=!0;const v={};i.easing&&(v.easing=i.easing),l=bs(v)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(l,e);f.isEmptyStep=d,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===E3?i.push(d):e.errors.push(new o.vHH(3002,!1)):i.push(BG(d));let s=!1,l=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!s))for(let f of d.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,f)=>{const v=e.collectedStyles.get(e.currentQuerySelector),b=v.get(f);let S=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(e.errors.push(function ewe(n,t,e,i,r){return new o.vHH(3010,!1)}()),S=!1),s=b.startTime),S&&v.set(f,{startTime:s,endTime:r}),e.options&&function Vwe(n,t,e){const i=t.params||{},r=qG(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function $Me(n){return new o.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function twe(){return new o.vHH(3011,!1)}()),i;let s=0;const l=[];let d=!1,f=!1,v=0;const b=t.steps.map(De=>{const Pe=this._makeStyleAst(De,e);let Oe=null!=Pe.offset?Pe.offset:function Zwe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Pe.styles),je=0;return null!=Oe&&(s++,je=Pe.offset=Oe),f=f||je<0||je>1,d=d||je<v,v=je,l.push(je),Pe});f&&e.errors.push(function nwe(){return new o.vHH(3012,!1)}()),d&&e.errors.push(function iwe(){return new o.vHH(3200,!1)}());const S=t.steps.length;let I=0;s>0&&s<S?e.errors.push(function rwe(){return new o.vHH(3202,!1)}()):0==s&&(I=1/(S-1));const H=S-1,N=e.currentTime,j=e.currentAnimateTimings,J=j.duration;return b.forEach((De,Pe)=>{const Oe=I>0?Pe==H?1:I*Pe:l[Pe],je=Oe*J;e.currentTime=N+j.delay+je,j.duration=je,this._validateStyleAst(De,e),De.offset=Oe,i.styles.push(De)}),i}visitReference(t,e){return{type:8,animation:ba(this,Lm(t.animation),e),options:qd(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:qd(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:qd(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,l]=function qwe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(jwe,"")),n=n.replace(/@\*/g,EC).replace(/@\w+/g,e=>EC+"-"+e.slice(1)).replace(/:animating/g,KA),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ca(e.collectedStyles,e.currentQuerySelector,new Map);const d=ba(this,Lm(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:d,originalSelector:t.selector,options:qd(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function swe(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:AC(t.timings,e.errors,!0);return{type:12,animation:ba(this,Lm(t.animation),e),timings:i,options:null}}}class Wwe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qd(n){return n?(n=Vm(n)).params&&(n.params=function $we(n){return n?Vm(n):null}(n.params)):n={},n}function tT(n,t,e){return{duration:n,delay:t,easing:e}}function nT(n,t,e,i,r,s,l=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:d}}class zC{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Xwe=new RegExp(":enter","g"),eSe=new RegExp(":leave","g");function iT(n,t,e,i,r,s=new Map,l=new Map,d,f,v=[]){return(new tSe).buildKeyframes(n,t,e,i,r,s,l,d,f,v)}class tSe{buildKeyframes(t,e,i,r,s,l,d,f,v,b=[]){v=v||new zC;const S=new rT(t,e,v,r,s,b,[]);S.options=f;const I=f.delay?k3(f.delay):0;S.currentTimeline.delayNextStep(I),S.currentTimeline.setStyles([l],null,S.errors,f),ba(this,i,S);const H=S.timelines.filter(N=>N.containsAnimation());if(H.length&&d.size){let N;for(let j=H.length-1;j>=0;j--){const J=H[j];if(J.element===e){N=J;break}}N&&!N.allowOnlyTimelineStyles()&&N.setStyles([d],null,S.errors,f)}return H.length?H.map(N=>N.buildKeyframes()):[nT(e,[],[],[],0,I,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const l="number"==typeof s?s:k3(Hm(s,r?.params??{},e.errors));i.delayNextStep(l)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const l=null!=i.duration?k3(i.duration):null,d=null!=i.delay?k3(i.delay):null;return 0!==l&&t.forEach(f=>{const v=e.appendInstructionToTimeline(f,l,d);s=Math.max(s,v.duration+v.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ba(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=NC);const l=k3(s.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>ba(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?k3(t.options.delay):0;t.steps.forEach(l=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),ba(this,l,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return AC(e.params?Hm(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?k3(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=NC);let l=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let f=null;d.forEach((v,b)=>{e.currentQueryIndex=b;const S=e.createSubContext(t.options,v);s&&S.delayNextStep(s),v===e.element&&(f=S.currentTimeline),ba(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,l=Math.abs(s.duration),d=l*(e.currentQueryTotal-1);let f=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const b=e.currentTimeline;f&&b.delayNextStep(f);const S=b.currentTime;ba(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const NC={};class rT{constructor(t,e,i,r,s,l,d,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=NC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new PC(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=k3(i.duration)),null!=i.delay&&(r.delay=k3(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!l.hasOwnProperty(d))&&(l[d]=Hm(s[d],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new rT(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=NC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new nSe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,l){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(Xwe,"."+this._enterClassName)).replace(eSe,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),d.push(...v)}return!s&&0==d.length&&l.push(function owe(n){return new o.vHH(3014,!1)}()),d}}class PC{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new PC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||E3),this._currentKeyframe.set(e,E3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},l=function iSe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,E3)}else Eu(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,f]of l){const v=Hm(f,s,i);this._pendingStyles.set(d,v),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??E3),this._updateStyle(d,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const v=Eu(d,new Map,this._backFill);v.forEach((b,S)=>{"!"===b?t.add(S):b===E3&&e.add(S)}),i||v.set("offset",f/this.duration),r.push(v)});const s=t.size?TC(t.values()):[],l=e.size?TC(e.values()):[];if(i){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return nT(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class nSe extends PC{constructor(t,e,i,r,s,l,d=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=i+e,d=e/l,f=Eu(t[0]);f.set("offset",0),s.push(f);const v=Eu(t[0]);v.set("offset",KG(d)),s.push(v);const b=t.length-1;for(let S=1;S<=b;S++){let I=Eu(t[S]);const H=I.get("offset");I.set("offset",KG((e+H*i)/l)),s.push(I)}i=l,e=0,r="",t=s}return nT(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function KG(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class sT{}const rSe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sSe extends sT{normalizePropertyName(t,e){return JA(t)}normalizeStyleValue(t,e,i,r){let s="";const l=i.toString().trim();if(rSe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function YMe(n,t){return new o.vHH(3005,!1)}())}return l+s}}function QG(n,t,e,i,r,s,l,d,f,v,b,S,I){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:l,timelines:d,queriedElements:f,preStyleProps:v,postStyleProps:b,totalTime:S,errors:I}}const oT={};class XG{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function oSe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,l,d,f,v,b){const S=[],I=this.ast.options&&this.ast.options.params||oT,N=this.buildStyles(i,d&&d.params||oT,S),j=f&&f.params||oT,J=this.buildStyles(r,j,S),De=new Set,Pe=new Map,Oe=new Map,je="void"===r,rt={params:aSe(j,I),delay:this.ast.options?.delay},mt=b?[]:iT(t,e,this.ast.animation,s,l,N,J,rt,v,S);let qt=0;if(mt.forEach(nr=>{qt=Math.max(nr.duration+nr.delay,qt)}),S.length)return QG(e,this._triggerName,i,r,je,N,J,[],[],Pe,Oe,qt,S);mt.forEach(nr=>{const y1=nr.element,CZ=Ca(Pe,y1,new Set);nr.preStyleProps.forEach(s0=>CZ.add(s0));const mg=Ca(Oe,y1,new Set);nr.postStyleProps.forEach(s0=>mg.add(s0)),y1!==e&&De.add(y1)});const wi=TC(De.values());return QG(e,this._triggerName,i,r,je,N,J,mt,wi,Pe,Oe,qt)}}function aSe(n,t){const e=Vm(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class cSe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Vm(this.defaultParams);return Object.keys(t).forEach(s=>{const l=t[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,d)=>{l&&(l=Hm(l,r,e));const f=this.normalizer.normalizePropertyName(d,e);l=this.normalizer.normalizeStyleValue(d,f,l,e),i.set(f,l)})}),i}}class uSe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new cSe(r.style,r.options&&r.options.params||{},i))}),JG(this.states,"true","1"),JG(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new XG(t,r,this.states))}),this.fallbackTransition=function dSe(n,t,e){return new XG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function JG(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const hSe=new zC;class fSe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=eT(this._driver,e,i,[]);if(i.length)throw function fwe(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=kG(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let l;const d=new Map;if(s?(l=iT(this._driver,e,s,YA,DC,new Map,new Map,i,hSe,r),l.forEach(b=>{const S=Ca(d,b.element,new Map);b.postStyleProps.forEach(I=>S.set(I,null))})):(r.push(function pwe(){return new o.vHH(3300,!1)}()),l=[]),r.length)throw function mwe(n){return new o.vHH(3504,!1)}();d.forEach((b,S)=>{b.forEach((I,H)=>{b.set(H,this._driver.computeStyle(S,H,E3))})});const v=xu(l.map(b=>{const S=d.get(b.element);return this._buildPlayer(b,new Map,S)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function gwe(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=qA(e,"","","");return jA(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const eq="ng-animate-queued",aT="ng-animate-disabled",vSe=[],tq={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ySe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},s2="__ng_removed";class cT{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function wSe(n){return n??null}(i?t.value:t),i){const s=Vm(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const zm="void",lT=new cT(zm);class CSe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,o2(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function _we(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function vwe(n){return new o.vHH(3303,!1)}();if(!function SSe(n){return"start"==n||"done"==n}(i))throw function ywe(n,t){return new o.vHH(3400,!1)}();const s=Ca(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};s.push(l);const d=Ca(this._engine.statesByElement,t,new Map);return d.has(e)||(o2(t,xC),o2(t,xC+"-"+e),d.set(e,lT)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(l);f>=0&&s.splice(f,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Cwe(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),l=new uT(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(o2(t,xC),o2(t,xC+"-"+e),this._engine.statesByElement.set(t,d=new Map));let f=d.get(e);const v=new cT(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&v.absorbOptions(f.options),d.set(e,v),f||(f=lT),v.value!==zm&&f.value===v.value){if(!function ESe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(f.params,v.params)){const j=[],J=s.matchStyles(f.value,f.params,j),De=s.matchStyles(v.value,v.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Gd(t,J),Zc(t,De)})}return}const I=Ca(this._engine.playersByElement,t,[]);I.forEach(j=>{j.namespaceId==this.id&&j.triggerName==e&&j.queued&&j.destroy()});let H=s.matchTransition(f.value,v.value,t,v.params),N=!1;if(!H){if(!r)return;H=s.fallbackTransition,N=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:H,fromState:f,toState:v,player:l,isFallbackTransition:N}),N||(o2(t,eq),l.onStart(()=>{S8(t,eq)})),l.onDone(()=>{let j=this.players.indexOf(l);j>=0&&this.players.splice(j,1);const J=this._engine.playersByElement.get(t);if(J){let De=J.indexOf(l);De>=0&&J.splice(De,1)}}),this.players.push(l),I.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,EC,!0);i.forEach(r=>{if(r[s2])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),l=new Map;if(s){const d=[];if(s.forEach((f,v)=>{if(l.set(v,f.value),this._triggers.has(v)){const b=this.trigger(t,v,zm,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),i&&xu(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const f=this._triggers.get(l).fallbackTransition,v=i.get(l)||lT,b=new cT(zm),S=new uT(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:f,fromState:v,toState:b,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[s2];(!s||s===tq)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){o2(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(d=>{if(d.name==i.triggerName){const f=qA(s,i.triggerName,i.fromState.value,i.toState.value);f._data=t,jA(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class bSe{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new CSe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,d=this.driver.getParentElement(e);for(;d;){const f=r.get(d);if(f){const v=i.indexOf(f);i.splice(v+1,0,t),l=!0;break}d=this.driver.getParentElement(d)}l||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(OC(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!OC(e))return;const s=e[s2];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),o2(t,aT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),S8(t,aT))}removeNode(t,e,i,r){if(OC(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[s2]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return OC(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,EC,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,KA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return xu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[s2];if(e&&e.setForRemoval){if(t[s2]=tq,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(aT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)o2(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?xu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function bwe(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new zC,r=[],s=new Map,l=[],d=new Map,f=new Map,v=new Map,b=new Set;this.disabledNodes.forEach(wt=>{b.add(wt);const Ht=this.driver.query(wt,".ng-animate-queued",!0);for(let Ut=0;Ut<Ht.length;Ut++)b.add(Ht[Ut])});const S=this.bodyNode,I=Array.from(this.statesByElement.keys()),H=rq(I,this.collectedEnterElements),N=new Map;let j=0;H.forEach((wt,Ht)=>{const Ut=YA+j++;N.set(Ht,Ut),wt.forEach(In=>o2(In,Ut))});const J=[],De=new Set,Pe=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Ht=this.collectedLeaveElements[wt],Ut=Ht[s2];Ut&&Ut.setForRemoval&&(J.push(Ht),De.add(Ht),Ut.hasAnimation?this.driver.query(Ht,".ng-star-inserted",!0).forEach(In=>De.add(In)):Pe.add(Ht))}const Oe=new Map,je=rq(I,Array.from(De));je.forEach((wt,Ht)=>{const Ut=DC+j++;Oe.set(Ht,Ut),wt.forEach(In=>o2(In,Ut))}),t.push(()=>{H.forEach((wt,Ht)=>{const Ut=N.get(Ht);wt.forEach(In=>S8(In,Ut))}),je.forEach((wt,Ht)=>{const Ut=Oe.get(Ht);wt.forEach(In=>S8(In,Ut))}),J.forEach(wt=>{this.processLeaveNode(wt)})});const rt=[],mt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(e).forEach(Ut=>{const In=Ut.player,is=Ut.element;if(rt.push(In),this.collectedEnterElements.length){const Ps=is[s2];if(Ps&&Ps.setForMove){if(Ps.previousTriggersValues&&Ps.previousTriggersValues.has(Ut.triggerName)){const o0=Ps.previousTriggersValues.get(Ut.triggerName),d2=this.statesByElement.get(Ut.element);if(d2&&d2.has(Ut.triggerName)){const Tb=d2.get(Ut.triggerName);Tb.value=o0,d2.set(Ut.triggerName,Tb)}}return void In.destroy()}}const tl=!S||!this.driver.containsElement(S,is),Da=Oe.get(is),Fu=N.get(is),Zi=this._buildInstruction(Ut,i,Fu,Da,tl);if(Zi.errors&&Zi.errors.length)return void mt.push(Zi);if(tl)return In.onStart(()=>Gd(is,Zi.fromStyles)),In.onDestroy(()=>Zc(is,Zi.toStyles)),void r.push(In);if(Ut.isFallbackTransition)return In.onStart(()=>Gd(is,Zi.fromStyles)),In.onDestroy(()=>Zc(is,Zi.toStyles)),void r.push(In);const wZ=[];Zi.timelines.forEach(Ps=>{Ps.stretchStartingKeyframe=!0,this.disabledNodes.has(Ps.element)||wZ.push(Ps)}),Zi.timelines=wZ,i.append(is,Zi.timelines),l.push({instruction:Zi,player:In,element:is}),Zi.queriedElements.forEach(Ps=>Ca(d,Ps,[]).push(In)),Zi.preStyleProps.forEach((Ps,o0)=>{if(Ps.size){let d2=f.get(o0);d2||f.set(o0,d2=new Set),Ps.forEach((Tb,LI)=>d2.add(LI))}}),Zi.postStyleProps.forEach((Ps,o0)=>{let d2=v.get(o0);d2||v.set(o0,d2=new Set),Ps.forEach((Tb,LI)=>d2.add(LI))})});if(mt.length){const wt=[];mt.forEach(Ht=>{wt.push(function Mwe(n,t){return new o.vHH(3505,!1)}())}),rt.forEach(Ht=>Ht.destroy()),this.reportError(wt)}const qt=new Map,wi=new Map;l.forEach(wt=>{const Ht=wt.element;i.has(Ht)&&(wi.set(Ht,Ht),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,qt))}),r.forEach(wt=>{const Ht=wt.element;this._getPreviousPlayers(Ht,!1,wt.namespaceId,wt.triggerName,null).forEach(In=>{Ca(qt,Ht,[]).push(In),In.destroy()})});const nr=J.filter(wt=>oq(wt,f,v)),y1=new Map;iq(y1,this.driver,Pe,v,E3).forEach(wt=>{oq(wt,f,v)&&nr.push(wt)});const mg=new Map;H.forEach((wt,Ht)=>{iq(mg,this.driver,new Set(wt),f,"!")}),nr.forEach(wt=>{const Ht=y1.get(wt),Ut=mg.get(wt);y1.set(wt,new Map([...Array.from(Ht?.entries()??[]),...Array.from(Ut?.entries()??[])]))});const s0=[],bZ=[],MZ={};l.forEach(wt=>{const{element:Ht,player:Ut,instruction:In}=wt;if(i.has(Ht)){if(b.has(Ht))return Ut.onDestroy(()=>Zc(Ht,In.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(In.totalTime),void r.push(Ut);let is=MZ;if(wi.size>1){let Da=Ht;const Fu=[];for(;Da=Da.parentNode;){const Zi=wi.get(Da);if(Zi){is=Zi;break}Fu.push(Da)}Fu.forEach(Zi=>wi.set(Zi,is))}const tl=this._buildAnimation(Ut.namespaceId,In,qt,s,mg,y1);if(Ut.setRealPlayer(tl),is===MZ)s0.push(Ut);else{const Da=this.playersByElement.get(is);Da&&Da.length&&(Ut.parentPlayer=xu(Da)),r.push(Ut)}}else Gd(Ht,In.fromStyles),Ut.onDestroy(()=>Zc(Ht,In.toStyles)),bZ.push(Ut),b.has(Ht)&&r.push(Ut)}),bZ.forEach(wt=>{const Ht=s.get(wt.element);if(Ht&&Ht.length){const Ut=xu(Ht);wt.setRealPlayer(Ut)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<J.length;wt++){const Ht=J[wt],Ut=Ht[s2];if(S8(Ht,DC),Ut&&Ut.hasAnimation)continue;let In=[];if(d.size){let tl=d.get(Ht);tl&&tl.length&&In.push(...tl);let Da=this.driver.query(Ht,KA,!0);for(let Fu=0;Fu<Da.length;Fu++){let Zi=d.get(Da[Fu]);Zi&&Zi.length&&In.push(...Zi)}}const is=In.filter(tl=>!tl.destroyed);is.length?DSe(this,Ht,is):this.processLeaveNode(Ht)}return J.length=0,s0.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Ht=this.players.indexOf(wt);this.players.splice(Ht,1)}),wt.play()}),s0}elementContainsData(t,e){let i=!1;const r=e[s2];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let l=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(l=d)}else{const d=this.playersByElement.get(t);if(d){const f=!s||s==zm;d.forEach(v=>{v.queued||!f&&v.triggerName!=r||l.push(v)})}}return(i||r)&&(l=l.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),l}_beforeAnimationBuild(t,e,i){const s=e.element,l=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const v=f.element,b=v!==s,S=Ca(i,v,[]);this._getPreviousPlayers(v,b,l,d,e.toState).forEach(H=>{const N=H.getRealPlayer();N.beforeDestroy&&N.beforeDestroy(),H.destroy(),S.push(H)})}Gd(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,l){const d=e.triggerName,f=e.element,v=[],b=new Set,S=new Set,I=e.timelines.map(N=>{const j=N.element;b.add(j);const J=j[s2];if(J&&J.removedBeforeQueried)return new Tm(N.duration,N.delay);const De=j!==f,Pe=function xSe(n){const t=[];return sq(n,t),t}((i.get(j)||vSe).map(qt=>qt.getRealPlayer())).filter(qt=>!!qt.element&&qt.element===j),Oe=s.get(j),je=l.get(j),rt=kG(0,this._normalizer,0,N.keyframes,Oe,je),mt=this._buildPlayer(N,rt,Pe);if(N.subTimeline&&r&&S.add(j),De){const qt=new uT(t,d,j);qt.setRealPlayer(mt),v.push(qt)}return mt});v.forEach(N=>{Ca(this.playersByQueriedElement,N.element,[]).push(N),N.onDone(()=>function MSe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,N.element,N))}),b.forEach(N=>o2(N,FG));const H=xu(I);return H.onDestroy(()=>{b.forEach(N=>S8(N,FG)),Zc(f,e.toStyles)}),S.forEach(N=>{Ca(r,N,[]).push(H)}),H}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Tm(t.duration,t.delay)}}class uT{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Tm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>jA(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ca(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function OC(n){return n&&1===n.nodeType}function nq(n,t){const e=n.style.display;return n.style.display=t??"none",e}function iq(n,t,e,i,r){const s=[];e.forEach(f=>s.push(nq(f)));const l=[];i.forEach((f,v)=>{const b=new Map;f.forEach(S=>{const I=t.computeStyle(v,S,r);b.set(S,I),(!I||0==I.length)&&(v[s2]=ySe,l.push(v))}),n.set(v,b)});let d=0;return e.forEach(f=>nq(f,s[d++])),l}function rq(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function l(d){if(!d)return 1;let f=s.get(d);if(f)return f;const v=d.parentNode;return f=e.has(v)?v:r.has(v)?1:l(v),s.set(d,f),f}return t.forEach(d=>{const f=l(d);1!==f&&e.get(f).push(d)}),e}function o2(n,t){n.classList?.add(t)}function S8(n,t){n.classList?.remove(t)}function DSe(n,t,e){xu(e).onDone(()=>n.processLeaveNode(t))}function sq(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Uj?sq(i.players,t):t.push(i)}}function oq(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class RC{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new bSe(t,e,i),this._timelineEngine=new fSe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const l=t+"-"+r;let d=this._triggerCache[l];if(!d){const f=[],b=eT(this._driver,s,f,[]);if(f.length)throw function dwe(n,t){return new o.vHH(3404,!1)}();d=function lSe(n,t,e){return new uSe(n,t,e)}(r,b,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,l]=VG(i);this._timelineEngine.command(s,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[l,d]=VG(i);return this._timelineEngine.listen(l,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let TSe=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zc(this._element,this._initialStyles),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gd(this._element,this._endStyles),this._endStyles=null),Zc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function dT(n){let t=null;return n.forEach((e,i)=>{(function ISe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class aq{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:$G(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class kSe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return NG(t,e)}getParentElement(t){return WA(t)}query(t,e,i){return PG(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,l=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const v=new Map,b=l.filter(H=>H instanceof aq);(function zwe(n,t){return 0===n||0===t})(i,r)&&b.forEach(H=>{H.currentSnapshot.forEach((N,j)=>v.set(j,N))});let S=function kwe(n){return n.length?n[0]instanceof Map?n:n.map(t=>BG(t)):[]}(e).map(H=>Eu(H));S=function Nwe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<t.length;s++){let l=t[s];r.forEach(d=>l.set(d,$G(n,d)))}}return t}(t,S,v);const I=function ASe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=dT(t[0]),t.length>1&&(i=dT(t[t.length-1]))):t instanceof Map&&(e=dT(t)),e||i?new TSe(n,e,i):null}(t,S);return new aq(t,S,f,I)}}let VSe=(()=>{class n extends Oj{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Rj(e):e;return cq(this._renderer,null,i,"register",[r]),new LSe(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class LSe extends class Zye{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new HSe(this._id,t,e||{},this._renderer)}}class HSe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return cq(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cq(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const lq="@.disabled";let zSe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{const d=l?.parentNode(s);d&&l.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new uq("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const l=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const f=b=>{Array.isArray(b)?b.forEach(f):this.engine.registerTrigger(l,d,e,b.name,b)};return i.data.animation.forEach(f),new NSe(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,d]=s;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(RC),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class uq{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==lq?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class NSe extends uq{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==lq?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function PSe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function OSe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let RSe=(()=>{class n extends RC{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae),o.LFG(ZA),o.LFG(sT),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const dq=[{provide:Oj,useClass:VSe},{provide:sT,useFactory:function FSe(){return new sSe}},{provide:RC,useClass:RSe},{provide:o.FYo,useFactory:function BSe(n,t,e){return new zSe(n,t,e)},deps:[Jo,RC,o.R0b]}],hT=[{provide:ZA,useFactory:()=>new kSe},{provide:o.QbO,useValue:"BrowserAnimations"},...dq],hq=[{provide:ZA,useClass:OG},{provide:o.QbO,useValue:"NoopAnimations"},...dq];let fq=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?hq:hT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:hT,imports:[Z1]}),n})(),USe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-error"]],decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"div"),o._UZ(1,"p"),o.qZA())},styles:["div[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding-top:70px}p[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;width:50%;background-image:url(/assets/images/error.gif);height:1000px}"]}),n})();const WSe={provide:new o.OlP("mat-select-scroll-strategy"),deps:[Am],useFactory:function $Se(n){return()=>n.scrollStrategies.reposition()}};let ZSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[WSe],imports:[xs,Nj,mU,Po,gC,_C,mU,Po]}),n})();const YSe=[{path:"",component:FMe},{path:"account-pg",component:uH},{path:"host-pg/:checkIn/:checkOut",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-host-pg"]],decls:34,vars:0,consts:[[1,"container-1"],[1,"container-2"],[1,"container-3"],[1,"container-4"],["for",""],["cols","78","rows","6"]],template:function(e,i){1&e&&(o.TgZ(0,"section"),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"Most travelers ask about"),o.qZA(),o.TgZ(4,"div",0)(5,"h1"),o._uU(6,"Getting there"),o.qZA(),o.TgZ(7,"ul")(8,"li"),o._uU(9,"Free parking on the premises."),o.qZA(),o.TgZ(10,"li"),o._uU(11,"Check-in time for this home starts at 1:00 PM and checkout is at 11:00 AM."),o.qZA()()(),o.TgZ(12,"div",1)(13,"h1"),o._uU(14,"House details and rules"),o.qZA(),o.TgZ(15,"ul")(16,"li"),o._uU(17,"No parties or events."),o.qZA()()(),o.TgZ(18,"div",2)(19,"h1"),o._uU(20,"Price and availability"),o.qZA(),o.TgZ(21,"ul")(22,"li"),o._uU(23,"Made\u2019s home is available from Jan 24 \u2013 29. Book soon."),o.qZA(),o.TgZ(24,"li"),o._uU(25,"Full refund within limited period"),o.qZA()()(),o._UZ(26,"hr"),o.TgZ(27,"div",3)(28,"h2"),o._uU(29,"Still have questions? Message the Host"),o.qZA(),o._UZ(30,"label",4)(31,"textarea",5),o.qZA(),o.TgZ(32,"button"),o._uU(33,"Send message"),o.qZA()())},styles:["hr[_ngcontent-%COMP%]:nth-child(1){margin-top:203px}hr[_ngcontent-%COMP%]{width:643px;margin-left:160px}p[_ngcontent-%COMP%]{font-family:Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;color:inherit!important;font-size:24px;margin-left:160px;font-size:32px;margin-top:30px;font-weight:500;letter-spacing:1px}.container-1[_ngcontent-%COMP%]{margin-left:160px}h1[_ngcontent-%COMP%]{font-size:20px;font-weight:var(--jx-zk-pv);font-family:Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;font-weight:500;letter-spacing:.5px;margin-top:40px}li[_ngcontent-%COMP%]{font-family:Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;font-size:16px;font-weight:300}.container-2[_ngcontent-%COMP%], .container-3[_ngcontent-%COMP%]{margin-left:160px}ul[_ngcontent-%COMP%]{margin-bottom:40px}.container-4[_ngcontent-%COMP%]{margin-left:160px}h2[_ngcontent-%COMP%]{font-family:Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;font-size:33px;margin-top:25px}textarea[_ngcontent-%COMP%]{border-radius:8px;margin-top:20px}button[_ngcontent-%COMP%]{margin-left:160px;width:166px;height:50px;border-radius:7px;background-color:#fff;font-family:Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;font-size:16px;font-weight:500;margin-top:20px;border:1px solid black}"]}),n})()},{path:"details/:name/:id",component:Wbe},{path:"ordered",component:jMe},{path:"ordered-payment",component:(()=>{class n{constructor(e,i){this.actRoute=e,this.router=i,this.actRoute.queryParams.subscribe(r=>{this.reservedHotel=r,console.log(r)})}onBtnClick(){this.router.navigate(["./ordered-history"],{queryParams:{price:this.reservedHotel.price,img:this.reservedHotel.img,id:this.reservedHotel.id,name:this.reservedHotel.name,inMonth:this.reservedHotel.inMonth,inDay:this.reservedHotel.inDay,outMonth:this.reservedHotel.outMonth,outDay:this.reservedHotel.outDay}})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qr),o.Y36(ei))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-ordered-payment"]],decls:19,vars:0,consts:[[1,"image","col-12","d-flex","justify-content-between"],["id","image-tbc","src","https://upload.wikimedia.org/wikipedia/en/thumb/e/e2/TBC_Bank_logo.svg/833px-TBC_Bank_logo.svg.png?20191209200336"],["id","image-mastercard","src","https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Mastercard-logo.svg/1158px-Mastercard-logo.svg.png?20210817144358"],[1,"form-group"],["for","exampleInputNumber"],["type","number","id","exampleInputNumber","placeholder"," - - - - - - ",1,"form-control"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-light"]],template:function(e,i){1&e&&(o.TgZ(0,"section")(1,"article")(2,"div",0),o._UZ(3,"img",1)(4,"img",2),o.qZA(),o.TgZ(5,"h3"),o._uU(6,"\u10d3\u10d0\u10d3\u10d0\u10e1\u10e2\u10e3\u10e0\u10d4\u10d1\u10d0 / Confirnmation"),o.qZA(),o._UZ(7,"hr"),o.TgZ(8,"div")(9,"div",3)(10,"label",4),o._uU(11,"\u10e8\u10d4\u10d8\u10e7\u10d5\u10d0\u10dc\u10d4\u10d7 \u10e1\u10db\u10e1 \u10d9\u10dd\u10d3\u10d8 / Enter SMS code:"),o.qZA(),o._UZ(12,"input",5),o.qZA()(),o.TgZ(13,"div")(14,"button",6),o.NdJ("click",function(){return i.onBtnClick()}),o._uU(15,"\u10d3\u10d0\u10d3\u10d0\u10e1\u10e2\u10e3\u10e0\u10d4\u10d1\u10d0/Verify"),o.qZA(),o.TgZ(16,"button",7),o._uU(17,"\u10d9\u10dd\u10d3\u10d8\u10e1 \u10ee\u10d4\u10da\u10d0\u10ee\u10da\u10d0 \u10d2\u10d0\u10d2\u10d6\u10d0\u10d5\u10dc\u10d0 / Resend Code"),o.qZA()(),o._UZ(18,"br"),o.qZA()())},styles:["section[_ngcontent-%COMP%]{margin-left:560px;margin-top:200px;height:400px;width:400px;text-align:center}section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#0b0bb8;padding-top:10px}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{border:1px solid;box-shadow:1px 1px 7px 1px;border-color:#ddd;padding:20px}section[_ngcontent-%COMP%]   #image-tbc[_ngcontent-%COMP%]{height:50px}section[_ngcontent-%COMP%]   #image-mastercard[_ngcontent-%COMP%]{height:45px;padding-top:10px}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;width:358px}section[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{border:1px solid #ced4da}section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:20px;text-align:center}"]}),n})()},{path:"ordered-history",component:BMe},{path:"profile",component:(()=>{class n{constructor(e){this.router=e,this.router.queryParams.subscribe(i=>{this.userInfo=i,console.log(i)})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-profile"]],decls:22,vars:2,consts:[[1,"account"],[1,"account1"],[1,"arrow"],[1,"personal"],[1,"legal"],[1,"cont-1"]],template:function(e,i){1&e&&(o.TgZ(0,"section")(1,"div",0)(2,"span",1),o._uU(3,"Account"),o.qZA(),o.TgZ(4,"span",2),o._uU(5,">"),o.qZA(),o.TgZ(6,"span",3),o._uU(7,"Personal info"),o.qZA(),o.TgZ(8,"h1"),o._uU(9,"Personal Info"),o.qZA()(),o.TgZ(10,"div",4)(11,"div",5)(12,"h2"),o._uU(13,"Firstname"),o.qZA(),o.TgZ(14,"h3"),o._uU(15),o.qZA()()(),o.TgZ(16,"div",4)(17,"div",5)(18,"h2"),o._uU(19,"Email address"),o.qZA(),o.TgZ(20,"h3"),o._uU(21),o.qZA()()()()),2&e&&(o.xp6(15),o.Oqu(i.userInfo.firstName),o.xp6(6),o.Oqu(i.userInfo.email))},styles:[".account[_ngcontent-%COMP%]{margin-left:190px;margin-top:160px}.account1[_ngcontent-%COMP%]:hover{font-family:var(--font-font_family, Circular, -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, sans-serif)!important;font-weight:500;color:#484848;cursor:pointer;text-decoration:underline!important}.arrow[_ngcontent-%COMP%]{margin-left:20px;font-size:initial;opacity:.7}.personal[_ngcontent-%COMP%]{margin-left:20px;font-family:var(--font-font_family, Circular, -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, sans-serif)!important;font-weight:500;color:#484848}h1[_ngcontent-%COMP%]{font-family:Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif!important;font-size:32px;font-weight:600;line-height:1.125em!important;color:#484848;margin-left:1px;margin-top:10px;letter-spacing:1px}.legal[_ngcontent-%COMP%]{margin-left:190px;margin-top:75px;display:flex}h2[_ngcontent-%COMP%]{font-family:Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;font-size:17px;color:#484848;font-weight:inherit!important;line-height:inherit!important}.edit[_ngcontent-%COMP%]{margin-left:494px;color:#222!important;text-decoration:underline!important;font-weight:600;cursor:pointer;font-size:15px}h3[_ngcontent-%COMP%]{margin-left:190px;font-size:14px;line-height:18px!important;word-break:break-word!important;font-family:Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif!important;color:#717171!important}.cont-1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-left:0}#id-2[_ngcontent-%COMP%]{margin-left:484px}#id-3[_ngcontent-%COMP%]{margin-left:480px}#id-4[_ngcontent-%COMP%]{margin-left:490px}#id-5[_ngcontent-%COMP%]{margin-left:517px}#id-6[_ngcontent-%COMP%]{margin-left:455px}"]}),n})()},{path:"**",component:USe}];let KSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[sh.forRoot(YSe),__e,AMe,fq,Ki,d7,hA,hbe,Pj,_C,a_e,ACe,ZSe,yG]}),n})();const mq="firebasestorage.googleapis.com",gq="storageBucket";class $i extends P.ZR{constructor(t,e,i=0){super(fT(t),`Firebase Storage: ${e} (${fT(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$i.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return fT(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function fT(n){return"storage/"+n}function pT(){return new $i("unknown","An unknown error occurred, please check the error payload for server response.")}function _q(){return new $i("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function vq(){return new $i("canceled","User canceled the upload/download.")}function yq(){return new $i("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function D8(n){return new $i("invalid-argument",n)}function Cq(){return new $i("app-deleted","The Firebase app was deleted.")}function bq(n){return new $i("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nm(n,t){return new $i("invalid-format","String does not match format '"+n+"': "+t)}function Pm(n){throw new $i("internal-error","Internal error: "+n)}class zs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=zs.makeFromUrl(t,e)}catch{return new zs(t,"")}if(""===i.path)return i;throw function oDe(n){return new $i("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(je){je.path_=decodeURIComponent(je.path)}const S=e.replace(/[.]/g,"\\."),Oe=[{regex:d,indices:{bucket:1,path:3},postModify:function s(je){"/"===je.path.charAt(je.path.length-1)&&(je.path_=je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${e===mq?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let je=0;je<Oe.length;je++){const rt=Oe[je],mt=rt.regex.exec(t);if(mt){let wi=mt[rt.indices.path];wi||(wi=""),i=new zs(mt[rt.indices.bucket],wi),rt.postModify(i);break}}if(null==i)throw function sDe(n){return new $i("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class dDe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function BC(n){return"string"==typeof n||n instanceof String}function Mq(n){return mT()&&n instanceof Blob}function mT(){return typeof Blob<"u"&&!(0,P.UG)()}function gT(n,t,e,i){if(i<t)throw D8(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw D8(`Invalid value for '${n}'. Expected ${e} or less.`)}function V3(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function wq(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Au=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Au||(Au={})),Au))();function Sq(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class _De{constructor(t,e,i,r,s,l,d,f,v,b,S,I=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=S,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,N)=>{this.resolve_=H,this.reject_=N,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,l=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function pDe(n){return void 0!==n}(f)?s():s(f)}catch(f){l(f)}else if(null!==d){const f=pT();f.serverResponse=d.getErrorText(),l(this.errorCallback_?this.errorCallback_(d,f):f)}else l(r.canceled?this.appDelete_?Cq():vq():_q())};this.canceled_?e(0,new UC(!1,null,!0)):this.backoffId_=function hDe(n,t,e){let i=1,r=null,s=null,l=!1,d=0;function f(){return 2===d}let v=!1;function b(...J){v||(v=!0,t.apply(null,J))}function S(J){r=setTimeout(()=>{r=null,n(H,f())},J)}function I(){s&&clearTimeout(s)}function H(J,...De){if(v)return void I();if(J)return I(),void b.call(null,J,...De);if(f()||l)return I(),void b.call(null,J,...De);let Oe;i<64&&(i*=2),1===d?(d=2,Oe=0):Oe=1e3*(i+Math.random()),S(Oe)}let N=!1;function j(J){N||(N=!0,I(),!v&&(null!==r?(J||(d=2),clearTimeout(r),S(0)):J||(d=1)))}return S(0),s=setTimeout(()=>{l=!0,j(!0)},e),j}((i,r)=>{if(r)return void i(!1,new UC(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const d=s.getErrorCode()===Au.NO_ERROR,f=s.getStatus();if((!d||Sq(f,this.additionalRetryCodes_))&&this.retry){const b=s.getErrorCode()===Au.ABORT;return void i(!1,new UC(!1,null,b))}const v=-1!==this.successCodes_.indexOf(f);i(!0,new UC(v,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function fDe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class UC{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function SDe(...n){const t=function wDe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(mT())return new Blob(n);throw new $i("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ma={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _T{constructor(t,e){this.data=t,this.contentType=e||null}}function vT(n,t){switch(n){case Ma.RAW:return new _T(Dq(t));case Ma.BASE64:case Ma.BASE64URL:return new _T(xq(n,t));case Ma.DATA_URL:return new _T(function ADe(n){const t=new Eq(n);return t.base64?xq(Ma.BASE64,t.rest):function EDe(n){let t;try{t=decodeURIComponent(n)}catch{throw Nm(Ma.DATA_URL,"Malformed data URL.")}return Dq(t)}(t.rest)}(t),function TDe(n){return new Eq(n).contentType}(t))}throw pT()}function Dq(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function xq(n,t){switch(n){case Ma.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw Nm(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ma.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw Nm(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function xDe(n){if(typeof atob>"u")throw function uDe(n){return new $i("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Nm(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class Eq{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Nm(Ma.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function IDe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Yc{constructor(t,e){let i=0,r="";Mq(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Mq(this.data_)){const r=function DDe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Yc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Yc(i,!0)}}static getBlob(...t){if(mT()){const e=t.map(i=>i instanceof Yc?i.data_:i);return new Yc(SDe.apply(null,e))}{const e=t.map(l=>BC(l)?vT(Ma.RAW,l).data:l.data_);let i=0;e.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(l=>{for(let d=0;d<l.length;d++)r[s++]=l[d]}),new Yc(r,!0)}}uploadData(){return this.data_}}function yT(n){let t;try{t=JSON.parse(n)}catch{return null}return function gDe(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Aq(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function LDe(n,t){return t}class lo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||LDe}}let jC=null;function Om(){if(jC)return jC;const n=[];n.push(new lo("bucket")),n.push(new lo("generation")),n.push(new lo("metageneration")),n.push(new lo("name","fullPath",!0));const e=new lo("name");e.xform=function t(s,l){return function HDe(n){return!BC(n)||n.length<2?n:Aq(n)}(l)},n.push(e);const r=new lo("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new lo("timeCreated")),n.push(new lo("updated")),n.push(new lo("md5Hash",null,!0)),n.push(new lo("cacheControl",null,!0)),n.push(new lo("contentDisposition",null,!0)),n.push(new lo("contentEncoding",null,!0)),n.push(new lo("contentLanguage",null,!0)),n.push(new lo("contentType",null,!0)),n.push(new lo("metadata","customMetadata",!0)),jC=n,jC}function Tq(n,t,e){const i=yT(t);return null===i?null:function NDe(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const l=e[s];i[l.local]=l.xform(i,t[l.server])}return function zDe(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new zs(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function CT(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const Iq="prefixes";class Kc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qc(n){if(!n)throw pT()}function GC(n,t){return function e(i,r){const s=Tq(n,r,t);return Qc(null!==s),s}}function x8(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function iDe(){return new $i("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function nDe(){return new $i("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function tDe(n){return new $i("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function rDe(n){return new $i("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Rm(n){const t=x8(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function eDe(n){return new $i("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function Vq(n,t,e){const r=V3(t.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,d=new Kc(r,"GET",GC(n,e),l);return d.errorHandler=Rm(t),d}function UDe(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=V3(t.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,b=new Kc(d,"GET",function FDe(n,t){return function e(i,r){const s=function RDe(n,t,e){const i=yT(e);return null===i?null:function ODe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Iq])for(const r of e[Iq]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new zs(t,s));i.prefixes.push(l)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new zs(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Qc(null!==s),s}}(n,t.bucket),v);return b.urlParams=s,b.errorHandler=x8(t),b}function Hq(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function $De(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class qC{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function bT(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Qc(!1)}return Qc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const KDe={STATE_CHANGED:"state_changed"},uo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function MT(n){switch(n){case"running":case"pausing":case"canceling":return uo.RUNNING;case"paused":return uo.PAUSED;case"success":return uo.SUCCESS;case"canceled":return uo.CANCELED;default:return uo.ERROR}}class QDe{constructor(t,e,i){if(function mDe(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function E8(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class JDe extends class XDe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Au.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Au.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Au.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Pm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function p1(){return new JDe}class Oq{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Om(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Sq(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=_q()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function WDe(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),l=Hq(t,i,r),d={name:l.fullPath},f=V3(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},S=CT(l,e),N=new Kc(f,"POST",function H(j){let J;bT(j);try{J=j.getResponseHeader("X-Goog-Upload-URL")}catch{Qc(!1)}return Qc(BC(J)),J},n.maxUploadRetryTime);return N.urlParams=d,N.headers=b,N.body=S,N.errorHandler=x8(t),N}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,p1,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function ZDe(n,t,e,i){const f=new Kc(e,"POST",function s(v){const b=bT(v,["active","final"]);let S=null;try{S=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qc(!1)}S||Qc(!1);const I=Number(S);return Qc(!isNaN(I)),new qC(I,i.size(),"final"===b)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=x8(t),f}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,p1,e,i);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new qC(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function YDe(n,t,e,i,r,s,l,d){const f=new qC(0,0);if(l?(f.current=l.current,f.total=l.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function cDe(){return new $i("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=f.total-f.current;let b=v;r>0&&(b=Math.min(b,r));const S=f.current;let H="";H=0===b?"finalize":v===b?"upload, finalize":"upload";const N={"X-Goog-Upload-Command":H,"X-Goog-Upload-Offset":`${f.current}`},j=i.slice(S,S+b);if(null===j)throw yq();const Oe=new Kc(e,"POST",function J(je,rt){const mt=bT(je,["active","final"]),qt=f.current+b,wi=i.size();let nr;return nr="final"===mt?GC(t,s)(je,rt):null,new qC(qt,wi,"final"===mt,nr)},t.maxUploadRetryTime);return Oe.headers=N,Oe.body=j.uploadData(),Oe.progressCallback=d||null,Oe.errorHandler=x8(n),Oe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(l,p1,r,s,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Vq(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,p1,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function zq(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let Oe="";for(let je=0;je<2;je++)Oe+=Math.random().toString().slice(2);return Oe}();l["Content-Type"]="multipart/related; boundary="+f;const v=Hq(t,i,r),b=CT(v,e),H=Yc.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+f+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===H)throw yq();const N={name:v.fullPath},j=V3(s,n.host,n._protocol),De=n.maxUploadRetryTime,Pe=new Kc(j,"POST",GC(n,e),De);return Pe.urlParams=N,Pe.headers=l,Pe.body=H.uploadData(),Pe.errorHandler=x8(t),Pe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,p1,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=vq(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=MT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new QDe(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(MT(this._state)){case uo.SUCCESS:E8(this._resolve.bind(null,this.snapshot))();break;case uo.CANCELED:case uo.ERROR:E8(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(MT(this._state)){case uo.RUNNING:case uo.PAUSED:t.next&&E8(t.next.bind(t,this.snapshot))();break;case uo.SUCCESS:t.complete&&E8(t.complete.bind(t))();break;default:t.error&&E8(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class $d{constructor(t,e){this._service=t,this._location=e instanceof zs?e:zs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new $d(t,e)}get root(){const t=new zs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Aq(this._location.path)}get storage(){return this._service}get parent(){const t=function kDe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new zs(this._location.bucket,t);return new $d(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw bq(t)}}function Fq(n,t,e){return wT.apply(this,arguments)}function wT(){return wT=(0,be.Z)(function*(n,t,e){const r=yield Bq(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield Fq(n,t,r.nextPageToken))}),wT.apply(this,arguments)}function Bq(n,t){null!=t&&"number"==typeof t.maxResults&&gT("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=UDe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,p1)}function dxe(n){n._throwIfRoot("getDownloadURL");const t=function jDe(n,t,e){const r=V3(t.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,d=new Kc(r,"GET",function BDe(n,t){return function e(i,r){const s=Tq(n,r,t);return Qc(null!==s),function PDe(n,t,e,i){const r=yT(t);if(null===r||!BC(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(v=>{const S=n.fullPath;return V3("/b/"+l(n.bucket)+"/o/"+l(S),e,i)+wq({alt:"media",token:v})})[0]}(s,r,n.host,n._protocol)}}(n,e),l);return d.errorHandler=Rm(t),d}(n.storage,n._location,Om());return n.storage.makeRequestWithTokens(t,p1).then(e=>{if(null===e)throw function lDe(){return new $i("no-download-url","The given file does not have any download URLs.")}();return e})}function Uq(n,t){const e=function VDe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new zs(n._location.bucket,e);return new $d(n.storage,i)}function jq(n,t){if(n instanceof ST){const e=n;if(null==e._bucket)throw function aDe(){return new $i("no-default-bucket","No default bucket found. Did you set the '"+gq+"' property when initializing the app?")}();const i=new $d(e,e._bucket);return null!=t?jq(i,t):i}return void 0!==t?Uq(n,t):n}function mxe(n,t){if(t&&function fxe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof ST)return function pxe(n,t){return new $d(n,t)}(n,t);throw D8("To use ref(service, url), the first argument must be a Storage instance.")}return jq(n,t)}function Gq(n,t){const e=t?.[gq];return null==e?null:zs.makeFromBucketSpec(e,n)}class ST{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=mq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?zs.makeFromBucketSpec(r,this._host):Gq(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?zs.makeFromBucketSpec(this._url,t):Gq(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){gT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){gT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,be.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,be.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $d(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new dDe(Cq());{const l=function MDe(n,t,e,i,r,s,l=!0){const d=wq(n.urlParams),f=n.url+d,v=Object.assign({},n.headers);return function CDe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(v,t),function vDe(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(v,e),function yDe(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(v,s),function bDe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(v,i),new _De(f,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var i=this;return(0,be.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const qq="@firebase/storage";function Zq(n,t){return mxe(n=(0,P.m9)(n),t)}function Dxe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new ST(e,i,r,t,ms.SDK_VERSION)}!function xxe(){(0,ms._registerComponent)(new Qi.wA("storage",Dxe,"PUBLIC").setMultipleInstances(!0)),(0,ms.registerVersion)(qq,"0.10.0",""),(0,ms.registerVersion)(qq,"0.10.0","esm2017")}();class $C{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Kq{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new $C(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new $C(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?l=>e(new $C(l,this,this._ref)):{next:e.next?l=>e.next(new $C(l,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class Qq{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new L3(t,this._service))}get items(){return this._delegate.items.map(t=>new L3(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class L3{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Sxe(n,t){return Uq(n,t)}(this._delegate,t);return new L3(e,this.storage)}get root(){return new L3(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new L3(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new Kq(function _xe(n,t,e){return function oxe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Oq(n,new Yc(t),e)}(n=(0,P.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Ma.RAW,i){this._throwIfRoot("putString");const r=vT(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new Kq(new Oq(this._delegate,new Yc(r.data,!0),s),this)}listAll(){return function bxe(n){return function cxe(n){const t={prefixes:[],items:[]};return Fq(n,t).then(()=>t)}(n=(0,P.m9)(n))}(this._delegate).then(t=>new Qq(t,this.storage))}list(t){return function Cxe(n,t){return Bq(n=(0,P.m9)(n),t)}(this._delegate,t||void 0).then(e=>new Qq(e,this.storage))}getMetadata(){return function vxe(n){return function lxe(n){n._throwIfRoot("getMetadata");const t=Vq(n.storage,n._location,Om());return n.storage.makeRequestWithTokens(t,p1)}(n=(0,P.m9)(n))}(this._delegate)}updateMetadata(t){return function yxe(n,t){return function uxe(n,t){n._throwIfRoot("updateMetadata");const e=function GDe(n,t,e,i){const s=V3(t.fullServerUrl(),n.host,n._protocol),d=CT(e,i),v=n.maxOperationRetryTime,b=new Kc(s,"PATCH",GC(n,i),v);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=Rm(t),b}(n.storage,n._location,t,Om());return n.storage.makeRequestWithTokens(e,p1)}(n=(0,P.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Mxe(n){return dxe(n=(0,P.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function wxe(n){return function hxe(n){n._throwIfRoot("deleteObject");const t=function qDe(n,t){const i=V3(t.fullServerUrl(),n.host,n._protocol),d=new Kc(i,"DELETE",function l(f,v){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=Rm(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,p1)}(n=(0,P.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw bq(t)}}class Xq{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Jq(t))throw D8("ref() expected a child path but got a URL, use refFromURL instead.");return new L3(Zq(this._delegate,t),this)}refFromURL(t){if(!Jq(t))throw D8("refFromURL() expected a full URL but got a child path, use ref() instead.");try{zs.makeFromUrl(t,this._delegate.host)}catch{throw D8("refFromUrl() expected a valid full URL but got an invalid one.")}return new L3(Zq(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function Yq(n,t,e,i={}){!function gxe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,P.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function Jq(n){return/^[A-Za-z]+:\/\//.test(n)}function Ixe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Xq(e,i)}function e$(n){const t=function Vxe(n){return new gn.y(t=>{const e=l=>t.next(l);e(n.snapshot);const s=n.on("state_changed",e);return n.then(l=>{e(l),t.complete()},l=>{e(n.snapshot),(l=>{t.error(l)})(l)}),function(){s()}}).pipe(WB(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Je.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function WC(n){return{getDownloadURL:()=>nt(void 0).pipe(wn.fc,Mn(()=>n.getDownloadURL()),wn.iC),getMetadata:()=>nt(void 0).pipe(wn.fc,Mn(()=>n.getMetadata()),wn.iC),delete:()=>(0,on.D)(n.delete()),child:t=>WC(n.child(t)),updateMetadata:t=>(0,on.D)(n.updateMetadata(t)),put:(t,e)=>e$(n.put(t,e)),putString:(t,e,i)=>e$(n.putString(t,e,i)),list:t=>(0,on.D)(n.list(t)),listAll:()=>(0,on.D)(n.listAll())}}!function kxe(n){const t={TaskState:uo,TaskEvent:KDe,StringFormat:Ma,Storage:Xq,Reference:L3};n.INTERNAL.registerComponent(new Qi.wA("storage-compat",Ixe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.0")}(Vo.Z);const Lxe=new o.OlP("angularfire2.storageBucket"),Hxe=new o.OlP("angularfire2.storage.maxUploadRetryTime"),zxe=new o.OlP("angularfire2.storage.maxOperationRetryTime"),Nxe=new o.OlP("angularfire2.storage.use-emulator");let Pxe=(()=>{class n{constructor(e,i,r,s,l,d,f,v,b,S){const I=(0,Bi.on)(e,l,i);this.storage=(0,Bi.cc)(`${I.name}.storage.${r}`,"AngularFireStorage",I.name,()=>{const H=l.runOutsideAngular(()=>I.storage(r||void 0)),N=b;return N&&H.useEmulator(...N),f&&H.setMaxUploadRetryTime(f),v&&H.setMaxOperationRetryTime(v),H},[f,v])}ref(e){return WC(this.storage.ref(e))}refFromURL(e){return WC(this.storage.refFromURL(e))}upload(e,i,r){return WC(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bi.Dh),o.LFG(Bi.xv,8),o.LFG(Lxe,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(wn.HU),o.LFG(Hxe,8),o.LFG(zxe,8),o.LFG(Nxe,8),o.LFG(im,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Oxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Rxe=(()=>{class n{constructor(){My.Z.registerVersion("angularfire",wn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Pxe],imports:[Oxe]}),n})();const t$="@firebase/database";let DT="";function i$(n){DT=n}class Uxe{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,P.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,P.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class jxe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,P.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const r$=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Uxe(t)}}catch{}return new jxe},Wd=r$("localStorage"),xT=r$("sessionStorage"),A8=new Ui.Yd("@firebase/database"),s$=function(){let n=1;return function(){return n++}}(),o$=function(n){const t=(0,P.dS)(n),e=new P.gQ;e.update(t);const i=e.digest();return P.US.encodeByteArray(i)},Fm=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Fm.apply(null,i):t+="object"==typeof i?(0,P.Wl)(i):i,t+=" "}return t};let Zd=null,a$=!0;const c$=function(n,t){(0,P.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(A8.logLevel=Ui.in.VERBOSE,Zd=A8.log.bind(A8),t&&xT.set("logging_enabled",!0)):"function"==typeof n?Zd=n:(Zd=null,xT.remove("logging_enabled"))},ts=function(...n){if(!0===a$&&(a$=!1,null===Zd&&!0===xT.get("logging_enabled")&&c$(!0)),Zd){const t=Fm.apply(null,n);Zd(t)}},Bm=function(n){return function(...t){ts(n,...t)}},ET=function(...n){const t="FIREBASE INTERNAL ERROR: "+Fm(...n);A8.error(t)},Xc=function(...n){const t=`FIREBASE FATAL ERROR: ${Fm(...n)}`;throw A8.error(t),new Error(t)},Ns=function(...n){const t="FIREBASE WARNING: "+Fm(...n);A8.warn(t)},ZC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Tu="[MIN_NAME]",H3="[MAX_NAME]",Yd=function(n,t){if(n===t)return 0;if(n===Tu||t===H3)return-1;if(t===Tu||n===H3)return 1;{const e=d$(n),i=d$(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},$xe=function(n,t){return n===t?0:n<t?-1:1},Um=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,P.Wl)(t))},AT=function(n){if("object"!=typeof n||null===n)return(0,P.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,P.Wl)(t[i]),e+=":",e+=AT(n[t[i]]);return e+="}",e},l$=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function ns(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const u$=function(n){(0,P.hu)(!ZC(n),"Invalid JSON number");const i=1023;let r,s,l,d,f;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,l=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(f=52;f;f-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(f=11;f;f-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(r?1:0),v.reverse();const b=v.join("");let S="";for(f=0;f<64;f+=8){let I=parseInt(b.substr(f,8),2).toString(16);1===I.length&&(I="0"+I),S+=I}return S.toLowerCase()},Kxe=new RegExp("^-?(0*)\\d{1,10}$"),d$=function(n){if(Kxe.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},T8=function(n){try{n()}catch(t){setTimeout(()=>{throw Ns("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},jm=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class eEe{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ns(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class tEe{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ts("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ns(t)}}let Gm=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const g$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,y$="websocket",C$="long_polling";class IT{constructor(t,e,i,r,s=!1,l="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wd.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Wd.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function b$(n,t,e){let i;if((0,P.hu)("string"==typeof t,"typeof type must == string"),(0,P.hu)("object"==typeof e,"typeof params must == object"),t===y$)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==C$)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function nEe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return ns(e,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class iEe{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,P.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,P.p$)(this.counters_)}}const kT={},VT={};function LT(n){const t=n.toString();return kT[t]||(kT[t]=new iEe),kT[t]}class sEe{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&T8(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Iu{constructor(t,e,i,r,s,l,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bm(t),this.stats_=LT(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),b$(e,C$,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new sEe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,P.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new HT((...s)=>{const[l,d,f,v,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=d,this.password=f;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&g$.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Iu.forceAllow_=!0}static forceDisallow(){Iu.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!Iu.forceAllow_&&(Iu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,P.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,P.h$)(e),r=l$(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,P.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class HT{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=s$(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=HT.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(d){ts("frame writing exception"),d.stack&&ts(d.stack),ts(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ts("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,P.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ts("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let KC=null;typeof MozWebSocket<"u"?KC=MozWebSocket:typeof WebSocket<"u"&&(KC=WebSocket);let I8=(()=>{class n{constructor(e,i,r,s,l,d,f){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bm(this.connId),this.stats_=LT(i),this.connURL=n.connectionURL_(i,d,f,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,l){const d={v:"5"};return!(0,P.Yr)()&&typeof location<"u"&&location.hostname&&g$.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),l&&(d.p=l),b$(e,y$,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wd.set("previous_websocket_failure",!0);try{let r;if((0,P.Yr)()){r={headers:{"User-Agent":`Firebase/5/${DT}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,d=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new KC(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==KC&&!n.forceDisallow_}static previouslyFailed(){return Wd.isInMemoryStorage||!0===Wd.get("previous_websocket_failure")}markConnectionHealthy(){Wd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,P.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,P.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=l$(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),A$=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Iu,I8]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=I8&&I8.isAvailable();let r=i&&!I8.previouslyFailed();if(e.webSocketOnly&&(i||Ns("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[I8];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class z${constructor(t,e,i,r,s,l,d,f,v,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=d,this.onDisconnect_=f,this.onKill_=v,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bm("c:"+this.id+":"),this.transportManager_=new A$(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=jm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Um("t",t),i=Um("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Um("t",t),i=Um("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Um("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?ET("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ET("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ns("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),jm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class N${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class P${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,P.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,P.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class QC extends P${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new QC}getInitialEvent(t){return(0,P.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Un{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ln(){return new Un("")}function an(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ku(n){return n.pieces_.length-n.pieceNum_}function ii(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Un(n.pieces_,t)}function NT(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qm(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function F$(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Un(t,0)}function Vi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Un)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Un(e,0)}function cn(n){return n.pieceNum_>=n.pieces_.length}function ho(n,t){const e=an(n),i=an(t);if(null===e)return t;if(e===i)return ho(ii(n),ii(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function EEe(n,t){const e=qm(n,0),i=qm(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Yd(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function PT(n,t){if(ku(n)!==ku(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function a2(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(ku(n)>ku(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class AEe{constructor(t,e){this.errorPrefix_=e,this.parts_=qm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,P.ug)(this.parts_[i]);B$(this)}}function B$(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Kd(n))}function Kd(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class OT extends P${constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new OT}getInitialEvent(t){return(0,P.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const $m=1e3;let JC,Qd=(()=>{class n extends N${constructor(e,i,r,s,l,d,f,v){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=Bm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$m,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");OT.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&QC.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,l={r:s,a:e,b:i};this.log_((0,P.Wl)(l)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new P.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const l=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+l),this.listens.has(d)||this.listens.set(d,new Map),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(d).has(l),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};e.tag&&(l.q=i._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,f=>{const v=f.d,b=f.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",f),"ok"!==b&&this.removeListen_(r,s),e.onComplete&&e.onComplete(b,v))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,P.r3)(e,"w")){const r=(0,P.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Ns(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,P.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,P.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,d=s.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const l={p:e};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,l){this.initConnection_();const d={p:i,d:r};void 0!==l&&(d.h=l),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,P.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):ET("Unrecognized action received from server: "+(0,P.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$m,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$m,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$m),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,be.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let f=!1,v=null;const b=function(){v?v.close():(f=!0,s())};e.realtime_={close:b,sendRequest:function(H){(0,P.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(H)}};const I=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[H,N]=yield Promise.all([e.authTokenProvider_.getToken(I),e.appCheckTokenProvider_.getToken(I)]);f?ts("getToken() completed but was canceled"):(ts("getToken() completed. Creating connection."),e.authToken_=H&&H.accessToken,e.appCheckToken_=N&&N.token,v=new z$(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,j=>{Ns(j+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(H){e.log_("Failed to get token: "+H),f||(e.repoInfo_.nodeAdmin&&Ns(H),b())}}})()}interrupt(e){ts("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ts("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=$m,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(l=>AT(l)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Un(e).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){ts("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ts("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,P.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+DT.replace(/\./g,"-")]=1,(0,P.uI)()?e["framework.cordova"]=1:(0,P.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=QC.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class hn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new hn(t,e)}}class XC{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new hn(Tu,t),r=new hn(Tu,e);return 0!==this.compare(i,r)}minPost(){return hn.MIN}}class G$ extends XC{static get __EMPTY_NODE(){return JC}static set __EMPTY_NODE(t){JC=t}compare(t,e){return Yd(t.name,e.name)}isDefinedOn(t){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return hn.MIN}maxPost(){return new hn(H3,JC)}makePost(t,e){return(0,P.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new hn(t,JC)}toString(){return".key"}}const Jc=new G$;class eb{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let FT,m1=(()=>{class n{constructor(e,i,r,s,l){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Ro.EMPTY_NODE,this.right=l??Ro.EMPTY_NODE}copy(e,i,r,s,l){return new n(e??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ro.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ro.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ro{constructor(t,e=Ro.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ro(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,m1.BLACK,null,null))}remove(t){return new Ro(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,m1.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new eb(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new eb(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new eb(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new eb(this.root_,null,this.comparator_,!0,t)}}function NEe(n,t){return Yd(n.name,t.name)}function RT(n,t){return Yd(n,t)}Ro.EMPTY_NODE=new class zEe{copy(t,e,i,r,s){return this}insert(t,e,i){return new m1(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const q$=function(n){return"number"==typeof n?"number:"+u$(n):"string:"+n},$$=function(n){if(n.isLeafNode()){const t=n.val();(0,P.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,P.r3)(t,".sv"),"Priority must be a string or number.")}else(0,P.hu)(n===FT||n.isEmpty(),"priority of unexpected type.");(0,P.hu)(n===FT||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let W$,Z$,Y$,k8=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$$(this.priorityNode_)}static set __childrenNodeConstructor(e){W$=e}static get __childrenNodeConstructor(){return W$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return cn(e)?this:".priority"===an(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=an(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,P.hu)(".priority"!==r||1===ku(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ii(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+q$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?u$(this.value_):this.value_,this.lazyHash_=o$(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,P.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,P.hu)(s>=0,"Unknown leaf type: "+i),(0,P.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const li=new class FEe extends XC{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Yd(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return hn.MIN}maxPost(){return new hn(H3,new k8("[PRIORITY-POST]",Y$))}makePost(t,e){const i=Z$(t);return new hn(e,new k8("[PRIORITY-POST]",i))}toString(){return".priority"}},BEe=Math.log(2);class UEe{constructor(t){this.count=parseInt(Math.log(t+1)/BEe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const tb=function(n,t,e,i){n.sort(t);const r=function(f,v){const b=v-f;let S,I;if(0===b)return null;if(1===b)return S=n[f],I=e?e(S):S,new m1(I,S.node,m1.BLACK,null,null);{const H=parseInt(b/2,10)+f,N=r(f,H),j=r(H+1,v);return S=n[H],I=e?e(S):S,new m1(I,S.node,m1.BLACK,N,j)}},d=function(f){let v=null,b=null,S=n.length;const I=function(N,j){const J=S-N,De=S;S-=N;const Pe=r(J+1,De),Oe=n[J],je=e?e(Oe):Oe;H(new m1(je,Oe.node,j,null,Pe))},H=function(N){v?(v.left=N,v=N):(b=N,v=N)};for(let N=0;N<f.count;++N){const j=f.nextBitIsOne(),J=Math.pow(2,f.count-(N+1));j?I(J,m1.BLACK):(I(J,m1.BLACK),I(J,m1.RED))}return b}(new UEe(n.length));return new Ro(i||t,d)};let BT;const V8={};class z3{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,P.hu)(V8&&li,"ChildrenNode.ts has not been loaded"),BT=BT||new z3({".priority":V8},{".priority":li}),BT}get(t){const e=(0,P.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ro?e:null}hasIndex(t){return(0,P.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,P.hu)(t!==Jc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(hn.Wrap);let d,l=s.getNext();for(;l;)r=r||t.isDefinedOn(l.node),i.push(l),l=s.getNext();d=r?tb(i,t.getCompare()):V8;const f=t.toString(),v=Object.assign({},this.indexSet_);v[f]=t;const b=Object.assign({},this.indexes_);return b[f]=d,new z3(b,v)}addToIndexes(t,e){const i=(0,P.UI)(this.indexes_,(r,s)=>{const l=(0,P.DV)(this.indexSet_,s);if((0,P.hu)(l,"Missing index implementation for "+s),r===V8){if(l.isDefinedOn(t.node)){const d=[],f=e.getIterator(hn.Wrap);let v=f.getNext();for(;v;)v.name!==t.name&&d.push(v),v=f.getNext();return d.push(t),tb(d,l.getCompare())}return V8}{const d=e.get(t.name);let f=r;return d&&(f=f.remove(new hn(t.name,d))),f.insert(t,t.node)}});return new z3(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,P.UI)(this.indexes_,r=>{if(r===V8)return r;{const s=e.get(t.name);return s?r.remove(new hn(t.name,s)):r}});return new z3(i,this.indexSet_)}}let Wm,Xt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$$(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wm||(Wm=new n(new Ro(RT),null,z3.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wm}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Wm:i}}getChild(e){const i=an(e);return null===i?this:this.getImmediateChild(i).getChild(ii(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,P.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new hn(e,i);let s,l;i.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),l=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?Wm:this.priorityNode_;return new n(s,d,l)}}updateChild(e,i){const r=an(e);if(null===r)return i;{(0,P.hu)(".priority"!==an(e)||1===ku(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ii(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(li,(d,f)=>{i[d]=f.val(e),r++,l&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):l=!1}),!e&&l&&s<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+q$(this.getPriority().val())+":"),this.forEachChild(li,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":o$(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new hn(e,i));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new hn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new hn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,hn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,hn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zm?-1:0}withIndex(e){if(e===Jc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Jc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(li),s=i.getIterator(li);let l=r.getNext(),d=s.getNext();for(;l&&d;){if(l.name!==d.name||!l.node.equals(d.node))return!1;l=r.getNext(),d=s.getNext()}return null===l&&null===d}return!1}return!1}}resolveIndex_(e){return e===Jc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Zm=new class jEe extends Xt{constructor(){super(new Ro(RT),Xt.EMPTY_NODE,z3.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Xt.EMPTY_NODE}isEmpty(){return!1}};function Wi(n,t=null){if(null===n)return Xt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,P.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new k8(n,Wi(t));if(n instanceof Array){let e=Xt.EMPTY_NODE;return ns(n,(i,r)=>{if((0,P.r3)(n,i)&&"."!==i.substring(0,1)){const s=Wi(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Wi(t))}{const e=[];let i=!1;if(ns(n,(l,d)=>{if("."!==l.substring(0,1)){const f=Wi(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new hn(l,f)))}}),0===e.length)return Xt.EMPTY_NODE;const s=tb(e,NEe,l=>l.name,RT);if(i){const l=tb(e,li.getCompare());return new Xt(s,Wi(t),new z3({".priority":l},{".priority":li}))}return new Xt(s,Wi(t),z3.Default)}}Object.defineProperties(hn,{MIN:{value:new hn(Tu,Xt.EMPTY_NODE)},MAX:{value:new hn(H3,Zm)}}),G$.__EMPTY_NODE=Xt.EMPTY_NODE,k8.__childrenNodeConstructor=Xt,function PEe(n){FT=n}(Zm),function REe(n){Y$=n}(Zm),function OEe(n){Z$=n}(Wi);class UT extends XC{constructor(t){super(),this.indexPath_=t,(0,P.hu)(!cn(t)&&".priority"!==an(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Yd(t.name,e.name):s}makePost(t,e){const i=Wi(t),r=Xt.EMPTY_NODE.updateChild(this.indexPath_,i);return new hn(e,r)}maxPost(){const t=Xt.EMPTY_NODE.updateChild(this.indexPath_,Zm);return new hn(H3,t)}toString(){return qm(this.indexPath_,0).join("/")}}const jT=new class qEe extends XC{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Yd(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return hn.MIN}maxPost(){return hn.MAX}makePost(t,e){const i=Wi(t);return new hn(e,i)}toString(){return".value"}};function K$(n){return{type:"value",snapshotNode:n}}function L8(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Ym(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Km(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class GT{constructor(t){this.index_=t}updateChild(t,e,i,r,s,l){(0,P.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?t.hasChild(e)?l.trackChildChange(Ym(e,d)):(0,P.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?l.trackChildChange(L8(e,i)):l.trackChildChange(Km(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(li,(r,s)=>{e.hasChild(r)||i.trackChildChange(Ym(r,s))}),e.isLeafNode()||e.forEachChild(li,(r,s)=>{if(t.hasChild(r)){const l=t.getImmediateChild(r);l.equals(s)||i.trackChildChange(Km(r,s,l))}else i.trackChildChange(L8(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Xt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Qm{constructor(t){this.indexedFilter_=new GT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Qm.getStartPost_(t),this.endPost_=Qm.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,l){return this.matches(new hn(e,i))||(i=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,l)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Xt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Xt.EMPTY_NODE);const s=this;return e.forEachChild(li,(l,d)=>{s.matches(new hn(l,d))||(r=r.updateImmediateChild(l,Xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class WEe{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Qm(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,l){return this.rangedFilter_.matches(new hn(e,i))||(i=Xt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,l):this.fullLimitUpdateChild_(t,e,i,s,l)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Xt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const d=s.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;r=r.updateImmediateChild(d.name,d.node),l++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(Xt.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const d=s.getNext();l<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?l++:r=r.updateImmediateChild(d.name,Xt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let l;if(this.reverse_){const S=this.index_.getCompare();l=(I,H)=>S(H,I)}else l=this.index_.getCompare();const d=t;(0,P.hu)(d.numChildren()===this.limit_,"");const f=new hn(e,i),v=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(f);if(d.hasChild(e)){const S=d.getImmediateChild(e);let I=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=I&&(I.name===e||d.hasChild(I.name));)I=r.getChildAfterChild(this.index_,I,this.reverse_);const H=null==I?1:l(I,f);if(b&&!i.isEmpty()&&H>=0)return s?.trackChildChange(Km(e,i,S)),d.updateImmediateChild(e,i);{s?.trackChildChange(Ym(e,S));const j=d.updateImmediateChild(e,Xt.EMPTY_NODE);return null!=I&&this.rangedFilter_.matches(I)?(s?.trackChildChange(L8(I.name,I.node)),j.updateImmediateChild(I.name,I.node)):j}}return i.isEmpty()?t:b&&l(v,f)>=0?(null!=s&&(s.trackChildChange(Ym(v.name,v.node)),s.trackChildChange(L8(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(v.name,Xt.EMPTY_NODE)):t}}class nb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=li}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:H3}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===li}copy(){const t=new nb;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function qT(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function $T(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function ib(n,t){const e=n.copy();return e.index_=t,e}function Q$(n){const t={};if(n.isDefault())return t;let e;if(n.index_===li?e="$priority":n.index_===jT?e="$value":n.index_===Jc?e="$key":((0,P.hu)(n.index_ instanceof UT,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,P.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,P.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,P.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,P.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,P.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function X$(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==li&&(t.i=n.index_.toString()),t}class rb extends N${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Bm("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,P.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const l=rb.getListenId_(t,i),d={};this.listens_[l]=d;const f=Q$(t._queryParams);this.restRequest_(s+".json",f,(v,b)=>{let S=b;if(404===v&&(S=null,v=null),null===v&&this.onDataUpdate_(s,S,!1,i),(0,P.DV)(this.listens_,l)===d){let I;I=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(I,null)}})}unlisten(t,e){const i=rb.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Q$(t._queryParams),i=t._path.toString(),r=new P.BH;return this.restRequest_(i+".json",e,(s,l)=>{let d=l;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,P.xO)(e);this.log_("Sending REST request for "+l);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+l+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,P.cI)(d.responseText)}catch{Ns("Failed to parse JSON response for "+l+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&Ns("Got unsuccessful REST response for "+l+" Status: "+d.status),i(d.status);i=null}},d.open("GET",l,!0),d.send()})}}class JEe{constructor(){this.rootNode_=Xt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function sb(){return{value:null,children:new Map}}function H8(n,t,e){if(cn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=an(t);n.children.has(i)||n.children.set(i,sb()),H8(n.children.get(i),t=ii(t),e)}}function WT(n,t){if(cn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(li,(i,r)=>{H8(n,new Un(i),r)}),WT(n,t)}}if(n.children.size>0){const e=an(t);return t=ii(t),n.children.has(e)&&WT(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function ZT(n,t,e){null!==n.value?e(t,n.value):function eAe(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{ZT(r,new Un(t.toString()+"/"+i),e)})}class tAe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ns(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class rAe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new tAe(t);const i=1e4+2e4*Math.random();jm(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;ns(t,(r,s)=>{s>0&&(0,P.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),jm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var c2=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(c2||(c2={})),c2))();function QT(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ob{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=c2.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(cn(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Un(t));return new ob(Ln(),e,this.revert)}}return(0,P.hu)(an(this.path)===t,"operationForChild called for unrelated child."),new ob(ii(this.path),this.affectedTree,this.revert)}}class Xm{constructor(t,e){this.source=t,this.path=e,this.type=c2.LISTEN_COMPLETE}operationForChild(t){return cn(this.path)?new Xm(this.source,Ln()):new Xm(this.source,ii(this.path))}}class Xd{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=c2.OVERWRITE}operationForChild(t){return cn(this.path)?new Xd(this.source,Ln(),this.snap.getImmediateChild(t)):new Xd(this.source,ii(this.path),this.snap)}}class z8{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=c2.MERGE}operationForChild(t){if(cn(this.path)){const e=this.children.subtree(new Un(t));return e.isEmpty()?null:e.value?new Xd(this.source,Ln(),e.value):new z8(this.source,Ln(),e)}return(0,P.hu)(an(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new z8(this.source,ii(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Vu{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(cn(t))return this.isFullyInitialized()&&!this.filtered_;const e=an(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class sAe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Jm(n,t,e,i,r,s){const l=i.filter(d=>d.type===e);l.sort((d,f)=>function cAe(n,t,e){if(null==t.childName||null==e.childName)throw(0,P.g5)("Should only compare child_ events.");const i=new hn(t.childName,t.snapshotNode),r=new hn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),l.forEach(d=>{const f=function aAe(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(v=>{v.respondsTo(d.type)&&t.push(v.createEvent(f,n.query_))})})}function ab(n,t){return{eventCache:n,serverCache:t}}function eg(n,t,e,i){return ab(new Vu(t,e,i),n.serverCache)}function eW(n,t,e,i){return ab(n.eventCache,new Vu(t,e,i))}function cb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Jd(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let XT;class ui{constructor(t,e=(()=>(XT||(XT=new Ro($xe)),XT))()){this.value=t,this.children=e}static fromObject(t){let e=new ui(null);return ns(t,(i,r)=>{e=e.set(new Un(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ln(),value:this.value};if(cn(t))return null;{const i=an(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ii(t),e);return null!=s?{path:Vi(new Un(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(cn(t))return this;{const e=an(t),i=this.children.get(e);return null!==i?i.subtree(ii(t)):new ui(null)}}set(t,e){if(cn(t))return new ui(e,this.children);{const i=an(t),s=(this.children.get(i)||new ui(null)).set(ii(t),e),l=this.children.insert(i,s);return new ui(this.value,l)}}remove(t){if(cn(t))return this.children.isEmpty()?new ui(null):new ui(null,this.children);{const e=an(t),i=this.children.get(e);if(i){const r=i.remove(ii(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new ui(null):new ui(this.value,s)}return this}}get(t){if(cn(t))return this.value;{const e=an(t),i=this.children.get(e);return i?i.get(ii(t)):null}}setTree(t,e){if(cn(t))return e;{const i=an(t),s=(this.children.get(i)||new ui(null)).setTree(ii(t),e);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ui(this.value,l)}}fold(t){return this.fold_(Ln(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Vi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Ln(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(cn(t))return null;{const s=an(t),l=this.children.get(s);return l?l.findOnPath_(ii(t),Vi(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ln(),e)}foreachOnPath_(t,e,i){if(cn(t))return this;{this.value&&i(e,this.value);const r=an(t),s=this.children.get(r);return s?s.foreachOnPath_(ii(t),Vi(e,r),i):new ui(null)}}foreach(t){this.foreach_(Ln(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Vi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class g1{constructor(t){this.writeTree_=t}static empty(){return new g1(new ui(null))}}function tg(n,t,e){if(cn(t))return new g1(new ui(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const l=ho(r,t);return s=s.updateChild(l,e),new g1(n.writeTree_.set(r,s))}{const r=new ui(e),s=n.writeTree_.setTree(t,r);return new g1(s)}}}function JT(n,t,e){let i=n;return ns(e,(r,s)=>{i=tg(i,Vi(t,r),s)}),i}function tW(n,t){if(cn(t))return g1.empty();{const e=n.writeTree_.setTree(t,new ui(null));return new g1(e)}}function eI(n,t){return null!=e0(n,t)}function e0(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ho(e.path,t)):null}function nW(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(li,(i,r)=>{t.push(new hn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new hn(i,r.value))}),t}function Lu(n,t){if(cn(t))return n;{const e=e0(n,t);return new g1(null!=e?new ui(e):n.writeTree_.subtree(t))}}function tI(n){return n.writeTree_.isEmpty()}function N8(n,t){return iW(Ln(),n.writeTree_,t)}function iW(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,P.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=iW(Vi(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Vi(n,".priority"),i)),e}}function lb(n,t){return cW(t,n)}function pAe(n,t){if(n.snap)return a2(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&a2(Vi(n.path,e),t))return!0;return!1}function gAe(n){return n.visible}function rW(n,t,e){let i=g1.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const l=s.path;let d;if(s.snap)a2(e,l)?(d=ho(e,l),i=tg(i,d,s.snap)):a2(l,e)&&(d=ho(l,e),i=tg(i,Ln(),s.snap.getChild(d)));else{if(!s.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(a2(e,l))d=ho(e,l),i=JT(i,d,s.children);else if(a2(l,e))if(d=ho(l,e),cn(d))i=JT(i,Ln(),s.children);else{const f=(0,P.DV)(s.children,an(d));if(f){const v=f.getChild(ii(d));i=tg(i,Ln(),v)}}}}}return i}function sW(n,t,e,i,r){if(i||r){const s=Lu(n.visibleWrites,t);return!r&&tI(s)?e:r||null!=e||eI(s,Ln())?N8(rW(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(a2(v.path,t)||a2(t,v.path))},t),e||Xt.EMPTY_NODE):null}{const s=e0(n.visibleWrites,t);if(null!=s)return s;{const l=Lu(n.visibleWrites,t);return tI(l)?e:null!=e||eI(l,Ln())?N8(l,e||Xt.EMPTY_NODE):null}}}function ub(n,t,e,i){return sW(n.writeTree,n.treePath,t,e,i)}function nI(n,t){return function _Ae(n,t,e){let i=Xt.EMPTY_NODE;const r=e0(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(li,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(e){const s=Lu(n.visibleWrites,t);return e.forEachChild(li,(l,d)=>{const f=N8(Lu(s,new Un(l)),d);i=i.updateImmediateChild(l,f)}),nW(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return nW(Lu(n.visibleWrites,t)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,t)}function oW(n,t,e,i){return function vAe(n,t,e,i,r){(0,P.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Vi(t,e);if(eI(n.visibleWrites,s))return null;{const l=Lu(n.visibleWrites,s);return tI(l)?r.getChild(e):N8(l,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function db(n,t){return function CAe(n,t){return e0(n.visibleWrites,t)}(n.writeTree,Vi(n.treePath,t))}function iI(n,t,e){return function yAe(n,t,e,i){const r=Vi(t,e),s=e0(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?N8(Lu(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function aW(n,t){return cW(Vi(n.treePath,t),n.writeTree)}function cW(n,t){return{treePath:n,writeTree:t}}class SAe{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,P.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,Km(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,Ym(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,L8(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,P.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Km(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const lW=new class DAe{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class rI{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Vu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iI(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jd(this.viewCache_),s=function wAe(n,t,e,i,r,s){return function bAe(n,t,e,i,r,s,l){let d;const f=Lu(n.visibleWrites,t),v=e0(f,Ln());if(null!=v)d=v;else{if(null==e)return[];d=N8(f,e)}if(d=d.withIndex(l),d.isEmpty()||d.isLeafNode())return[];{const b=[],S=l.getCompare(),I=s?d.getReverseIteratorFrom(i,l):d.getIteratorFrom(i,l);let H=I.getNext();for(;H&&b.length<r;)0!==S(H,i)&&b.push(H),H=I.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function uW(n,t,e,i,r,s){const l=t.eventCache;if(null!=db(i,e))return t;{let d,f;if(cn(e))if((0,P.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const v=Jd(t),S=nI(i,v instanceof Xt?v:Xt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),S,s)}else{const v=ub(i,Jd(t));d=n.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{const v=an(e);if(".priority"===v){(0,P.hu)(1===ku(e),"Can't have a priority with additional path components");const b=l.getNode();f=t.serverCache.getNode();const S=oW(i,e,b,f);d=null!=S?n.filter.updatePriority(b,S):l.getNode()}else{const b=ii(e);let S;if(l.isCompleteForChild(v)){f=t.serverCache.getNode();const I=oW(i,e,l.getNode(),f);S=null!=I?l.getNode().getImmediateChild(v).updateChild(b,I):l.getNode().getImmediateChild(v)}else S=iI(i,v,t.serverCache);d=null!=S?n.filter.updateChild(l.getNode(),v,S,b,r,s):l.getNode()}}return eg(t,d,l.isFullyInitialized()||cn(e),n.filter.filtersNodes())}}function hb(n,t,e,i,r,s,l,d){const f=t.serverCache;let v;const b=l?n.filter:n.filter.getIndexedFilter();if(cn(e))v=b.updateFullNode(f.getNode(),i,null);else if(b.filtersNodes()&&!f.isFiltered()){const H=f.getNode().updateChild(e,i);v=b.updateFullNode(f.getNode(),H,null)}else{const H=an(e);if(!f.isCompleteForPath(e)&&ku(e)>1)return t;const N=ii(e),J=f.getNode().getImmediateChild(H).updateChild(N,i);v=".priority"===H?b.updatePriority(f.getNode(),J):b.updateChild(f.getNode(),H,J,N,lW,null)}const S=eW(t,v,f.isFullyInitialized()||cn(e),b.filtersNodes());return uW(n,S,e,r,new rI(r,S,s),d)}function sI(n,t,e,i,r,s,l){const d=t.eventCache;let f,v;const b=new rI(r,t,s);if(cn(e))v=n.filter.updateFullNode(t.eventCache.getNode(),i,l),f=eg(t,v,!0,n.filter.filtersNodes());else{const S=an(e);if(".priority"===S)v=n.filter.updatePriority(t.eventCache.getNode(),i),f=eg(t,v,d.isFullyInitialized(),d.isFiltered());else{const I=ii(e),H=d.getNode().getImmediateChild(S);let N;if(cn(I))N=i;else{const j=b.getCompleteChild(S);N=null!=j?".priority"===NT(I)&&j.getChild(F$(I)).isEmpty()?j:j.updateChild(I,i):Xt.EMPTY_NODE}f=H.equals(N)?t:eg(t,n.filter.updateChild(d.getNode(),S,N,I,b,l),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function dW(n,t){return n.eventCache.isCompleteForChild(t)}function hW(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function oI(n,t,e,i,r,s,l,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let v,f=t;v=cn(e)?i:new ui(null).setTree(e,i);const b=t.serverCache.getNode();return v.children.inorderTraversal((S,I)=>{if(b.hasChild(S)){const N=hW(0,t.serverCache.getNode().getImmediateChild(S),I);f=hb(n,f,new Un(S),N,r,s,l,d)}}),v.children.inorderTraversal((S,I)=>{const H=!t.serverCache.isCompleteForChild(S)&&null===I.value;if(!b.hasChild(S)&&!H){const j=hW(0,t.serverCache.getNode().getImmediateChild(S),I);f=hb(n,f,new Un(S),j,r,s,l,d)}}),f}class HAe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new GT(i.getIndex()),s=function ZEe(n){return n.loadsAllData()?new GT(n.getIndex()):n.hasLimit()?new WEe(n):new Qm(n)}(i);this.processor_=function xAe(n){return{filter:n}}(s);const l=e.serverCache,d=e.eventCache,f=r.updateFullNode(Xt.EMPTY_NODE,l.getNode(),null),v=s.updateFullNode(Xt.EMPTY_NODE,d.getNode(),null),b=new Vu(f,l.isFullyInitialized(),r.filtersNodes()),S=new Vu(v,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=ab(S,b),this.eventGenerator_=new sAe(this.query_)}get query(){return this.query_}}function PAe(n,t){const e=Jd(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!cn(t)&&!e.getImmediateChild(an(t)).isEmpty())?e.getChild(t):null}function fW(n){return 0===n.eventRegistrations_.length}function pW(n,t,e){const i=[];if(e){(0,P.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(e,r);l&&i.push(l)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function mW(n,t,e,i){t.type===c2.MERGE&&null!==t.source.queryId&&((0,P.hu)(Jd(n.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(cb(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function AAe(n,t,e,i,r){const s=new SAe;let l,d;if(e.type===c2.OVERWRITE){const v=e;v.source.fromUser?l=sI(n,t,v.path,v.snap,i,r,s):((0,P.hu)(v.source.fromServer,"Unknown source."),d=v.source.tagged||t.serverCache.isFiltered()&&!cn(v.path),l=hb(n,t,v.path,v.snap,i,r,d,s))}else if(e.type===c2.MERGE){const v=e;v.source.fromUser?l=function IAe(n,t,e,i,r,s,l){let d=t;return i.foreach((f,v)=>{const b=Vi(e,f);dW(t,an(b))&&(d=sI(n,d,b,v,r,s,l))}),i.foreach((f,v)=>{const b=Vi(e,f);dW(t,an(b))||(d=sI(n,d,b,v,r,s,l))}),d}(n,t,v.path,v.children,i,r,s):((0,P.hu)(v.source.fromServer,"Unknown source."),d=v.source.tagged||t.serverCache.isFiltered(),l=oI(n,t,v.path,v.children,i,r,d,s))}else if(e.type===c2.ACK_USER_WRITE){const v=e;l=v.revert?function LAe(n,t,e,i,r,s){let l;if(null!=db(i,e))return t;{const d=new rI(i,t,r),f=t.eventCache.getNode();let v;if(cn(e)||".priority"===an(e)){let b;if(t.serverCache.isFullyInitialized())b=ub(i,Jd(t));else{const S=t.serverCache.getNode();(0,P.hu)(S instanceof Xt,"serverChildren would be complete if leaf node"),b=nI(i,S)}v=n.filter.updateFullNode(f,b,s)}else{const b=an(e);let S=iI(i,b,t.serverCache);null==S&&t.serverCache.isCompleteForChild(b)&&(S=f.getImmediateChild(b)),v=null!=S?n.filter.updateChild(f,b,S,ii(e),d,s):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(f,b,Xt.EMPTY_NODE,ii(e),d,s):f,v.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=ub(i,Jd(t)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,s)))}return l=t.serverCache.isFullyInitialized()||null!=db(i,Ln()),eg(t,v,l,n.filter.filtersNodes())}}(n,t,v.path,i,r,s):function kAe(n,t,e,i,r,s,l){if(null!=db(r,e))return t;const d=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(cn(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return hb(n,t,e,f.getNode().getChild(e),r,s,d,l);if(cn(e)){let v=new ui(null);return f.getNode().forEachChild(Jc,(b,S)=>{v=v.set(new Un(b),S)}),oI(n,t,e,v,r,s,d,l)}return t}{let v=new ui(null);return i.foreach((b,S)=>{const I=Vi(e,b);f.isCompleteForPath(I)&&(v=v.set(b,f.getNode().getChild(I)))}),oI(n,t,e,v,r,s,d,l)}}(n,t,v.path,v.affectedTree,i,r,s)}else{if(e.type!==c2.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+e.type);l=function VAe(n,t,e,i,r){const s=t.serverCache;return uW(n,eW(t,s.getNode(),s.isFullyInitialized()||cn(e),s.isFiltered()),e,i,lW,r)}(n,t,e.path,i,s)}const f=s.getChanges();return function TAe(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=cb(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(K$(cb(t)))}}(t,l,f),{viewCache:l,changes:f}}(n.processor_,r,t,e,i);return function EAe(n,t){(0,P.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,P.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,gW(n,s.changes,s.viewCache.eventCache.getNode(),null)}function gW(n,t,e,i){return function oAe(n,t,e,i){const r=[],s=[];return t.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function $Ee(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(l.childName,l.snapshotNode))}),Jm(n,r,"child_removed",t,i,e),Jm(n,r,"child_added",t,i,e),Jm(n,r,"child_moved",s,i,e),Jm(n,r,"child_changed",t,i,e),Jm(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let fb,mb;class _W{constructor(){this.views=new Map}}function aI(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,P.hu)(null!=s,"SyncTree gave us an op for an invalid query."),mW(s,t,e,i)}{let s=[];for(const l of n.views.values())s=s.concat(mW(l,t,e,i));return s}}function vW(n,t,e,i,r){const l=n.views.get(t._queryIdentifier);if(!l){let d=ub(e,r?i:null),f=!1;d?f=!0:i instanceof Xt?(d=nI(e,i),f=!1):(d=Xt.EMPTY_NODE,f=!1);const v=ab(new Vu(d,f,!1),new Vu(i,r,!1));return new HAe(t,v)}return l}function yW(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Hu(n,t){let e=null;for(const i of n.views.values())e=e||PAe(i,t);return e}function CW(n,t){return t._queryParams.loadsAllData()?pb(n):n.views.get(t._queryIdentifier)}function bW(n,t){return null!=CW(n,t)}function zu(n){return null!=pb(n)}function pb(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let WAe=1;class MW{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ui(null),this.pendingWriteTree_=function MAe(){return{visibleWrites:g1.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cI(n,t,e,i,r){return function uAe(n,t,e,i,r){(0,P.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=tg(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?P8(n,new Xd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Nu(n,t,e=!1){const i=function hAe(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function fAe(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,P.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const d=n.allWrites[l];d.visible&&(l>=e&&pAe(d,i.path)?r=!1:a2(i.path,d.path)&&(s=!0)),l--}return!!r&&(s?(function mAe(n){n.visibleWrites=rW(n.allWrites,gAe,Ln()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=tW(n.visibleWrites,i.path):ns(i.children,f=>{n.visibleWrites=tW(n.visibleWrites,Vi(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let s=new ui(null);return null!=i.snap?s=s.set(Ln(),!0):ns(i.children,l=>{s=s.set(new Un(l),!0)}),P8(n,new ob(i.path,s,e))}return[]}function ng(n,t,e){return P8(n,new Xd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function gb(n,t,e,i,r=!1){const s=t._path,l=n.syncPointTree_.get(s);let d=[];if(l&&("default"===t._queryIdentifier||bW(l,t))){const f=function GAe(n,t,e,i){const r=t._queryIdentifier,s=[];let l=[];const d=zu(n);if("default"===r)for(const[f,v]of n.views.entries())l=l.concat(pW(v,e,i)),fW(v)&&(n.views.delete(f),v.query._queryParams.loadsAllData()||s.push(v.query));else{const f=n.views.get(r);f&&(l=l.concat(pW(f,e,i)),fW(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return d&&!zu(n)&&s.push(new(function BAe(){return(0,P.hu)(fb,"Reference.ts has not been loaded"),fb}())(t._repo,t._path)),{removed:s,events:l}}(l,t,e,i);(function UAe(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=f.removed;if(d=f.events,!r){const b=-1!==v.findIndex(I=>I._queryParams.loadsAllData()),S=n.syncPointTree_.findOnPath(s,(I,H)=>zu(H));if(b&&!S){const I=n.syncPointTree_.subtree(s);if(!I.isEmpty()){const H=function eTe(n){return n.fold((t,e,i)=>{if(e&&zu(e))return[pb(e)];{let r=[];return e&&(r=yW(e)),ns(i,(s,l)=>{r=r.concat(l)}),r}})}(I);for(let N=0;N<H.length;++N){const j=H[N],J=j.query,De=xW(n,j);n.listenProvider_.startListening(rg(J),ig(n,J),De.hashFn,De.onComplete)}}}!S&&v.length>0&&!i&&(b?n.listenProvider_.stopListening(rg(t),null):v.forEach(I=>{const H=n.queryToTagMap.get(vb(I));n.listenProvider_.stopListening(rg(I),H)}))}!function tTe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=vb(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,v)}return d}function wW(n,t,e,i){const r=uI(n,i);if(null!=r){const s=dI(r),l=s.path,d=s.queryId,f=ho(l,t);return hI(n,l,new Xd(QT(d),f,e))}return[]}function lI(n,t,e,i=!1){const r=t._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(I,H)=>{const N=ho(I,r);s=s||Hu(H,N),l=l||zu(H)});let f,d=n.syncPointTree_.get(r);d?(l=l||zu(d),s=s||Hu(d,Ln())):(d=new _W,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?f=!0:(f=!1,s=Xt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((H,N)=>{const j=Hu(N,Ln());j&&(s=s.updateImmediateChild(H,j))}));const v=bW(d,t);if(!v&&!t._queryParams.loadsAllData()){const I=vb(t);(0,P.hu)(!n.queryToTagMap.has(I),"View does not exist, but we have a tag");const H=function nTe(){return WAe++}();n.queryToTagMap.set(I,H),n.tagToQueryMap.set(H,I)}let S=function jAe(n,t,e,i,r,s){const l=vW(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,l),function OAe(n,t){n.eventRegistrations_.push(t)}(l,e),function RAe(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(li,(s,l)=>{i.push(L8(s,l))}),e.isFullyInitialized()&&i.push(K$(e.getNode())),gW(n,i,e.getNode(),t)}(l,e)}(d,t,e,lb(n.pendingWriteTree_,r),s,f);if(!v&&!l&&!i){const I=CW(d,t);S=S.concat(function iTe(n,t,e){const i=t._path,r=ig(n,t),s=xW(n,e),l=n.listenProvider_.startListening(rg(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,P.hu)(!zu(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((v,b,S)=>{if(!cn(v)&&b&&zu(b))return[pb(b).query];{let I=[];return b&&(I=I.concat(yW(b).map(H=>H.query))),ns(S,(H,N)=>{I=I.concat(N)}),I}});for(let v=0;v<f.length;++v){const b=f[v];n.listenProvider_.stopListening(rg(b),ig(n,b))}}return l}(n,t,I))}return S}function _b(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(l,d)=>{const v=Hu(d,ho(l,t));if(v)return v});return sW(r,t,s,e,!0)}function P8(n,t){return SW(t,n.syncPointTree_,null,lb(n.pendingWriteTree_,Ln()))}function SW(n,t,e,i){if(cn(n.path))return DW(n,t,e,i);{const r=t.get(Ln());null==e&&null!=r&&(e=Hu(r,Ln()));let s=[];const l=an(n.path),d=n.operationForChild(l),f=t.children.get(l);if(f&&d){const v=e?e.getImmediateChild(l):null,b=aW(i,l);s=s.concat(SW(d,f,v,b))}return r&&(s=s.concat(aI(r,n,i,e))),s}}function DW(n,t,e,i){const r=t.get(Ln());null==e&&null!=r&&(e=Hu(r,Ln()));let s=[];return t.children.inorderTraversal((l,d)=>{const f=e?e.getImmediateChild(l):null,v=aW(i,l),b=n.operationForChild(l);b&&(s=s.concat(DW(b,d,f,v)))}),r&&(s=s.concat(aI(r,n,i,e))),s}function xW(n,t){const e=t.query,i=ig(n,e);return{hashFn:()=>(function zAe(n){return n.viewCache_.serverCache.getNode()}(t)||Xt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function QAe(n,t,e){const i=uI(n,e);if(i){const r=dI(i),s=r.path,l=r.queryId,d=ho(s,t);return hI(n,s,new Xm(QT(l),d))}return[]}(n,e._path,i):function KAe(n,t){return P8(n,new Xm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function Yxe(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return gb(n,e,null,s)}}}}function ig(n,t){const e=vb(t);return n.queryToTagMap.get(e)}function vb(n){return n._path.toString()+"$"+n._queryIdentifier}function uI(n,t){return n.tagToQueryMap.get(t)}function dI(n){const t=n.indexOf("$");return(0,P.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Un(n.substr(0,t))}}function hI(n,t,e){const i=n.syncPointTree_.get(t);return(0,P.hu)(i,"Missing sync point for query tag that we're tracking"),aI(i,e,lb(n.pendingWriteTree_,t),null)}function rg(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function $Ae(){return(0,P.hu)(mb,"Reference.ts has not been loaded"),mb}())(n._repo,n._path):n}class fI{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new fI(e)}node(){return this.node_}}class pI{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Vi(this.path_,t);return new pI(this.syncTree_,e)}node(){return _b(this.syncTree_,this.path_)}}const EW=function(n,t,e){return n&&"object"==typeof n?((0,P.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?sTe(n[".sv"],t,e):"object"==typeof n[".sv"]?oTe(n[".sv"],t):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},sTe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,P.hu)(!1,"Unexpected server value: "+n)},oTe=function(n,t,e){n.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,P.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,P.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},AW=function(n,t,e,i){return gI(t,new pI(e,n),i)},mI=function(n,t,e){return gI(n,new fI(t),e)};function gI(n,t,e){const i=n.getPriority().val(),r=EW(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const l=n,d=EW(l.getValue(),t,e);return d!==l.getValue()||r!==l.getPriority().val()?new k8(d,Wi(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new k8(r))),l.forEachChild(li,(d,f)=>{const v=gI(f,t.getImmediateChild(d),e);v!==f&&(s=s.updateImmediateChild(d,v))}),s}}class _I{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function yb(n,t){let e=t instanceof Un?t:new Un(t),i=n,r=an(e);for(;null!==r;){const s=(0,P.DV)(i.node.children,r)||{children:{},childCount:0};i=new _I(r,i,s),e=ii(e),r=an(e)}return i}function t0(n){return n.node.value}function vI(n,t){n.node.value=t,yI(n)}function TW(n){return n.node.childCount>0}function Cb(n,t){ns(n.node.children,(e,i)=>{t(new _I(e,n,i))})}function IW(n,t,e,i){e&&!i&&t(n),Cb(n,r=>{IW(r,t,!0,i)}),e&&i&&t(n)}function sg(n){return new Un(null===n.parent?n.name:sg(n.parent)+"/"+n.name)}function yI(n){null!==n.parent&&function lTe(n,t,e){const i=function aTe(n){return void 0===t0(n)&&!TW(n)}(e),r=(0,P.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,yI(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,yI(n))}(n.parent,n.name,n)}const uTe=/[\[\].#$\/\u0000-\u001F\u007F]/,dTe=/[\[\].#$\u0000-\u001F\u007F]/,CI=10485760,bb=function(n){return"string"==typeof n&&0!==n.length&&!uTe.test(n)},kW=function(n){return"string"==typeof n&&0!==n.length&&!dTe.test(n)},og=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!ZC(n)||n&&"object"==typeof n&&(0,P.r3)(n,".sv")},el=function(n,t,e,i){i&&void 0===t||ag((0,P.gK)(n,"value"),t,e)},ag=function(n,t,e){const i=e instanceof Un?new AEe(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Kd(i));if("function"==typeof t)throw new Error(n+"contains a function "+Kd(i)+" with contents = "+t.toString());if(ZC(t))throw new Error(n+"contains "+t.toString()+" "+Kd(i));if("string"==typeof t&&t.length>CI/3&&(0,P.ug)(t)>CI)throw new Error(n+"contains a string greater than "+CI+" utf8 bytes "+Kd(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(ns(t,(l,d)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!bb(l)))throw new Error(n+" contains an invalid key ("+l+") "+Kd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function TEe(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,P.ug)(t),B$(n)})(i,l),ag(n,d,i),function IEe(n){const t=n.parts_.pop();n.byteLength_-=(0,P.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Kd(i)+" in addition to actual children.")}},VW=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,P.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];ns(t,(l,d)=>{const f=new Un(l);if(ag(r,d,Vi(e,f)),".priority"===NT(f)&&!og(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=qm(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!bb(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(EEe);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&a2(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},bI=function(n,t,e){if(!e||void 0!==t){if(ZC(t))throw new Error((0,P.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!og(t))throw new Error((0,P.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cg=function(n,t,e,i){if(!(i&&void 0===e||bb(e)))throw new Error((0,P.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},lg=function(n,t,e,i){if(!(i&&void 0===e||kW(e)))throw new Error((0,P.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},l2=function(n,t){if(".info"===an(t))throw new Error(n+" failed = Can't modify data under /.info/")},LW=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!bb(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kW(n)}(e))throw new Error((0,P.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class mTe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mb(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!PT(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function HW(n,t,e){Mb(n,e),zW(n,i=>PT(i,t))}function wa(n,t,e){Mb(n,e),zW(n,i=>a2(i,t)||a2(t,i))}function zW(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(gTe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function gTe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Zd&&ts("event: "+e.toString()),T8(i)}}}const NW="repo_interrupt";class vTe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mTe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sb(),this.transactionQueueTree_=new _I,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function PW(n){const e=n.infoData_.getNode(new Un(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ug(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:PW(n)})}function OW(n,t,e,i,r){n.dataUpdateCount++;const s=new Un(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(i){const f=(0,P.UI)(e,v=>Wi(v));l=function XAe(n,t,e,i){const r=uI(n,i);if(r){const s=dI(r),l=s.path,d=s.queryId,f=ho(l,t),v=ui.fromObject(e);return hI(n,l,new z8(QT(d),f,v))}return[]}(n.serverSyncTree_,s,f,r)}else{const f=Wi(e);l=wW(n.serverSyncTree_,s,f,r)}else if(i){const f=(0,P.UI)(e,v=>Wi(v));l=function YAe(n,t,e){const i=ui.fromObject(e);return P8(n,new z8({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,f)}else{const f=Wi(e);l=ng(n.serverSyncTree_,s,f)}let d=s;l.length>0&&(d=R8(n,s)),wa(n.eventQueue_,d,l)}function RW(n,t){MI(n,"connected",t),!1===t&&function wTe(n){O8(n,"onDisconnectEvents");const t=ug(n),e=sb();ZT(n.onDisconnect_,Ln(),(r,s)=>{const l=AW(r,s,n.serverSyncTree_,t);H8(e,r,l)});let i=[];ZT(e,Ln(),(r,s)=>{i=i.concat(ng(n.serverSyncTree_,r,s));const l=xI(n,r);R8(n,l)}),n.onDisconnect_=sb(),wa(n.eventQueue_,Ln(),i)}(n)}function MI(n,t,e){const i=new Un("/.info/"+t),r=Wi(e);n.infoData_.updateSnapshot(i,r);const s=ng(n.infoSyncTree_,i,r);wa(n.eventQueue_,i,s)}function wb(n){return n.nextWriteId_++}function wI(n,t,e,i,r){O8(n,"set",{path:t.toString(),value:e,priority:i});const s=ug(n),l=Wi(e,i),d=_b(n.serverSyncTree_,t),f=mI(l,d,s),v=wb(n),b=cI(n.serverSyncTree_,t,f,v,!0);Mb(n.eventQueue_,b),n.server_.put(t.toString(),l.val(!0),(I,H)=>{const N="ok"===I;N||Ns("set at "+t+" failed: "+I);const j=Nu(n.serverSyncTree_,v,!N);wa(n.eventQueue_,t,j),Pu(0,r,I,H)});const S=xI(n,t);R8(n,S),wa(n.eventQueue_,S,[])}function STe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&WT(n.onDisconnect_,t),Pu(0,e,i,r)})}function FW(n,t,e,i){const r=Wi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,l)=>{"ok"===s&&H8(n.onDisconnect_,t,r),Pu(0,i,s,l)})}function SI(n,t,e){let i;i=".info"===an(t._path)?gb(n.infoSyncTree_,t,e):gb(n.serverSyncTree_,t,e),HW(n.eventQueue_,t._path,i)}function BW(n){n.persistentConnection_&&n.persistentConnection_.interrupt(NW)}function O8(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ts(e,...t)}function Pu(n,t,e,i){t&&T8(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,t(l)}})}function DI(n,t,e){return _b(n.serverSyncTree_,t,e)||Xt.EMPTY_NODE}function Sb(n,t=n.transactionQueueTree_){if(t||Db(n,t),t0(t)){const e=jW(n,t);(0,P.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function ITe(n,t,e){const i=e.map(v=>v.currentWriteId),r=DI(n,t,i);let s=r;const l=r.hash();for(let v=0;v<e.length;v++){const b=e[v];(0,P.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const S=ho(t,b.path);s=s.updateChild(S,b.currentOutputSnapshotRaw)}const d=s.val(!0),f=t;n.server_.put(f.toString(),d,v=>{O8(n,"transaction put response",{path:f.toString(),status:v});let b=[];if("ok"===v){const S=[];for(let I=0;I<e.length;I++)e[I].status=2,b=b.concat(Nu(n.serverSyncTree_,e[I].currentWriteId)),e[I].onComplete&&S.push(()=>e[I].onComplete(null,!0,e[I].currentOutputSnapshotResolved)),e[I].unwatcher();Db(n,yb(n.transactionQueueTree_,t)),Sb(n,n.transactionQueueTree_),wa(n.eventQueue_,t,b);for(let I=0;I<S.length;I++)T8(S[I])}else{if("datastale"===v)for(let S=0;S<e.length;S++)e[S].status=3===e[S].status?4:0;else{Ns("transaction at "+f.toString()+" failed: "+v);for(let S=0;S<e.length;S++)e[S].status=4,e[S].abortReason=v}R8(n,t)}},l)}(n,sg(t),e)}else TW(t)&&Cb(t,e=>{Sb(n,e)})}function R8(n,t){const e=UW(n,t),i=sg(e);return function kTe(n,t,e){if(0===t.length)return;const i=[];let r=[];const l=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const f=t[d],v=ho(e,f.path);let S,b=!1;if((0,P.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)b=!0,S=f.abortReason,r=r.concat(Nu(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)b=!0,S="maxretry",r=r.concat(Nu(n.serverSyncTree_,f.currentWriteId,!0));else{const I=DI(n,f.path,l);f.currentInputSnapshot=I;const H=t[d].update(I.val());if(void 0!==H){ag("transaction failed: Data returned ",H,f.path);let N=Wi(H);"object"==typeof H&&null!=H&&(0,P.r3)(H,".priority")||(N=N.updatePriority(I.getPriority()));const J=f.currentWriteId,De=ug(n),Pe=mI(N,I,De);f.currentOutputSnapshotRaw=N,f.currentOutputSnapshotResolved=Pe,f.currentWriteId=wb(n),l.splice(l.indexOf(J),1),r=r.concat(cI(n.serverSyncTree_,f.path,Pe,f.currentWriteId,f.applyLocally)),r=r.concat(Nu(n.serverSyncTree_,J,!0))}else b=!0,S="nodata",r=r.concat(Nu(n.serverSyncTree_,f.currentWriteId,!0))}wa(n.eventQueue_,e,r),r=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===S?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(S),!1,null)))}Db(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)T8(i[d]);Sb(n,n.transactionQueueTree_)}(n,jW(n,e),i),i}function UW(n,t){let e,i=n.transactionQueueTree_;for(e=an(t);null!==e&&void 0===t0(i);)i=yb(i,e),e=an(t=ii(t));return i}function jW(n,t){const e=[];return GW(n,t,e),e.sort((i,r)=>i.order-r.order),e}function GW(n,t,e){const i=t0(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Cb(t,r=>{GW(n,r,e)})}function Db(n,t){const e=t0(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,vI(t,e.length>0?e:void 0)}Cb(t,i=>{Db(n,i)})}function xI(n,t){const e=sg(UW(n,t)),i=yb(n.transactionQueueTree_,t);return function cTe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{EI(n,r)}),EI(n,i),IW(i,r=>{EI(n,r)}),e}function EI(n,t){const e=t0(t);if(e){const i=[];let r=[],s=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,P.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,e[l].status=3,e[l].abortReason="set"):((0,P.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(Nu(n.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&i.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?vI(t,void 0):e.length=s+1,wa(n.eventQueue_,sg(t),r);for(let l=0;l<i.length;l++)T8(i[l])}}const AI=function(n,t){const e=HTe(n),i=e.namespace;return"firebase.com"===e.domain&&Xc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Xc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ns("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new IT(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Un(e.pathString)}},HTe=function(n){let t="",e="",i="",r="",s="",l=!0,d="https",f=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(d=n.substring(0,v-1),n=n.substring(v+2));let b=n.indexOf("/");-1===b&&(b=n.length);let S=n.indexOf("?");-1===S&&(S=n.length),t=n.substring(0,Math.min(b,S)),b<S&&(r=function VTe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,S)));const I=function LTe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ns(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,S)));v=t.indexOf(":"),v>=0?(l="https"===d||"wss"===d,f=parseInt(t.substring(v+1),10)):v=t.length;const H=t.slice(0,v);if("localhost"===H.toLowerCase())e="localhost";else if(H.split(".").length<=2)e=H;else{const N=t.indexOf(".");i=t.substring(0,N).toLowerCase(),e=t.substring(N+1),s=i}"ns"in I&&(s=I.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:l,scheme:d,pathString:r,namespace:s}},qW="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zTe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=qW.charAt(e%64),e=Math.floor(e/64);(0,P.hu)(0===e,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=qW.charAt(t[r]);return(0,P.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class $W{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Wl)(this.snapshot.exportVal())}}class WW{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class TI{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class ZW{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new P.BH;return STe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){l2("OnDisconnect.remove",this._path);const t=new P.BH;return FW(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){l2("OnDisconnect.set",this._path),el("OnDisconnect.set",t,this._path,!1);const e=new P.BH;return FW(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){l2("OnDisconnect.setWithPriority",this._path),el("OnDisconnect.setWithPriority",t,this._path,!1),bI("OnDisconnect.setWithPriority",e,!1);const i=new P.BH;return function DTe(n,t,e,i,r){const s=Wi(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(l,d)=>{"ok"===l&&H8(n.onDisconnect_,t,s),Pu(0,r,l,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){l2("OnDisconnect.update",this._path),VW("OnDisconnect.update",t,this._path,!1);const e=new P.BH;return function xTe(n,t,e,i){if((0,P.xb)(e))return ts("onDisconnect().update() called with empty data.  Don't do anything."),void Pu(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&ns(e,(l,d)=>{const f=Wi(d);H8(n.onDisconnect_,Vi(t,l),f)}),Pu(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Fo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return cn(this._path)?null:NT(this._path)}get ref(){return new u2(this._repo,this._path)}get _queryIdentifier(){const t=X$(this._queryParams),e=AT(t);return"{}"===e?"default":e}get _queryObject(){return X$(this._queryParams)}isEqual(t){if(!((t=(0,P.m9)(t))instanceof Fo))return!1;const e=this._repo===t._repo,i=PT(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function xEe(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function xb(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ou(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Jc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Tu)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==H3)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===li){if(null!=t&&!og(t)||null!=e&&!og(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(n.getIndex()instanceof UT||n.getIndex()===jT,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Eb(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class u2 extends Fo{constructor(t,e){super(t,e,new nb,!1)}get parent(){const t=F$(this._path);return null===t?null:new u2(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class n0{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Un(t),i=r0(this.ref,t);return new n0(this._node.getChild(e),i,li)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new n0(r,r0(this.ref,i),li)))}hasChild(t){const e=new Un(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function YW(n,t){return(n=(0,P.m9)(n))._checkNotDeleted("ref"),void 0!==t?r0(n._root,t):n._root}function KW(n,t){(n=(0,P.m9)(n))._checkNotDeleted("refFromURL");const e=AI(t,n._repo.repoInfo_.nodeAdmin);LW("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Xc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),YW(n,e.path.toString())}function r0(n,t){return null===an((n=(0,P.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),lg("child","path",e,!1)):lg("child","path",t,!1),new u2(n._repo,Vi(n._path,t));var e}function II(n,t){n=(0,P.m9)(n),l2("set",n._path),el("set",t,n._path,!1);const e=new P.BH;return wI(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function FTe(n,t){VW("update",t,n._path,!1);const e=new P.BH;return function MTe(n,t,e,i){O8(n,"update",{path:t.toString(),value:e});let r=!0;const s=ug(n),l={};if(ns(e,(d,f)=>{r=!1,l[d]=AW(Vi(t,d),Wi(f),n.serverSyncTree_,s)}),r)ts("update() called with empty data.  Don't do anything."),Pu(0,i,"ok",void 0);else{const d=wb(n),f=function ZAe(n,t,e,i){!function dAe(n,t,e,i){(0,P.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=JT(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ui.fromObject(e);return P8(n,new z8({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,l,d);Mb(n.eventQueue_,f),n.server_.merge(t.toString(),e,(v,b)=>{const S="ok"===v;S||Ns("update at "+t+" failed: "+v);const I=Nu(n.serverSyncTree_,d,!S),H=I.length>0?R8(n,t):t;wa(n.eventQueue_,H,I),Pu(0,i,v,b)}),ns(e,v=>{const b=xI(n,Vi(t,v));R8(n,b)}),wa(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function BTe(n){n=(0,P.m9)(n);const t=new TI(()=>{}),e=new dg(t);return function bTe(n,t,e){const i=function JAe(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(v,b)=>{const S=ho(v,e);i=i||Hu(b,S)});let r=n.syncPointTree_.get(e);r?i=i||Hu(r,Ln()):(r=new _W,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,l=s?new Vu(i,!0,!1):null;return function NAe(n){return cb(n.viewCache_)}(vW(r,t,lb(n.pendingWriteTree_,t._path),s?l.getNode():Xt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=Wi(r).withIndex(t._queryParams.getIndex());let l;if(lI(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())l=ng(n.serverSyncTree_,t._path,s);else{const d=ig(n.serverSyncTree_,t);l=wW(n.serverSyncTree_,t._path,s,d)}return wa(n.eventQueue_,t._path,l),gb(n.serverSyncTree_,t,e,null,!0),s},r=>(O8(n,"get for query "+(0,P.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new n0(i,new u2(n._repo,n._path),n._queryParams.getIndex()))}class dg{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new $W("value",this,new n0(t.snapshotNode,new u2(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new WW(this,t,e):null}matches(t){return t instanceof dg&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ab{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new WW(this,t,e):null}createEvent(t,e){(0,P.hu)(null!=t.childName,"Child events should have a childName.");const i=r0(new u2(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new $W(t.type,this,new n0(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Ab&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function hg(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const f=e,v=(b,S)=>{SI(n._repo,n,d),f(b,S)};v.userCallback=e.userCallback,v.context=e.context,e=v}const l=new TI(e,s||void 0),d="value"===t?new dg(l):new Ab(t,l);return function ETe(n,t,e){let i;i=".info"===an(t._path)?lI(n.infoSyncTree_,t,e):lI(n.serverSyncTree_,t,e),HW(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>SI(n._repo,n,d)}function kI(n,t,e,i){return hg(n,"value",t,e,i)}function QW(n,t,e,i){return hg(n,"child_added",t,e,i)}function XW(n,t,e,i){return hg(n,"child_changed",t,e,i)}function JW(n,t,e,i){return hg(n,"child_moved",t,e,i)}function eZ(n,t,e,i){return hg(n,"child_removed",t,e,i)}function tZ(n,t,e){let i=null;const r=e?new TI(e):null;"value"===t?i=new dg(r):t&&(i=new Ab(t,r)),SI(n._repo,n,i)}class _1{}class nZ extends _1{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){el("endAt",this._value,t._path,!0);const e=$T(t._queryParams,this._value,this._key);if(Eb(e),Ou(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class jTe extends _1{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){el("endBefore",this._value,t._path,!1);const e=function XEe(n,t,e){let i;return i=$T(n,t,n.index_===Jc||e?e:Tu),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(Eb(e),Ou(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class iZ extends _1{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){el("startAt",this._value,t._path,!0);const e=qT(t._queryParams,this._value,this._key);if(Eb(e),Ou(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class $Te extends _1{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){el("startAfter",this._value,t._path,!1);const e=function QEe(n,t,e){let i;return i=qT(n,t,n.index_===Jc||e?e:H3),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Eb(e),Ou(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class ZTe extends _1{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fo(t._repo,t._path,function YEe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class KTe extends _1{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fo(t._repo,t._path,function KEe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class XTe extends _1{constructor(t){super(),this._path=t}_apply(t){xb(t,"orderByChild");const e=new Un(this._path);if(cn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new UT(e),r=ib(t._queryParams,i);return Ou(r),new Fo(t._repo,t._path,r,!0)}}class eIe extends _1{_apply(t){xb(t,"orderByKey");const e=ib(t._queryParams,Jc);return Ou(e),new Fo(t._repo,t._path,e,!0)}}class nIe extends _1{_apply(t){xb(t,"orderByPriority");const e=ib(t._queryParams,li);return Ou(e),new Fo(t._repo,t._path,e,!0)}}class rIe extends _1{_apply(t){xb(t,"orderByValue");const e=ib(t._queryParams,jT);return Ou(e),new Fo(t._repo,t._path,e,!0)}}class oIe extends _1{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(el("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new nZ(this._value,this._key)._apply(new iZ(this._value,this._key)._apply(t))}}function v1(n,...t){let e=(0,P.m9)(n);for(const i of t)e=i._apply(e);return e}(function FAe(n){(0,P.hu)(!fb,"__referenceConstructor has already been defined"),fb=n})(u2),function qAe(n){(0,P.hu)(!mb,"__referenceConstructor has already been defined"),mb=n}(u2);const VI={};function sZ(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Xc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ts("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,v,l=AI(s,r),d=l.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(f=!0,s=`http://${v}?ns=${d.namespace}`,l=AI(s,r),d=l.repoInfo):f=!l.repoInfo.secure;const b=r&&f?new Gm(Gm.OWNER):new tEe(n.name,n.options,t);LW("Invalid Firebase Database URL",l),cn(l.path)||Xc("Database URL must point to the root of a Firebase Database (not including a child path).");const S=function dIe(n,t,e,i){let r=VI[t.name];r||(r={},VI[t.name]=r);let s=r[n.toURLString()];return s&&Xc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new vTe(n,false,e,i),r[n.toURLString()]=s,s}(d,n,b,new eEe(n.name,e));return new fIe(S,n)}class fIe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function yTe(n,t,e){if(n.stats_=LT(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new rb(n.repoInfo_,(i,r,s,l)=>{OW(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>RW(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Qd(n.repoInfo_,t,(i,r,s,l)=>{OW(n,i,r,s,l)},i=>{RW(n,i)},i=>{!function CTe(n,t){ns(t,(e,i)=>{MI(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function rEe(n,t){const e=n.toString();return VT[e]||(VT[e]=t()),VT[e]}(n.repoInfo_,()=>new rAe(n.stats_,n.server_)),n.infoData_=new JEe,n.infoSyncTree_=new MW({startListening:(i,r,s,l)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=ng(n.infoSyncTree_,i._path,f),setTimeout(()=>{l("ok")},0)),d},stopListening:()=>{}}),MI(n,"connected",!1),n.serverSyncTree_=new MW({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(d,f)=>{const v=l(d,f);wa(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new u2(this._repo,Ln())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function uIe(n,t){const e=VI[t];(!e||e[n.key]!==n)&&Xc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),BW(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Xc("Cannot call "+t+" on a deleted database.")}}function oZ(){A$.IS_TRANSPORT_INITIALIZED&&Ns("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function pIe(){oZ(),Iu.forceDisallow()}function mIe(){oZ(),I8.forceDisallow(),Iu.forceAllow()}function vIe(n,t){c$(n,t)}const CIe={".sv":"timestamp"};class wIe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Qd.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Qd.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function yIe(n){i$(ms.SDK_VERSION),(0,ms._registerComponent)(new Qi.wA("database",(t,{instanceIdentifier:e})=>sZ(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ms.registerVersion)(t$,"0.14.0",n),(0,ms.registerVersion)(t$,"0.14.0","esm2017")}();const EIe=new Ui.Yd("@firebase/database-compat"),cZ=function(n){EIe.warn("FIREBASE WARNING: "+n)};class IIe{constructor(t){this._delegate=t}cancel(t){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,cZ("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class kIe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ru{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),lg("DataSnapshot.child","path",t,!1),new Ru(this._database,this._delegate.child(t))}hasChild(t){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),lg("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Ru(this._database,e)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new Sa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ms{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",e,!1);const l=Ms.getCancelAndContextArgs_("Query.on",i,r),d=(v,b)=>{e.call(l.context,new Ru(this.database,v),b)};d.userCallback=e,d.context=l.context;const f=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(t){case"value":return kI(this._delegate,d,f),e;case"child_added":return QW(this._delegate,d,f),e;case"child_removed":return eZ(this._delegate,d,f),e;case"child_changed":return XW(this._delegate,d,f),e;case"child_moved":return JW(this._delegate,d,f),e;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,P.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,P.Wj)("Query.off","callback",e,!0),(0,P.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,tZ(this._delegate,t,r)}else tZ(this._delegate,t)}get(){return BTe(this._delegate).then(t=>new Ru(this.database,t))}once(t,e,i,r){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",e,!0);const s=Ms.getCancelAndContextArgs_("Query.once",i,r),l=new P.BH,d=(v,b)=>{const S=new Ru(this.database,v);e&&e.call(s.context,S,b),l.resolve(S)};d.userCallback=e,d.context=s.context;const f=v=>{s.cancel&&s.cancel.call(s.context,v),l.reject(v)};switch(t){case"value":kI(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":QW(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":eZ(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":XW(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":JW(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(t){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new Ms(this.database,v1(this._delegate,function YTe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ZTe(n)}(t)))}limitToLast(t){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new Ms(this.database,v1(this._delegate,function QTe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new KTe(n)}(t)))}orderByChild(t){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new Ms(this.database,v1(this._delegate,function JTe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return lg("orderByChild","path",n,!1),new XTe(n)}(t)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new Ms(this.database,v1(this._delegate,function tIe(){return new eIe}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new Ms(this.database,v1(this._delegate,function iIe(){return new nIe}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new Ms(this.database,v1(this._delegate,function sIe(){return new rIe}()))}startAt(t=null,e){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new Ms(this.database,v1(this._delegate,function qTe(n=null,t){return cg("startAt","key",t,!0),new iZ(n,t)}(t,e)))}startAfter(t=null,e){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new Ms(this.database,v1(this._delegate,function WTe(n,t){return cg("startAfter","key",t,!0),new $Te(n,t)}(t,e)))}endAt(t=null,e){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new Ms(this.database,v1(this._delegate,function UTe(n,t){return cg("endAt","key",t,!0),new nZ(n,t)}(t,e)))}endBefore(t=null,e){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new Ms(this.database,v1(this._delegate,function GTe(n,t){return cg("endBefore","key",t,!0),new jTe(n,t)}(t,e)))}equalTo(t,e){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new Ms(this.database,v1(this._delegate,function aIe(n,t){return cg("equalTo","key",t,!0),new oIe(n,t)}(t,e)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Ms))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,P.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,P.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,P.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Sa(this.database,new u2(this._delegate._repo,this._delegate._path))}}class Sa extends Ms{constructor(t,e){super(t,new Fo(e._repo,e._path,new nb,!1)),this.database=t,this._delegate=e}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Sa(this.database,r0(this._delegate,t))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Sa(this.database,t):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new Sa(this.database,this._delegate.root)}set(t,e){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",e,!0);const i=II(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,cZ("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}l2("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",e,!0);const i=FTe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function RTe(n,t,e){if(l2("setWithPriority",n._path),el("setWithPriority",t,n._path,!1),bI("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new P.BH;return wI(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",t,!0);const e=function PTe(n){return l2("remove",n._path),II(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,P.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function SIe(n,t,e){var i;if(n=(0,P.m9)(n),l2("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new P.BH,d=kI(n,()=>{});return function TTe(n,t,e,i,r,s){O8(n,"transaction on "+t);const l={path:t,update:e,onComplete:i,status:null,order:s$(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=DI(n,t,void 0);l.currentInputSnapshot=d;const f=l.update(d.val());if(void 0===f)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{ag("transaction failed: Data returned ",f,l.path),l.status=0;const v=yb(n.transactionQueueTree_,t),b=t0(v)||[];let S;b.push(l),vI(v,b),"object"==typeof f&&null!==f&&(0,P.r3)(f,".priority")?(S=(0,P.DV)(f,".priority"),(0,P.hu)(og(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(_b(n.serverSyncTree_,t)||Xt.EMPTY_NODE).getPriority().val();const I=ug(n),H=Wi(f,S),N=mI(H,d,I);l.currentOutputSnapshotRaw=H,l.currentOutputSnapshotResolved=N,l.currentWriteId=wb(n);const j=cI(n.serverSyncTree_,t,N,l.currentWriteId,l.applyLocally);wa(n.eventQueue_,t,j),Sb(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,v,b)=>{let S=null;f?s.reject(f):(S=new n0(b,new u2(n._repo,n._path),li),s.resolve(new wIe(v,S)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new kIe(s.committed,new Ru(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",e,!0);const i=function OTe(n,t){n=(0,P.m9)(n),l2("setPriority",n._path),bI("setPriority",t,!1);const e=new P.BH;return wI(n._repo,Vi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",e,!0);const i=function NTe(n,t){n=(0,P.m9)(n),l2("push",n._path),el("push",t,n._path,!0);const e=PW(n._repo),i=zTe(e),r=r0(n,i),s=r0(n,i);let l;return l=null!=t?II(s,t).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,t),r=i.then(l=>new Sa(this.database,l));e&&r.then(()=>e(null),l=>e(l));const s=new Sa(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return l2("Reference.onDisconnect",this._delegate._path),new IIe(new ZW(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class fg{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:pIe,forceLongPolling:mIe}}useEmulator(t,e,i={}){!function aZ(n,t,e,i={}){(n=(0,P.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Gm(Gm.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,P.Sg)(i.mockUserToken,n.app.options.projectId);s=new Gm(l)}!function lIe(n,t,e,i){n.repoInfo_=new IT(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,P.Dv)("database.ref",0,1,arguments.length),t instanceof Sa){const e=KW(this._delegate,t.toString());return new Sa(this,e)}{const e=YW(this._delegate,t);return new Sa(this,e)}}refFromURL(t){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const i=KW(this._delegate,t);return new Sa(this,i)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function gIe(n){(n=(0,P.m9)(n))._checkNotDeleted("goOffline"),BW(n._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function _Ie(n){(n=(0,P.m9)(n))._checkNotDeleted("goOnline"),function ATe(n){n.persistentConnection_&&n.persistentConnection_.resume(NW)}(n._repo)}(this._delegate)}}fg.ServerValue={TIMESTAMP:function bIe(){return CIe}(),increment:n=>function MIe(n){return{".sv":{increment:n}}}(n)};var LIe=Object.freeze({__proto__:null,initStandalone:function VIe({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){i$(e);const l=new Qi.zt("auth-internal",new Qi.H0("database-standalone"));return l.setComponent(new Qi.wA("auth-internal",()=>i,"PRIVATE")),{instance:new fg(sZ(n,l,void 0,t,s),n),namespace:r}}});const HIe=fg.ServerValue;function lZ(n){return null==n}function uZ(n){return"function"==typeof n.set}function dZ(n,t){return uZ(t)?t:n.ref(t)}function hZ(n,t){if(function NIe(n){return"string"==typeof n}(n))return t.stringCase();if(uZ(n))return t.firebaseCase();if(function PIe(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function pg(n,t,e="on",i=O4.z){return new gn.y(r=>{let s=null;return s=n[e](t,(l,d)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,Je.U)(r=>{const{snapshot:s,prevKey:l}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:l,key:d}}),(0,TL.B)())}function fZ(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function FIe(n,t){const{payload:e,prevKey:i,key:r}=t,s=fZ(n,r),l=function RIe(n,t){if(lZ(t))return 0;{const e=fZ(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(f=>{const v={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(l,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(l,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,d),n}return n;default:return n}}function pZ(n){return(lZ(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function mZ(n,t,e){return function OIe(n,t,e){return pg(n,"value","once",e).pipe(Mn(i=>{const r=[nt(i)];return t.forEach(s=>r.push(pg(n,s,"on",e))),(0,es.T)(...r).pipe(Ft(FIe,[]))}),P6())}(n,t=pZ(t),e)}function gZ(n,t,e){const i=(t=pZ(t)).map(r=>pg(n,r,"on",e));return(0,es.T)(...i)}function _Z(n,t){return function(i,r){return hZ(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function GIe(n){return function(e){return e?hZ(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function vZ(n,t){return function(){return pg(n,"value","on",t)}}!function zIe(n){n.INTERNAL.registerComponent(new Qi.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new fg(r,i)},"PUBLIC").setServiceProps({Reference:Sa,Query:Ms,Database:fg,DataSnapshot:Ru,enableLogging:vIe,INTERNAL:LIe,ServerValue:HIe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.0")}(Vo.Z);const WIe=new o.OlP("angularfire2.realtimeDatabaseURL"),ZIe=new o.OlP("angularfire2.database.use-emulator");let YIe=(()=>{class n{constructor(e,i,r,s,l,d,f,v,b,S,I,H,N,j,J){this.schedulers=d;const De=f,Pe=(0,Bi.on)(e,l,i);v&&kx(Pe,l,b,I,H,N,S,j),this.database=(0,Bi.cc)(`${Pe.name}.database.${r}`,"AngularFireDatabase",Pe.name,()=>{const Oe=l.runOutsideAngular(()=>Pe.database(r||void 0));return De&&Oe.useEmulator(...De),Oe},[De])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>dZ(this.database,e));let s=r;return i&&(s=i(r)),function qIe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:_Z(i,"update"),set:_Z(i,"set"),push:r=>i.push(r),remove:GIe(i),snapshotChanges:r=>mZ(n,r,e).pipe(wn.iC),stateChanges:r=>gZ(n,r,e).pipe(wn.iC),auditTrail:r=>function BIe(n,t,e){return function jIe(n,t,e){return function UIe(n,t){return pg(n,"value","on",t).pipe((0,Je.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Fxe(...n){const t=(0,Ur.jO)(n);return(0,Nn.e)((e,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,jr.Xf)(n[f]).subscribe((0,En.x)(i,v=>{s[f]=v,!d&&!l[f]&&(l[f]=!0,(d=l.every(Ys.y))&&(l=null))},Wy.Z));e.subscribe((0,En.x)(i,f=>{if(d){const v=[f,...s];i.next(t?t(...v):v)}}))})}(t),(0,Je.U)(([r,s])=>{const l=r.lastKeyToLoad,d=s.map(f=>f.key);return{actions:s,lastKeyToLoad:l,loadedKeys:d}}),function Bxe(n){return(0,Nn.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,En.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Je.U)(r=>r.actions))}(n,gZ(n,t).pipe(Ft((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(wn.iC),valueChanges:(r,s)=>mZ(n,r,e).pipe((0,Je.U)(d=>d.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),wn.iC)}}(s,this)}object(e){return function $Ie(n,t){return{query:n,snapshotChanges:()=>vZ(n,t.schedulers.outsideAngular)().pipe(wn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>vZ(n,t.schedulers.outsideAngular)().pipe(wn.iC,(0,Je.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>dZ(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bi.Dh),o.LFG(Bi.xv,8),o.LFG(WIe,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(wn.HU),o.LFG(ZIe,8),o.LFG(rm,8),o.LFG(Dx,8),o.LFG(xx,8),o.LFG(Ex,8),o.LFG(Ax,8),o.LFG(Tx,8),o.LFG(Ix,8),o.LFG(im,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KIe=(()=>{class n{constructor(){My.Z.registerVersion("angularfire",wn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[YIe]}),n})();const yZ_firebaseConfig={apiKey:"AIzaSyAAm1EsvcFZy3_b_ejt7ABPL2sJMfDuWow",authDomain:"airbnb-final-b133e.firebaseapp.com",projectId:"airbnb-final-b133e",storageBucket:"airbnb-final-b133e.appspot.com",messagingSenderId:"883952473881",appId:"1:883952473881:web:416fe334e382848b1dd788",measurementId:"G-J75T7QFDFW"},QIe=[{path:"",redirectTo:"module",pathMatch:"full"}];let XIe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[tk]}),n.\u0275inj=o.cJS({imports:[Z1,cM,sh.forRoot(QIe),KSe,f9,hA,hA,fq,Bi.hO.initializeApp(yZ_firebaseConfig),IX,OX,Rxe,KIe,Ki,yG.forRoot({apiKey:"AIzaSyAvcDy5ZYc2ujCS6TTtI3RYX5QmuoV8Ffw"})]}),n})();(0,o.G48)(),W1().bootstrapModule(XIe).catch(n=>console.error(n))},9751:(_t,Ie,R)=>{R.d(Ie,{y:()=>me});var o=R(930),ie=R(727),O=R(8822),de=R(9635),ue=R(2416),pe=R(576),ae=R(2806);let me=(()=>{class ee{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const xe=new ee;return xe.source=this,xe.operator=Ne,xe}subscribe(Ne,xe,dt){const Ce=function W(ee){return ee&&ee instanceof o.Lv||function q(ee){return ee&&(0,pe.m)(ee.next)&&(0,pe.m)(ee.error)&&(0,pe.m)(ee.complete)}(ee)&&(0,ie.Nn)(ee)}(Ne)?Ne:new o.Hp(Ne,xe,dt);return(0,ae.x)(()=>{const{operator:ve,source:ct}=this;Ce.add(ve?ve.call(Ce,ct):ct?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(xe){Ne.error(xe)}}forEach(Ne,xe){return new(xe=ge(xe))((dt,Ce)=>{const ve=new o.Hp({next:ct=>{try{Ne(ct)}catch(gt){Ce(gt),ve.unsubscribe()}},error:Ce,complete:dt});this.subscribe(ve)})}_subscribe(Ne){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Ne)}[O.L](){return this}pipe(...Ne){return(0,de.U)(Ne)(this)}toPromise(Ne){return new(Ne=ge(Ne))((xe,dt)=>{let Ce;this.subscribe(ve=>Ce=ve,ve=>dt(ve),()=>xe(Ce))})}}return ee.create=Ge=>new ee(Ge),ee})();function ge(ee){var Ge;return null!==(Ge=ee??ue.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(_t,Ie,R)=>{R.d(Ie,{x:()=>ae});var o=R(9751),ie=R(727);const de=(0,R(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=R(8737),pe=R(2806);let ae=(()=>{class ge extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ee=new me(this,this);return ee.operator=W,ee}_throwIfClosed(){if(this.closed)throw new de}next(W){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(W)}})}error(W){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ee}=this;for(;ee.length;)ee.shift().error(W)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ee,isStopped:Ge,observers:Ne}=this;return ee||Ge?ie.Lc:(this.currentObservers=null,Ne.push(W),new ie.w0(()=>{this.currentObservers=null,(0,ue.P)(Ne,W)}))}_checkFinalizedStatuses(W){const{hasError:ee,thrownError:Ge,isStopped:Ne}=this;ee?W.error(Ge):Ne&&W.complete()}asObservable(){const W=new o.y;return W.source=this,W}}return ge.create=(q,W)=>new me(q,W),ge})();class me extends ae{constructor(q,W){super(),this.destination=q,this.source=W}next(q){var W,ee;null===(ee=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ee||ee.call(W,q)}error(q){var W,ee;null===(ee=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ee||ee.call(W,q)}complete(){var q,W;null===(W=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===W||W.call(q)}_subscribe(q){var W,ee;return null!==(ee=null===(W=this.source)||void 0===W?void 0:W.subscribe(q))&&void 0!==ee?ee:ie.Lc}}},930:(_t,Ie,R)=>{R.d(Ie,{Hp:()=>dt,Lv:()=>ee});var o=R(576),ie=R(727),O=R(2416),de=R(7849),ue=R(5032);const pe=ge("C",void 0,void 0);function ge(He,Me,Ee){return{kind:He,value:Me,error:Ee}}var q=R(3410),W=R(2806);class ee extends ie.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,ie.Nn)(Me)&&Me.add(this)):this.destination=gt}static create(Me,Ee,We){return new dt(Me,Ee,We)}next(Me){this.isStopped?ct(function me(He){return ge("N",He,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?ct(function ae(He){return ge("E",void 0,He)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?ct(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Ne(He,Me){return Ge.call(He,Me)}class xe{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Me)}catch(We){Ce(We)}}error(Me){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Me)}catch(We){Ce(We)}else Ce(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Ee){Ce(Ee)}}}class dt extends ee{constructor(Me,Ee,We){let Ze;if(super(),(0,o.m)(Me)||!Me)Ze={next:Me??void 0,error:Ee??void 0,complete:We??void 0};else{let G;this&&O.v.useDeprecatedNextContext?(G=Object.create(Me),G.unsubscribe=()=>this.unsubscribe(),Ze={next:Me.next&&Ne(Me.next,G),error:Me.error&&Ne(Me.error,G),complete:Me.complete&&Ne(Me.complete,G)}):Ze=Me}this.destination=new xe(Ze)}}function Ce(He){O.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(He):(0,de.h)(He)}function ct(He,Me){const{onStoppedNotification:Ee}=O.v;Ee&&q.z.setTimeout(()=>Ee(He,Me))}const gt={closed:!0,next:ue.Z,error:function ve(He){throw He},complete:ue.Z}},727:(_t,Ie,R)=>{R.d(Ie,{Lc:()=>pe,w0:()=>ue,Nn:()=>ae});var o=R(576);const O=(0,R(3888).d)(ge=>function(W){ge(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ee,Ge)=>`${Ge+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var de=R(8737);class ue{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ne of W)Ne.remove(this);else W.remove(this);const{initialTeardown:ee}=this;if((0,o.m)(ee))try{ee()}catch(Ne){q=Ne instanceof O?Ne.errors:[Ne]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Ne of Ge)try{me(Ne)}catch(xe){q=q??[],xe instanceof O?q=[...q,...xe.errors]:q.push(xe)}}if(q)throw new O(q)}}add(q){var W;if(q&&q!==this)if(this.closed)me(q);else{if(q instanceof ue){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(q)}}_hasParent(q){const{_parentage:W}=this;return W===q||Array.isArray(W)&&W.includes(q)}_addParent(q){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(q),W):W?[W,q]:q}_removeParent(q){const{_parentage:W}=this;W===q?this._parentage=null:Array.isArray(W)&&(0,de.P)(W,q)}remove(q){const{_finalizers:W}=this;W&&(0,de.P)(W,q),q instanceof ue&&q._removeParent(this)}}ue.EMPTY=(()=>{const ge=new ue;return ge.closed=!0,ge})();const pe=ue.EMPTY;function ae(ge){return ge instanceof ue||ge&&"closed"in ge&&(0,o.m)(ge.remove)&&(0,o.m)(ge.add)&&(0,o.m)(ge.unsubscribe)}function me(ge){(0,o.m)(ge)?ge():ge.unsubscribe()}},2416:(_t,Ie,R)=>{R.d(Ie,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_t,Ie,R)=>{R.d(Ie,{E:()=>ie});const ie=new(R(9751).y)(ue=>ue.complete())},8996:(_t,Ie,R)=>{R.d(Ie,{D:()=>Me});var o=R(8421),ie=R(5363),O=R(9468),pe=R(9751),me=R(2202),ge=R(576),q=R(9672);function ee(Ee,We){if(!Ee)throw new Error("Iterable cannot be null");return new pe.y(Ze=>{(0,q.f)(Ze,We,()=>{const G=Ee[Symbol.asyncIterator]();(0,q.f)(Ze,We,()=>{G.next().then(ye=>{ye.done?Ze.complete():Ze.next(ye.value)})},0,!0)})})}var Ge=R(3670),Ne=R(8239),xe=R(1144),dt=R(6495),Ce=R(2206),ve=R(4532),ct=R(3260);function Me(Ee,We){return We?function He(Ee,We){if(null!=Ee){if((0,Ge.c)(Ee))return function de(Ee,We){return(0,o.Xf)(Ee).pipe((0,O.R)(We),(0,ie.Q)(We))}(Ee,We);if((0,xe.z)(Ee))return function ae(Ee,We){return new pe.y(Ze=>{let G=0;return We.schedule(function(){G===Ee.length?Ze.complete():(Ze.next(Ee[G++]),Ze.closed||this.schedule())})})}(Ee,We);if((0,Ne.t)(Ee))return function ue(Ee,We){return(0,o.Xf)(Ee).pipe((0,O.R)(We),(0,ie.Q)(We))}(Ee,We);if((0,Ce.D)(Ee))return ee(Ee,We);if((0,dt.T)(Ee))return function W(Ee,We){return new pe.y(Ze=>{let G;return(0,q.f)(Ze,We,()=>{G=Ee[me.h](),(0,q.f)(Ze,We,()=>{let ye,Q;try{({value:ye,done:Q}=G.next())}catch(re){return void Ze.error(re)}Q?Ze.complete():Ze.next(ye)},0,!0)}),()=>(0,ge.m)(G?.return)&&G.return()})}(Ee,We);if((0,ct.L)(Ee))return function gt(Ee,We){return ee((0,ct.Q)(Ee),We)}(Ee,We)}throw(0,ve.z)(Ee)}(Ee,We):(0,o.Xf)(Ee)}},8421:(_t,Ie,R)=>{R.d(Ie,{Xf:()=>Ge});var o=R(655),ie=R(1144),O=R(8239),de=R(9751),ue=R(3670),pe=R(2206),ae=R(4532),me=R(6495),ge=R(3260),q=R(576),W=R(7849),ee=R(8822);function Ge(He){if(He instanceof de.y)return He;if(null!=He){if((0,ue.c)(He))return function Ne(He){return new de.y(Me=>{const Ee=He[ee.L]();if((0,q.m)(Ee.subscribe))return Ee.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,ie.z)(He))return function xe(He){return new de.y(Me=>{for(let Ee=0;Ee<He.length&&!Me.closed;Ee++)Me.next(He[Ee]);Me.complete()})}(He);if((0,O.t)(He))return function dt(He){return new de.y(Me=>{He.then(Ee=>{Me.closed||(Me.next(Ee),Me.complete())},Ee=>Me.error(Ee)).then(null,W.h)})}(He);if((0,pe.D)(He))return ve(He);if((0,me.T)(He))return function Ce(He){return new de.y(Me=>{for(const Ee of He)if(Me.next(Ee),Me.closed)return;Me.complete()})}(He);if((0,ge.L)(He))return function ct(He){return ve((0,ge.Q)(He))}(He)}throw(0,ae.z)(He)}function ve(He){return new de.y(Me=>{(function gt(He,Me){var Ee,We,Ze,G;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,o.KL)(He);!(We=yield Ee.next()).done;)if(Me.next(We.value),Me.closed)return}catch(ye){Ze={error:ye}}finally{try{We&&!We.done&&(G=Ee.return)&&(yield G.call(Ee))}finally{if(Ze)throw Ze.error}}Me.complete()})})(He,Me).catch(Ee=>Me.error(Ee))})}},6451:(_t,Ie,R)=>{R.d(Ie,{T:()=>pe});var o=R(8189),ie=R(8421),O=R(515),de=R(3269),ue=R(8996);function pe(...ae){const me=(0,de.yG)(ae),ge=(0,de._6)(ae,1/0),q=ae;return q.length?1===q.length?(0,ie.Xf)(q[0]):(0,o.J)(ge)((0,ue.D)(q,me)):O.E}},5403:(_t,Ie,R)=>{R.d(Ie,{x:()=>ie});var o=R(930);function ie(de,ue,pe,ae,me){return new O(de,ue,pe,ae,me)}class O extends o.Lv{constructor(ue,pe,ae,me,ge,q){super(ue),this.onFinalize=ge,this.shouldUnsubscribe=q,this._next=pe?function(W){try{pe(W)}catch(ee){ue.error(ee)}}:super._next,this._error=me?function(W){try{me(W)}catch(ee){ue.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(W){ue.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(_t,Ie,R)=>{R.d(Ie,{U:()=>O});var o=R(4482),ie=R(5403);function O(de,ue){return(0,o.e)((pe,ae)=>{let me=0;pe.subscribe((0,ie.x)(ae,ge=>{ae.next(de.call(ue,ge,me++))}))})}},8189:(_t,Ie,R)=>{R.d(Ie,{J:()=>O});var o=R(5577),ie=R(4671);function O(de=1/0){return(0,o.z)(ie.y,de)}},5577:(_t,Ie,R)=>{R.d(Ie,{z:()=>me});var o=R(4004),ie=R(8421),O=R(4482),de=R(9672),ue=R(5403),ae=R(576);function me(ge,q,W=1/0){return(0,ae.m)(q)?me((ee,Ge)=>(0,o.U)((Ne,xe)=>q(ee,Ne,Ge,xe))((0,ie.Xf)(ge(ee,Ge))),W):("number"==typeof q&&(W=q),(0,O.e)((ee,Ge)=>function pe(ge,q,W,ee,Ge,Ne,xe,dt){const Ce=[];let ve=0,ct=0,gt=!1;const He=()=>{gt&&!Ce.length&&!ve&&q.complete()},Me=We=>ve<ee?Ee(We):Ce.push(We),Ee=We=>{Ne&&q.next(We),ve++;let Ze=!1;(0,ie.Xf)(W(We,ct++)).subscribe((0,ue.x)(q,G=>{Ge?.(G),Ne?Me(G):q.next(G)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(ve--;Ce.length&&ve<ee;){const G=Ce.shift();xe?(0,de.f)(q,xe,()=>Ee(G)):Ee(G)}He()}catch(G){q.error(G)}}))};return ge.subscribe((0,ue.x)(q,Me,()=>{gt=!0,He()})),()=>{dt?.()}}(ee,Ge,ge,W)))}},5363:(_t,Ie,R)=>{R.d(Ie,{Q:()=>de});var o=R(9672),ie=R(4482),O=R(5403);function de(ue,pe=0){return(0,ie.e)((ae,me)=>{ae.subscribe((0,O.x)(me,ge=>(0,o.f)(me,ue,()=>me.next(ge),pe),()=>(0,o.f)(me,ue,()=>me.complete(),pe),ge=>(0,o.f)(me,ue,()=>me.error(ge),pe)))})}},3099:(_t,Ie,R)=>{R.d(Ie,{B:()=>ue});var o=R(8421),ie=R(7579),O=R(930),de=R(4482);function ue(ae={}){const{connector:me=(()=>new ie.x),resetOnError:ge=!0,resetOnComplete:q=!0,resetOnRefCountZero:W=!0}=ae;return ee=>{let Ge,Ne,xe,dt=0,Ce=!1,ve=!1;const ct=()=>{Ne?.unsubscribe(),Ne=void 0},gt=()=>{ct(),Ge=xe=void 0,Ce=ve=!1},He=()=>{const Me=Ge;gt(),Me?.unsubscribe()};return(0,de.e)((Me,Ee)=>{dt++,!ve&&!Ce&&ct();const We=xe=xe??me();Ee.add(()=>{dt--,0===dt&&!ve&&!Ce&&(Ne=pe(He,W))}),We.subscribe(Ee),!Ge&&dt>0&&(Ge=new O.Hp({next:Ze=>We.next(Ze),error:Ze=>{ve=!0,ct(),Ne=pe(gt,ge,Ze),We.error(Ze)},complete:()=>{Ce=!0,ct(),Ne=pe(gt,q),We.complete()}}),(0,o.Xf)(Me).subscribe(Ge))})(ee)}}function pe(ae,me,...ge){if(!0===me)return void ae();if(!1===me)return;const q=new O.Hp({next:()=>{q.unsubscribe(),ae()}});return me(...ge).subscribe(q)}},9468:(_t,Ie,R)=>{R.d(Ie,{R:()=>ie});var o=R(4482);function ie(O,de=0){return(0,o.e)((ue,pe)=>{pe.add(O.schedule(()=>ue.subscribe(pe),de))})}},8505:(_t,Ie,R)=>{R.d(Ie,{b:()=>ue});var o=R(576),ie=R(4482),O=R(5403),de=R(4671);function ue(pe,ae,me){const ge=(0,o.m)(pe)||ae||me?{next:pe,error:ae,complete:me}:pe;return ge?(0,ie.e)((q,W)=>{var ee;null===(ee=ge.subscribe)||void 0===ee||ee.call(ge);let Ge=!0;q.subscribe((0,O.x)(W,Ne=>{var xe;null===(xe=ge.next)||void 0===xe||xe.call(ge,Ne),W.next(Ne)},()=>{var Ne;Ge=!1,null===(Ne=ge.complete)||void 0===Ne||Ne.call(ge),W.complete()},Ne=>{var xe;Ge=!1,null===(xe=ge.error)||void 0===xe||xe.call(ge,Ne),W.error(Ne)},()=>{var Ne,xe;Ge&&(null===(Ne=ge.unsubscribe)||void 0===Ne||Ne.call(ge)),null===(xe=ge.finalize)||void 0===xe||xe.call(ge)}))}):de.y}},4408:(_t,Ie,R)=>{R.d(Ie,{o:()=>ue});var o=R(727);class ie extends o.w0{constructor(ae,me){super()}schedule(ae,me=0){return this}}const O={setInterval(pe,ae,...me){const{delegate:ge}=O;return ge?.setInterval?ge.setInterval(pe,ae,...me):setInterval(pe,ae,...me)},clearInterval(pe){const{delegate:ae}=O;return(ae?.clearInterval||clearInterval)(pe)},delegate:void 0};var de=R(8737);class ue extends ie{constructor(ae,me){super(ae,me),this.scheduler=ae,this.work=me,this.pending=!1}schedule(ae,me=0){var ge;if(this.closed)return this;this.state=ae;const q=this.id,W=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(W,q,me)),this.pending=!0,this.delay=me,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(W,this.id,me),this}requestAsyncId(ae,me,ge=0){return O.setInterval(ae.flush.bind(ae,this),ge)}recycleAsyncId(ae,me,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return me;null!=me&&O.clearInterval(me)}execute(ae,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ae,me);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,me){let q,ge=!1;try{this.work(ae)}catch(W){ge=!0,q=W||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ae,scheduler:me}=this,{actions:ge}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(ge,this),null!=ae&&(this.id=this.recycleAsyncId(me,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(_t,Ie,R)=>{R.d(Ie,{v:()=>O});var o=R(6063);class ie{constructor(ue,pe=ie.now){this.schedulerActionCtor=ue,this.now=pe}schedule(ue,pe=0,ae){return new this.schedulerActionCtor(this,ue).schedule(ae,pe)}}ie.now=o.l.now;class O extends ie{constructor(ue,pe=ie.now){super(ue,pe),this.actions=[],this._active=!1}flush(ue){const{actions:pe}=this;if(this._active)return void pe.push(ue);let ae;this._active=!0;do{if(ae=ue.execute(ue.state,ue.delay))break}while(ue=pe.shift());if(this._active=!1,ae){for(;ue=pe.shift();)ue.unsubscribe();throw ae}}}},4986:(_t,Ie,R)=>{R.d(Ie,{P:()=>de,z:()=>O});var o=R(4408);const O=new(R(7565).v)(o.o),de=O},6063:(_t,Ie,R)=>{R.d(Ie,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(_t,Ie,R)=>{R.d(Ie,{z:()=>o});const o={setTimeout(ie,O,...de){const{delegate:ue}=o;return ue?.setTimeout?ue.setTimeout(ie,O,...de):setTimeout(ie,O,...de)},clearTimeout(ie){const{delegate:O}=o;return(O?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},2202:(_t,Ie,R)=>{R.d(Ie,{h:()=>ie});const ie=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Ie,R)=>{R.d(Ie,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Ie,R)=>{R.d(Ie,{_6:()=>pe,jO:()=>de,yG:()=>ue});var o=R(576),ie=R(3532);function O(ae){return ae[ae.length-1]}function de(ae){return(0,o.m)(O(ae))?ae.pop():void 0}function ue(ae){return(0,ie.K)(O(ae))?ae.pop():void 0}function pe(ae,me){return"number"==typeof O(ae)?ae.pop():me}},8737:(_t,Ie,R)=>{function o(ie,O){if(ie){const de=ie.indexOf(O);0<=de&&ie.splice(de,1)}}R.d(Ie,{P:()=>o})},3888:(_t,Ie,R)=>{function o(ie){const de=ie(ue=>{Error.call(ue),ue.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}R.d(Ie,{d:()=>o})},2806:(_t,Ie,R)=>{R.d(Ie,{O:()=>de,x:()=>O});var o=R(2416);let ie=null;function O(ue){if(o.v.useDeprecatedSynchronousErrorHandling){const pe=!ie;if(pe&&(ie={errorThrown:!1,error:null}),ue(),pe){const{errorThrown:ae,error:me}=ie;if(ie=null,ae)throw me}}else ue()}function de(ue){o.v.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=ue)}},9672:(_t,Ie,R)=>{function o(ie,O,de,ue=0,pe=!1){const ae=O.schedule(function(){de(),pe?ie.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(ie.add(ae),!pe)return ae}R.d(Ie,{f:()=>o})},4671:(_t,Ie,R)=>{function o(ie){return ie}R.d(Ie,{y:()=>o})},1144:(_t,Ie,R)=>{R.d(Ie,{z:()=>o});const o=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},2206:(_t,Ie,R)=>{R.d(Ie,{D:()=>ie});var o=R(576);function ie(O){return Symbol.asyncIterator&&(0,o.m)(O?.[Symbol.asyncIterator])}},576:(_t,Ie,R)=>{function o(ie){return"function"==typeof ie}R.d(Ie,{m:()=>o})},3670:(_t,Ie,R)=>{R.d(Ie,{c:()=>O});var o=R(8822),ie=R(576);function O(de){return(0,ie.m)(de[o.L])}},6495:(_t,Ie,R)=>{R.d(Ie,{T:()=>O});var o=R(2202),ie=R(576);function O(de){return(0,ie.m)(de?.[o.h])}},8239:(_t,Ie,R)=>{R.d(Ie,{t:()=>ie});var o=R(576);function ie(O){return(0,o.m)(O?.then)}},3260:(_t,Ie,R)=>{R.d(Ie,{L:()=>de,Q:()=>O});var o=R(655),ie=R(576);function O(ue){return(0,o.FC)(this,arguments,function*(){const ae=ue.getReader();try{for(;;){const{value:me,done:ge}=yield(0,o.qq)(ae.read());if(ge)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(me)}}finally{ae.releaseLock()}})}function de(ue){return(0,ie.m)(ue?.getReader)}},3532:(_t,Ie,R)=>{R.d(Ie,{K:()=>ie});var o=R(576);function ie(O){return O&&(0,o.m)(O.schedule)}},4482:(_t,Ie,R)=>{R.d(Ie,{A:()=>ie,e:()=>O});var o=R(576);function ie(de){return(0,o.m)(de?.lift)}function O(de){return ue=>{if(ie(ue))return ue.lift(function(pe){try{return de(pe,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(_t,Ie,R)=>{function o(){}R.d(Ie,{Z:()=>o})},9635:(_t,Ie,R)=>{R.d(Ie,{U:()=>O,z:()=>ie});var o=R(4671);function ie(...de){return O(de)}function O(de){return 0===de.length?o.y:1===de.length?de[0]:function(pe){return de.reduce((ae,me)=>me(ae),pe)}}},7849:(_t,Ie,R)=>{R.d(Ie,{h:()=>O});var o=R(2416),ie=R(3410);function O(de){ie.z.setTimeout(()=>{const{onUnhandledError:ue}=o.v;if(!ue)throw de;ue(de)})}},4532:(_t,Ie,R)=>{function o(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ie,{z:()=>o})},655:(_t,Ie,R)=>{function de(Q,re){var le={};for(var ce in Q)Object.prototype.hasOwnProperty.call(Q,ce)&&re.indexOf(ce)<0&&(le[ce]=Q[ce]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(ce=Object.getOwnPropertySymbols(Q);Be<ce.length;Be++)re.indexOf(ce[Be])<0&&Object.prototype.propertyIsEnumerable.call(Q,ce[Be])&&(le[ce[Be]]=Q[ce[Be]])}return le}function me(Q,re,le,ce){return new(le||(le=Promise))(function(Fe,Ct){function fn(Dn){try{tt(ce.next(Dn))}catch(Rn){Ct(Rn)}}function Kt(Dn){try{tt(ce.throw(Dn))}catch(Rn){Ct(Rn)}}function tt(Dn){Dn.done?Fe(Dn.value):function Be(Fe){return Fe instanceof le?Fe:new le(function(Ct){Ct(Fe)})}(Dn.value).then(fn,Kt)}tt((ce=ce.apply(Q,re||[])).next())})}function Ce(Q){return this instanceof Ce?(this.v=Q,this):new Ce(Q)}function ve(Q,re,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,ce=le.apply(Q,re||[]),Fe=[];return Be={},Ct("next"),Ct("throw"),Ct("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function Ct(ln){ce[ln]&&(Be[ln]=function(pn){return new Promise(function(lr,jt){Fe.push([ln,pn,lr,jt])>1||fn(ln,pn)})})}function fn(ln,pn){try{!function Kt(ln){ln.value instanceof Ce?Promise.resolve(ln.value.v).then(tt,Dn):Rn(Fe[0][2],ln)}(ce[ln](pn))}catch(lr){Rn(Fe[0][3],lr)}}function tt(ln){fn("next",ln)}function Dn(ln){fn("throw",ln)}function Rn(ln,pn){ln(pn),Fe.shift(),Fe.length&&fn(Fe[0][0],Fe[0][1])}}function gt(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,re=Q[Symbol.asyncIterator];return re?re.call(Q):(Q=function ee(Q){var re="function"==typeof Symbol&&Symbol.iterator,le=re&&Q[re],ce=0;if(le)return le.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ce>=Q.length&&(Q=void 0),{value:Q&&Q[ce++],done:!Q}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),le={},ce("next"),ce("throw"),ce("return"),le[Symbol.asyncIterator]=function(){return this},le);function ce(Fe){le[Fe]=Q[Fe]&&function(Ct){return new Promise(function(fn,Kt){!function Be(Fe,Ct,fn,Kt){Promise.resolve(Kt).then(function(tt){Fe({value:tt,done:fn})},Ct)}(fn,Kt,(Ct=Q[Fe](Ct)).done,Ct.value)})}}}R.d(Ie,{FC:()=>ve,KL:()=>gt,_T:()=>de,mG:()=>me,qq:()=>Ce})},4650:(_t,Ie,R)=>{R.d(Ie,{$8M:()=>Q1,$Z:()=>l9,AFp:()=>Af,AaK:()=>me,AsE:()=>R6,BQk:()=>N4,CHM:()=>V1,CRH:()=>ev,CZH:()=>c1,CqO:()=>UM,D6c:()=>Qt,DdM:()=>X7,EJc:()=>mv,EiD:()=>rc,EpF:()=>U9,F$t:()=>l7,F4k:()=>j9,FYo:()=>k,FiY:()=>Le,G48:()=>Qw,Gf:()=>X_,GfV:()=>$e,Gpc:()=>W,HOy:()=>br,Hsn:()=>$9,Ikx:()=>Zh,JOm:()=>$a,JVY:()=>n6,Jf7:()=>M4,KtG:()=>L1,L6k:()=>$8,LAX:()=>Z8,LFG:()=>nn,LSH:()=>a4,Lbi:()=>fv,Lck:()=>W7,MAs:()=>Hh,MMx:()=>Y7,NdJ:()=>H6,O4$:()=>bl,OlP:()=>zn,Oqu:()=>p7,PXZ:()=>md,Q6J:()=>r7,QGY:()=>Ph,QP$:()=>un,QbO:()=>pv,Qsj:()=>z,R0b:()=>Ho,RDi:()=>S0,Rgc:()=>rd,SBq:()=>m,Sil:()=>dn,Suo:()=>J_,TTD:()=>Us,TgZ:()=>zh,Udp:()=>Bi,VKq:()=>J7,WFA:()=>Oh,WLB:()=>ff,X6Q:()=>wv,XFs:()=>it,Xpm:()=>Te,Xts:()=>o6,Y36:()=>y6,YKP:()=>df,YNc:()=>k6,Yjl:()=>Se,Yz7:()=>pn,Z0I:()=>Os,ZZ4:()=>Ep,_Bn:()=>$7,_UZ:()=>s7,_Vd:()=>q2,_c5:()=>oS,_uU:()=>e1,aQg:()=>_3,c2e:()=>Rw,cJS:()=>jt,cg1:()=>Kh,d8E:()=>Yh,dDg:()=>zr,dqk:()=>bn,eBb:()=>W8,eFA:()=>t2,ekj:()=>t_,eoX:()=>On,evT:()=>u5,f3M:()=>x,g9A:()=>pp,h0i:()=>Jl,hGG:()=>aS,hYB:()=>Rh,hij:()=>O6,iGM:()=>op,ifc:()=>vt,ip1:()=>fp,jDz:()=>td,kEZ:()=>Y4,kL8:()=>m_,kYT:()=>$,kcU:()=>q3,l5B:()=>ep,lG2:()=>X,lqb:()=>sr,lri:()=>vi,mCW:()=>tc,n5z:()=>Zs,n_E:()=>s1,oAB:()=>Zt,oJD:()=>zl,oxw:()=>c7,pB0:()=>s4,pbR:()=>Fh,q3G:()=>Jn,q4F:()=>st,qLn:()=>h6,qOj:()=>Ih,qZA:()=>L6,qbA:()=>pf,qzn:()=>da,rFY:()=>G_,rWj:()=>pd,sBO:()=>Of,sIi:()=>A6,s_b:()=>sd,soG:()=>hd,tb:()=>dd,tp0:()=>ft,uIk:()=>z9,vHH:()=>xe,vpe:()=>_a,wAp:()=>It,xp6:()=>Kg,ynx:()=>Nh,z2F:()=>m3,z3N:()=>hs,zSh:()=>oc,zs3:()=>Gl});var o=R(7579),ie=R(727),O=R(9751),de=R(6451),ue=R(3099);function pe(a){for(let c in a)if(a[c]===pe)return c;throw Error("Could not find renamed property on target object.")}function ae(a,c){for(const u in c)c.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=c[u])}function me(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(me).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function ge(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const q=pe({__forward_ref__:pe});function W(a){return a.__forward_ref__=W,a.toString=function(){return me(this())},a}function ee(a){return Ge(a)?a():a}function Ge(a){return"function"==typeof a&&a.hasOwnProperty(q)&&a.__forward_ref__===W}class xe extends Error{constructor(c,u){super(function dt(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}(c,u)),this.code=c}}function Ce(a){return"string"==typeof a?a:null==a?"":String(a)}function Me(a,c){throw new xe(-201,!1)}function Kt(a,c){null==a&&function tt(a,c,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${c} <=Actual]`))}(c,a,null,"!=")}function pn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function jt(a){return{providers:a.providers||[],imports:a.imports||[]}}function xn(a){return rs(a,ss)||rs(a,Pr)}function Os(a){return null!==xn(a)}function rs(a,c){return a.hasOwnProperty(c)?a[c]:null}function fo(a){return a&&(a.hasOwnProperty(Sr)||a.hasOwnProperty(xa))?a[Sr]:null}const ss=pe({\u0275prov:pe}),Sr=pe({\u0275inj:pe}),Pr=pe({ngInjectableDef:pe}),xa=pe({ngInjectorDef:pe});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let ir;function Si(a){const c=ir;return ir=a,c}function Or(a,c,u){const h=xn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&it.Optional?null:void 0!==c?c:void Me(me(a))}function Zn(a){return{toString:a}.toString()}var di=(()=>((di=di||{})[di.OnPush=0]="OnPush",di[di.Default=1]="Default",di))(),vt=(()=>{return(a=vt||(vt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",vt;var a})();const bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dr={},zt=[],Rs=pe({\u0275cmp:pe}),mn=pe({\u0275dir:pe}),os=pe({\u0275pipe:pe}),yn=pe({\u0275mod:pe}),Di=pe({\u0275fac:pe}),hr=pe({__NG_ELEMENT_ID__:pe});let ut=0;function Te(a){return Zn(()=>{const u=!0===a.standalone,h={},p={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===di.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||zt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||vt.Emulated,id:"c"+ut++,styles:a.styles||zt,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.dependencies,C=a.features;return p.inputs=U(a.inputs,h),p.outputs=U(a.outputs),C&&C.forEach(w=>w(p)),p.directiveDefs=g?()=>("function"==typeof g?g():g).map(Nt).filter(Rt):null,p.pipeDefs=g?()=>("function"==typeof g?g():g).map(bt).filter(Rt):null,p})}function Nt(a){return ne(a)||Ke(a)}function Rt(a){return null!==a}function Zt(a){return Zn(()=>({type:a.type,bootstrap:a.bootstrap||zt,declarations:a.declarations||zt,imports:a.imports||zt,exports:a.exports||zt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function $(a,c){return Zn(()=>{const u=kn(a,!0);u.declarations=c.declarations||zt,u.imports=c.imports||zt,u.exports=c.exports||zt})}function U(a,c){if(null==a)return Dr;const u={};for(const h in a)if(a.hasOwnProperty(h)){let p=a[h],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),u[p]=h,c&&(c[p]=g)}return u}const X=Te;function Se(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function ne(a){return a[Rs]||null}function Ke(a){return a[mn]||null}function bt(a){return a[os]||null}function un(a){const c=ne(a)||Ke(a)||bt(a);return null!==c&&c.standalone}function kn(a,c){const u=a[yn]||null;if(!u&&!0===c)throw new Error(`Type ${me(a)} does not have '\u0275mod' property.`);return u}function zi(a){return Array.isArray(a)&&"object"==typeof a[1]}function fr(a){return Array.isArray(a)&&!0===a[1]}function Aa(a){return 0!=(8&a.flags)}function Go(a){return 2==(2&a.flags)}function sl(a){return 1==(1&a.flags)}function rr(a){return null!==a.template}function Bu(a){return 0!=(256&a[2])}function Ds(a,c){return a.hasOwnProperty(Di)?a[Di]:null}class Bs{constructor(c,u,h){this.previousValue=c,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Us(){return qo}function qo(a){return a.type.prototype.ngOnChanges&&(a.setInput=w1),p2}function p2(){const a=ju(this),c=a?.current;if(c){const u=a.previous;if(u===Dr)a.previous=c;else for(let h in c)u[h]=c[h];a.current=null,this.ngOnChanges(c)}}function w1(a,c,u,h){const p=ju(a)||function xs(a,c){return a[ll]=c}(a,{previous:Dr,current:null}),g=p.current||(p.current={}),C=p.previous,w=this.declaredInputs[u],D=C[w];g[w]=new Bs(D&&D.currentValue,c,C===Dr),a[h]=c}Us.ngInherit=!0;const ll="__ngSimpleChanges__";function ju(a){return a[ll]||null}function Yn(a){for(;Array.isArray(a);)a=a[0];return a}function Fr(a,c){return Yn(c[a])}function pr(a,c){return Yn(c[a.index])}function $o(a,c){return a.data[c]}function sn(a,c){const u=c[a];return zi(u)?u:u[0]}function Wo(a){return 64==(64&a[2])}function cs(a,c){return null==c?null:a[c]}function A1(a){a[18]=0}function qn(a,c){a[5]+=c;let u=a,h=a[3];for(;null!==h&&(1===c&&1===u[5]||-1===c&&0===u[5]);)h[5]+=c,u=h,h=h[3]}const Pt={lFrame:yl(null),bindingsEnabled:!0};function qs(){return Pt.bindingsEnabled}function ke(){return Pt.lFrame.lView}function Jt(){return Pt.lFrame.tView}function V1(a){return Pt.lFrame.contextLView=a,a[8]}function L1(a){return Pt.lFrame.contextLView=null,a}function Kn(){let a=H1();for(;null!==a&&64===a.type;)a=a.parent;return a}function H1(){return Pt.lFrame.currentTNode}function Br(a,c){const u=Pt.lFrame;u.currentTNode=a,u.isParent=c}function _2(){return Pt.lFrame.isParent}function v2(){Pt.lFrame.isParent=!1}function Qn(){const a=Pt.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function Es(){return Pt.lFrame.bindingIndex}function Zo(){return Pt.lFrame.bindingIndex++}function $s(a){const c=Pt.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,u}function f0(a,c){const u=Pt.lFrame;u.bindingIndex=u.bindingRootIndex=a,z1(c)}function z1(a){Pt.lFrame.currentDirectiveIndex=a}function b2(a){const c=Pt.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}function gl(){return Pt.lFrame.currentQueryIndex}function M2(a){Pt.lFrame.currentQueryIndex=a}function _l(a){const c=a[1];return 2===c.type?c.declTNode:1===c.type?a[6]:null}function N1(a,c,u){if(u&it.SkipSelf){let p=c,g=a;for(;!(p=p.parent,null!==p||u&it.Host||(p=_l(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;c=p,a=g}const h=Pt.lFrame=vl();return h.currentTNode=c,h.lView=a,!0}function P1(a){const c=vl(),u=a[1];Pt.lFrame=c,c.currentTNode=u.firstChild,c.lView=a,c.tView=u,c.contextLView=a,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function vl(){const a=Pt.lFrame,c=null===a?null:a.child;return null===c?yl(a):c}function yl(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function Cl(){const a=Pt.lFrame;return Pt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const G3=Cl;function Yo(){const a=Cl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Ai(){return Pt.lFrame.selectedIndex}function Tr(a){Pt.lFrame.selectedIndex=a}function Bn(){const a=Pt.lFrame;return $o(a.tView,a.selectedIndex)}function bl(){Pt.lFrame.currentNamespace="svg"}function q3(){!function wl(){Pt.lFrame.currentNamespace=null}()}function F1(a,c){for(let u=c.directiveStart,h=c.directiveEnd;u<h;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:L}=g;C&&(a.contentHooks||(a.contentHooks=[])).push(-u,C),w&&((a.contentHooks||(a.contentHooks=[])).push(u,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,w)),D&&(a.viewHooks||(a.viewHooks=[])).push(-u,D),T&&((a.viewHooks||(a.viewHooks=[])).push(u,T),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,T)),null!=L&&(a.destroyHooks||(a.destroyHooks=[])).push(u,L)}}function Qo(a,c,u){Va(a,c,3,u)}function ka(a,c,u,h){(3&a[2])===u&&Va(a,c,u,h)}function $3(a,c){let u=a[2];(3&u)===c&&(u&=2047,u+=1,a[2]=u)}function Va(a,c,u,h){const g=h??-1,C=c.length-1;let w=0;for(let D=void 0!==h?65535&a[18]:0;D<C;D++)if("number"==typeof c[D+1]){if(w=c[D],null!=h&&w>=h)break}else c[D]<0&&(a[18]+=65536),(w<g||-1==g)&&(W3(a,u,c,D),a[18]=(4294901760&a[18])+D+2),D++}function W3(a,c,u,h){const p=u[h]<0,g=u[h+1],w=a[p?-u[h]:u[h]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===c){a[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Mo{constructor(c,u,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function La(a,c,u){let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const g=u[h++],C=u[h++],w=u[h++];a.setAttribute(c,C,w,g)}else{const g=p,C=u[++h];G1(g)?a.setProperty(c,g,C):a.setAttribute(c,g,C),h++}}return h}function ea(a){return 3===a||4===a||6===a}function G1(a){return 64===a.charCodeAt(0)}function w2(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let u=-1;for(let h=0;h<c.length;h++){const p=c[h];"number"==typeof p?u=p:0===u||Y3(a,u,p,null,-1===u||2===u?c[++h]:null)}}return a}function Y3(a,c,u,h,p){let g=0,C=a.length;if(-1===c)C=-1;else for(;g<a.length;){const w=a[g++];if("number"==typeof w){if(w===c){C=-1;break}if(w>c){C=g-1;break}}}for(;g<a.length;){const w=a[g];if("number"==typeof w)break;if(w===u){if(null===h)return void(null!==p&&(a[g+1]=p));if(h===a[g+1])return void(a[g+2]=p)}g++,null!==h&&g++,null!==p&&g++}-1!==C&&(a.splice(C,0,c),g=C+1),a.splice(g++,0,u),null!==h&&a.splice(g++,0,h),null!==p&&a.splice(g++,0,p)}function K3(a){return-1!==a}function Pi(a){return 32767&a}function D2(a,c){let u=function S2(a){return a>>16}(a),h=c;for(;u>0;)h=h[15],u--;return h}let As=!0;function x2(a){const c=As;return As=a,c}let si=0;const ls={};function ta(a,c){const u=$1(a,c);if(-1!==u)return u;const h=c[1];h.firstCreatePass&&(a.injectorIndex=c.length,A2(h.data,a),A2(c,null),A2(h.blueprint,null));const p=W1(a,c),g=a.injectorIndex;if(K3(p)){const C=Pi(p),w=D2(p,c),D=w[1].data;for(let T=0;T<8;T++)c[g+T]=w[C+T]|D[C+T]}return c[g+8]=p,g}function A2(a,c){a.push(0,0,0,0,0,0,0,0,c)}function $1(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function W1(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,p=c;for(;null!==p;){if(h=Na(p),null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function wo(a,c,u){!function q1(a,c,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(hr)&&(h=u[hr]),null==h&&(h=u[hr]=si++);const p=255&h;c.data[a+(p>>5)]|=1<<p}(a,c,u)}function So(a,c,u){if(u&it.Optional||void 0!==a)return a;Me()}function Z1(a,c,u,h){if(u&it.Optional&&void 0===h&&(h=null),0==(u&(it.Self|it.Host))){const p=a[9],g=Si(void 0);try{return p?p.get(c,h,u&it.Optional):Or(c,h,u&it.Optional)}finally{Si(g)}}return So(h,0,u)}function na(a,c,u,h=it.Default,p){if(null!==a){if(1024&c[2]){const C=function za(a,c,u,h,p){let g=a,C=c;for(;null!==g&&null!==C&&1024&C[2]&&!(256&C[2]);){const w=T2(g,C,u,h|it.Self,ls);if(w!==ls)return w;let D=g.parent;if(!D){const T=C[21];if(T){const L=T.get(u,ls,h);if(L!==ls)return L}D=Na(C),C=C[15]}g=D}return p}(a,c,u,h,ls);if(C!==ls)return C}const g=T2(a,c,u,h,ls);if(g!==ls)return g}return Z1(c,u,h,p)}function T2(a,c,u,h,p){const g=function xl(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(hr)?a[hr]:void 0;return"number"==typeof c?c>=0?255&c:El:c}(u);if("function"==typeof g){if(!N1(c,a,h))return h&it.Host?So(p,0,h):Z1(c,u,h,p);try{const C=g(h);if(null!=C||h&it.Optional)return C;Me()}finally{G3()}}else if("number"==typeof g){let C=null,w=$1(a,c),D=-1,T=h&it.Host?c[16][6]:null;for((-1===w||h&it.SkipSelf)&&(D=-1===w?W1(a,c):c[w+8],-1!==D&&I2(h,!1)?(C=c[1],w=Pi(D),c=D2(D,c)):w=-1);-1!==w;){const L=c[1];if(Y1(g,w,L.data)){const F=J3(w,c,u,C,h,T);if(F!==ls)return F}D=c[w+8],-1!==D&&I2(h,c[1].data[w+8]===T)&&Y1(g,w,c)?(C=L,w=Pi(D),c=D2(D,c)):w=-1}}return p}function J3(a,c,u,h,p,g){const C=c[1],w=C.data[a+8],L=Ha(w,C,u,null==h?Go(w)&&As:h!=C&&0!=(3&w.type),p&it.Host&&g===w);return null!==L?Ws(c,C,L,w):ls}function Ha(a,c,u,h,p){const g=a.providerIndexes,C=c.data,w=1048575&g,D=a.directiveStart,L=g>>20,Y=p?w+L:a.directiveEnd;for(let se=h?w:w+L;se<Y;se++){const we=C[se];if(se<D&&u===we||se>=D&&we.type===u)return se}if(p){const se=C[D];if(se&&rr(se)&&se.type===u)return D}return null}function Ws(a,c,u,h){let p=a[u];const g=c.data;if(function Xo(a){return a instanceof Mo}(p)){const C=p;C.resolving&&function ct(a,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new xe(-200,`Circular dependency in DI detected for ${a}${u}`)}(function ve(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ce(a)}(g[u]));const w=x2(C.canSeeViewProviders);C.resolving=!0;const D=C.injectImpl?Si(C.injectImpl):null;N1(a,h,it.Default);try{p=a[u]=C.factory(void 0,g,a,h),c.firstCreatePass&&u>=h.directiveStart&&function Sl(a,c,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:g}=c.type.prototype;if(h){const C=qo(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,C),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,C)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],c)}finally{null!==D&&Si(D),x2(w),C.resolving=!1,G3()}}return p}function Y1(a,c,u){return!!(u[c+(a>>5)]&1<<a)}function I2(a,c){return!(a&it.Self||a&it.Host&&c)}class ia{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,h){return na(this._tNode,this._lView,c,h,u)}}function El(){return new ia(Kn(),ke())}function Zs(a){return Zn(()=>{const c=a.prototype.constructor,u=c[Di]||K1(c),h=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==h;){const g=p[Di]||K1(p);if(g&&g!==u)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function K1(a){return Ge(a)?()=>{const c=K1(ee(a));return c&&c()}:Ds(a)}function Na(a){const c=a[1],u=c.type;return 2===u?c.declTNode:1===u?a[6]:null}function Q1(a){return function X3(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const u=a.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const g=u[p];if(ea(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(g===c)return u[p+1];p+=2}}}return null}(Kn(),a)}const Do="__parameters__";function Ra(a,c,u){return Zn(()=>{const h=function X1(a){return function(...u){if(a){const h=a(...u);for(const p in h)this[p]=h[p]}}}(c);function p(...g){if(this instanceof p)return h.apply(this,g),this;const C=new p(...g);return w.annotation=C,w;function w(D,T,L){const F=D.hasOwnProperty(Do)?D[Do]:Object.defineProperty(D,Do,{value:[]})[Do];for(;F.length<=L;)F.push(null);return(F[L]=F[L]||[]).push(C),D}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class zn{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=pn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Vn(a,c){void 0===c&&(c=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(c===a&&(c=a.slice(0,u)),Vn(h,c)):c!==a&&c.push(h)}return c}function us(a,c){a.forEach(u=>Array.isArray(u)?us(u,c):c(u))}function L2(a,c,u){c>=a.length?a.push(u):a.splice(c,0,u)}function gn(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function xo(a,c){const u=[];for(let h=0;h<a;h++)u.push(c);return u}function Je(a,c,u){let h=Eo(a,c);return h>=0?a[1|h]=u:(h=~h,function Al(a,c,u,h){let p=a.length;if(p==c)a.push(u,h);else if(1===p)a.push(h,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>c;)a[p]=a[p-2],p--;a[c]=u,a[c+1]=h}}(a,h,c,u)),h}function z2(a,c){const u=Eo(a,c);if(u>=0)return a[1|u]}function Eo(a,c){return function Fa(a,c,u){let h=0,p=a.length>>u;for(;p!==h;){const g=h+(p-h>>1),C=a[g<<u];if(c===C)return g<<u;C>c?p=g:h=g+1}return~(p<<u)}(a,c,1)}const ds={},kl="__NG_DI_FLAG__",mr="ngTempTokenPath",Ts=/\n/gm,Nn="__source";let Ao;function Qs(a){const c=Ao;return Ao=a,c}function Mn(a,c=it.Default){if(void 0===Ao)throw new xe(-203,!1);return null===Ao?Or(a,void 0,c):Ao.get(a,c&it.Optional?null:void 0,c)}function nn(a,c=it.Default){return(function po(){return ir}()||Mn)(ee(a),c)}function x(a,c=it.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),nn(a,c)}function E(a){const c=[];for(let u=0;u<a.length;u++){const h=ee(a[u]);if(Array.isArray(h)){if(0===h.length)throw new xe(900,!1);let p,g=it.Default;for(let C=0;C<h.length;C++){const w=h[C],D=B(w);"number"==typeof D?-1===D?p=w.token:g|=D:p=w}c.push(nn(p,g))}else c.push(nn(h))}return c}function V(a,c){return a[kl]=c,a.prototype[kl]=c,a}function B(a){return a[kl]}const Le=V(Ra("Optional"),8),ft=V(Ra("SkipSelf"),4);let Ju,P2,Vl;function S0(a){Ju=a}function ca(a){return function e4(){if(void 0===P2&&(P2=null,bn.trustedTypes))try{P2=bn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return P2}()?.createHTML(a)||a}function x0(a){return function la(){if(void 0===Vl&&(Vl=null,bn.trustedTypes))try{Vl=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Vl}()?.createHTML(a)||a}class ua{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class r4 extends ua{getTypeName(){return"HTML"}}class R2 extends ua{getTypeName(){return"Style"}}class E0 extends ua{getTypeName(){return"Script"}}class Ll extends ua{getTypeName(){return"URL"}}class q8 extends ua{getTypeName(){return"ResourceURL"}}function hs(a){return a instanceof ua?a.changingThisBreaksApplicationSecurity:a}function da(a,c){const u=function t6(a){return a instanceof ua&&a.getTypeName()||null}(a);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}function n6(a){return new r4(a)}function $8(a){return new R2(a)}function W8(a){return new E0(a)}function Z8(a){return new Ll(a)}function s4(a){return new q8(a)}class T0{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(ca(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class Y8{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ca(c),u;const h=this.inertDocument.createElement("body");return h.innerHTML=ca(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(c){const u=c.attributes;for(let p=u.length-1;0<p;p--){const C=u.item(p).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&c.removeAttribute(C)}let h=c.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const F2=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function tc(a){return(a=String(a)).match(F2)?a:"unsafe:"+a}function ks(a){const c={};for(const u of a.split(","))c[u]=!0;return c}function B2(...a){const c={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(c[h]=!0);return c}const ja=ks("area,br,col,hr,img,wbr"),nc=ks("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),K8=ks("rp,rt"),U2=B2(ja,B2(nc,ks("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),B2(K8,ks("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),B2(K8,nc)),ha=ks("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),i6=B2(ha,ks("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ks("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),k0=ks("script,style,template");class ic{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!U2.hasOwnProperty(u))return this.sanitizedSomething=!0,!k0.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=c.attributes;for(let p=0;p<h.length;p++){const g=h.item(p),C=g.name,w=C.toLowerCase();if(!i6.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=g.value;ha[w]&&(D=tc(D)),this.buf.push(" ",C,'="',s6(D),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();U2.hasOwnProperty(u)&&!ja.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(s6(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const V0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r6=/([^\#-~ |!])/g;function s6(a){return a.replace(/&/g,"&amp;").replace(V0,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(r6,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let o4;function rc(a,c){let u=null;try{o4=o4||function A0(a){const c=new Y8(a);return function yg(){try{return!!(new window.DOMParser).parseFromString(ca(""),"text/html")}catch{return!1}}()?new T0(c):c}(a);let h=c?String(c):"";u=o4.getInertBodyElement(h);let p=5,g=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=g,g=u.innerHTML,u=o4.getInertBodyElement(h)}while(h!==g);return ca((new ic).sanitizeChildren(fa(u)||u))}finally{if(u){const h=fa(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function fa(a){return"content"in a&&function X8(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Jn=(()=>((Jn=Jn||{})[Jn.NONE=0]="NONE",Jn[Jn.HTML=1]="HTML",Jn[Jn.STYLE=2]="STYLE",Jn[Jn.SCRIPT=3]="SCRIPT",Jn[Jn.URL=4]="URL",Jn[Jn.RESOURCE_URL=5]="RESOURCE_URL",Jn))();function zl(a){const c=sc();return c?x0(c.sanitize(Jn.HTML,a)||""):da(a,"HTML")?x0(hs(a)):rc(function D0(){return void 0!==Ju?Ju:typeof document<"u"?document:void 0}(),Ce(a))}function a4(a){const c=sc();return c?c.sanitize(Jn.URL,a)||"":da(a,"URL")?hs(a):tc(Ce(a))}function sc(){const a=ke();return a&&a[12]}const o6=new zn("ENVIRONMENT_INITIALIZER"),z0=new zn("INJECTOR",-1),N0=new zn("INJECTOR_DEF_TYPES");class P0{get(c,u=ds){if(u===ds){const h=new Error(`NullInjectorError: No provider for ${me(c)}!`);throw h.name="NullInjectorError",h}return u}}function O0(...a){return{\u0275providers:d4(0,a)}}function d4(a,...c){const u=[],h=new Set;let p;return us(c,g=>{const C=g;Nl(C,u,[],h)&&(p||(p=[]),p.push(C))}),void 0!==p&&h4(p,u),u}function h4(a,c){for(let u=0;u<a.length;u++){const{providers:p}=a[u];us(p,g=>{c.push(g)})}}function Nl(a,c,u,h){if(!(a=ee(a)))return!1;let p=null,g=fo(a);const C=!g&&ne(a);if(g||C){if(C&&!C.standalone)return!1;p=a}else{const D=a.ngModule;if(g=fo(D),!g)return!1;p=D}const w=h.has(p);if(C){if(w)return!1;if(h.add(p),C.dependencies){const D="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const T of D)Nl(T,c,u,h)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let T;h.add(p);try{us(g.imports,L=>{Nl(L,c,u,h)&&(T||(T=[]),T.push(L))})}finally{}void 0!==T&&h4(T,c)}if(!w){const T=Ds(p)||(()=>new p);c.push({provide:p,useFactory:T,deps:zt},{provide:N0,useValue:p,multi:!0},{provide:o6,useValue:()=>nn(p),multi:!0})}const D=g.providers;null==D||w||us(D,L=>{c.push(L)})}}return p!==a&&void 0!==a.providers}const f4=pe({provide:String,useValue:pe});function Pl(a){return null!==a&&"object"==typeof a&&f4 in a}function fs(a){return"function"==typeof a}const oc=new zn("Set Injector scope."),ac={},qr={};let Ol;function p4(){return void 0===Ol&&(Ol=new P0),Ol}class sr{}class m4 extends sr{constructor(c,u,h,p){super(),this.parent=u,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ga(c,C=>this.processProvider(C)),this.records.set(z0,Ri(void 0,this)),p.has("environment")&&this.records.set(sr,Ri(void 0,this));const g=this.records.get(oc);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(N0.multi,zt,it.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=Qs(this),h=Si(void 0);try{return c()}finally{Qs(u),Si(h)}}get(c,u=ds,h=it.Default){this.assertNotDestroyed();const p=Qs(this),g=Si(void 0);try{if(!(h&it.SkipSelf)){let w=this.records.get(c);if(void 0===w){const D=function e5(a){return"function"==typeof a||"object"==typeof a&&a instanceof zn}(c)&&xn(c);w=D&&this.injectableDefInScope(D)?Ri(Rl(c),ac):null,this.records.set(c,w)}if(null!=w)return this.hydrate(c,w)}return(h&it.Self?p4():this.parent).get(c,u=h&it.Optional&&u===ds?null:u)}catch(C){if("NullInjectorError"===C.name){if((C[mr]=C[mr]||[]).unshift(me(c)),p)throw C;return function te(a,c,u,h){const p=a[mr];throw c[Nn]&&p.unshift(c[Nn]),a.message=function oe(a,c,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let p=me(c);if(Array.isArray(c))p=c.map(me).join(" -> ");else if("object"==typeof c){let g=[];for(let C in c)if(c.hasOwnProperty(C)){let w=c[C];g.push(C+":"+("string"==typeof w?JSON.stringify(w):me(w)))}p=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${a.replace(Ts,"\n  ")}`}("\n"+a.message,p,u,h),a.ngTokenPath=p,a[mr]=null,a}(C,c,"R3InjectorError",this.source)}throw C}finally{Si(g),Qs(p)}}resolveInjectorInitializers(){const c=Qs(this),u=Si(void 0);try{const h=this.get(o6.multi,zt,it.Self);for(const p of h)p()}finally{Qs(c),Si(u)}}toString(){const c=[],u=this.records;for(const h of u.keys())c.push(me(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let u=fs(c=ee(c))?c:ee(c&&c.provide);const h=function a6(a){return Pl(a)?Ri(void 0,a.useValue):Ri(Fl(a),ac)}(c);if(fs(c)||!0!==c.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=Ri(void 0,ac,!0),p.factory=()=>E(p.multi),this.records.set(u,p)),u=c,p.multi.push(c)}this.records.set(u,h)}hydrate(c,u){return u.value===ac&&(u.value=qr,u.value=u.factory()),"object"==typeof u.value&&u.value&&function c6(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=ee(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Rl(a){const c=xn(a),u=null!==c?c.factory:Ds(a);if(null!==u)return u;if(a instanceof zn)throw new xe(204,!1);if(a instanceof Function)return function F0(a){const c=a.length;if(c>0)throw xo(c,"?"),new xe(204,!1);const u=function ur(a){const c=a&&(a[ss]||a[Pr]);if(c){const u=function dr(a){if(a.hasOwnProperty("name"))return a.name;const c=(""+a).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new xe(204,!1)}function Fl(a,c,u){let h;if(fs(a)){const p=ee(a);return Ds(p)||Rl(p)}if(Pl(a))h=()=>ee(a.useValue);else if(function Gr(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...E(a.deps||[]));else if(function gr(a){return!(!a||!a.useExisting)}(a))h=()=>nn(ee(a.useExisting));else{const p=ee(a&&(a.useClass||a.provide));if(!function G2(a){return!!a.deps}(a))return Ds(p)||Rl(p);h=()=>new p(...E(a.deps))}return h}function Ri(a,c,u=!1){return{factory:a,value:c,multi:u?[]:void 0}}function Js(a){return!!a.\u0275providers}function Ga(a,c){for(const u of a)Array.isArray(u)?Ga(u,c):Js(u)?Ga(u.\u0275providers,c):c(u)}class g4{}class y4{resolveComponentFactory(c){throw function B0(a){const c=Error(`No component factory found for ${me(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let q2=(()=>{class a{}return a.NULL=new y4,a})();function t5(){return y(Kn(),ke())}function y(a,c){return new m(pr(a,c))}let m=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=t5,a})();function _(a){return a instanceof m?a.nativeElement:a}class k{}let z=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function K(){const a=ke(),u=sn(Kn().index,a);return(zi(u)?u:a)[11]}(),a})(),_e=(()=>{class a{}return a.\u0275prov=pn({token:a,providedIn:"root",factory:()=>null}),a})();class $e{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const st=new $e("14.2.10"),Tt={};function o5(a){return a.ngOriginalError}class h6{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&o5(c);for(;u&&o5(u);)u=o5(u);return u||null}}const a5=new Map;let zb=0;const W0="__ngContext__";function _r(a,c){zi(c)?(a[W0]=c[20],function Pb(a){a5.set(a[20],a)}(c)):a[W0]=c}function M4(a){return a.ownerDocument.defaultView}function u5(a){return a.ownerDocument}function Z2(a){return a instanceof Function?a():a}var $a=(()=>(($a=$a||{})[$a.Important=1]="Important",$a[$a.DashCase=2]="DashCase",$a))();function f5(a,c){return undefined(a,c)}function S4(a){const c=a[3];return fr(c)?c[3]:c}function K0(a){return Lg(a[13])}function Q0(a){return Lg(a[4])}function Lg(a){for(;null!==a&&!fr(a);)a=a[4];return a}function D4(a,c,u,h,p){if(null!=h){let g,C=!1;fr(h)?g=h:zi(h)&&(C=!0,h=h[0]);const w=Yn(h);0===a&&null!==u?null==p?Fg(c,u,w):Wa(c,u,w,p||null,!0):1===a&&null!==u?Wa(c,u,w,p||null,!0):2===a?function Qb(a,c,u){const h=eh(a,c);h&&function Kb(a,c,u,h){a.removeChild(c,u,h)}(a,h,c,u)}(c,w,C):3===a&&c.destroyNode(w),null!=g&&function FI(a,c,u,h,p){const g=u[7];g!==Yn(u)&&D4(c,a,h,g,p);for(let w=10;w<u.length;w++){const D=u[w];Ul(D[1],D,a,c,h,g)}}(c,a,g,u,p)}}function X0(a,c,u){return a.createElement(c,u)}function Pg(a,c){const u=a[9],h=u.indexOf(c),p=c[3];512&c[2]&&(c[2]&=-513,qn(p,-1)),u.splice(h,1)}function _5(a,c){if(a.length<=10)return;const u=10+c,h=a[u];if(h){const p=h[17];null!==p&&p!==a&&Pg(p,h),c>0&&(a[u-1][4]=h[4]);const g=gn(a,10+c);!function g5(a,c){Ul(a,c,c[11],2,null,null),c[0]=null,c[6]=null}(h[1],h);const C=g[19];null!==C&&C.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function p6(a,c){if(!(128&c[2])){const u=c[11];u.destroyNode&&Ul(a,c,u,3,null,null),function OI(a){let c=a[13];if(!c)return J0(a[1],a);for(;c;){let u=null;if(zi(c))u=c[13];else{const h=c[10];h&&(u=h)}if(!u){for(;c&&!c[4]&&c!==a;)zi(c)&&J0(c[1],c),c=c[3];null===c&&(c=a),zi(c)&&J0(c[1],c),u=c&&c[4]}c=u}}(c)}}function J0(a,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function y5(a,c){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const p=c[u[h]];if(!(p instanceof Mo)){const g=u[h+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const w=p[g[C]],D=g[C+1];try{D.call(w)}finally{}}else try{g.call(p)}finally{}}}}(a,c),function v5(a,c){const u=a.cleanup,h=c[7];let p=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const C=u[g+1],w="function"==typeof C?C(c):Yn(c[C]),D=h[p=u[g+2]],T=u[g+3];"boolean"==typeof T?w.removeEventListener(u[g],D,T):T>=0?h[p=T]():h[p=-T].unsubscribe(),g+=2}else{const C=h[p=u[g+1]];u[g].call(C)}if(null!==h){for(let g=p+1;g<h.length;g++)(0,h[g])();c[7]=null}}(a,c),1===c[1].type&&c[11].destroy();const u=c[17];if(null!==u&&fr(c[3])){u!==c[3]&&Pg(u,c);const h=c[19];null!==h&&h.detachView(a)}!function Ob(a){a5.delete(a[20])}(c)}}function Og(a,c,u){return function Rg(a,c,u){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return u[0];if(2&h.flags){const p=a.data[h.directiveStart].encapsulation;if(p===vt.None||p===vt.Emulated)return null}return pr(h,u)}(a,c.parent,u)}function Wa(a,c,u,h,p){a.insertBefore(c,u,h,p)}function Fg(a,c,u){a.appendChild(c,u)}function Bg(a,c,u,h,p){null!==h?Wa(a,c,u,h,p):Fg(a,c,u)}function eh(a,c){return a.parentNode(c)}function ei(a,c,u){return C5(a,c,u)}let C5=function jg(a,c,u){return 40&a.type?pr(a,u):null};function nh(a,c,u,h){const p=Og(a,h,c),g=c[11],w=ei(h.parent||c[6],h,c);if(null!=p)if(Array.isArray(u))for(let D=0;D<u.length;D++)Bg(g,p,u[D],w,!1);else Bg(g,p,u,w,!1)}function ih(a,c){if(null!==c){const u=c.type;if(3&u)return pr(c,a);if(4&u)return Gg(-1,a[c.index]);if(8&u){const h=c.child;if(null!==h)return ih(a,h);{const p=a[c.index];return fr(p)?Gg(-1,p):Yn(p)}}if(32&u)return f5(c,a)()||Yn(a[c.index]);{const h=b5(a,c);return null!==h?Array.isArray(h)?h[0]:ih(S4(a[16]),h):ih(a,c.next)}}return null}function b5(a,c){return null!==c?a[16][6].projection[c.projection]:null}function Gg(a,c){const u=10+a+1;if(u<c.length){const h=c[u],p=h[1].firstChild;if(null!==p)return ih(h,p)}return c[7]}function M5(a,c,u,h,p,g,C){for(;null!=u;){const w=h[u.index],D=u.type;if(C&&0===c&&(w&&_r(Yn(w),h),u.flags|=4),64!=(64&u.flags))if(8&D)M5(a,c,u.child,h,p,g,!1),D4(c,a,p,w,g);else if(32&D){const T=f5(u,h);let L;for(;L=T();)D4(c,a,p,L,g);D4(c,a,p,w,g)}else 16&D?m6(a,c,h,u,p,g):D4(c,a,p,w,g);u=C?u.projectionNext:u.next}}function Ul(a,c,u,h,p,g){M5(u,h,a.firstChild,c,p,g,!1)}function m6(a,c,u,h,p,g){const C=u[16],D=C[6].projection[h.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)D4(c,a,p,D[T],g);else M5(a,c,D,C[3],p,g,!0)}function jl(a,c,u){a.setAttribute(c,"style",u)}function g6(a,c,u){""===u?a.removeAttribute(c,"class"):a.setAttribute(c,"class",u)}function Xb(a,c,u){let h=a.length;for(;;){const p=a.indexOf(c,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const g=c.length;if(p+g===h||a.charCodeAt(p+g)<=32)return p}u=p+1}}const w5="ng-template";function S5(a,c,u){let h=0;for(;h<a.length;){let p=a[h++];if(u&&"class"===p){if(p=a[h],-1!==Xb(p.toLowerCase(),c,0))return!0}else if(1===p){for(;h<a.length&&"string"==typeof(p=a[h++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function Wg(a){return 4===a.type&&a.value!==w5}function eM(a,c,u){return c===(4!==a.type||u?a.value:w5)}function tM(a,c,u){let h=4;const p=a.attrs||[],g=function BI(a){for(let c=0;c<a.length;c++)if(ea(a[c]))return c;return a.length}(p);let C=!1;for(let w=0;w<c.length;w++){const D=c[w];if("number"!=typeof D){if(!C)if(4&h){if(h=2|1&h,""!==D&&!eM(a,D,u)||""===D&&1===c.length){if(ko(h))return!1;C=!0}}else{const T=8&h?D:c[++w];if(8&h&&null!==a.attrs){if(!S5(a.attrs,T,u)){if(ko(h))return!1;C=!0}continue}const F=nM(8&h?"class":D,p,Wg(a),u);if(-1===F){if(ko(h))return!1;C=!0;continue}if(""!==T){let Y;Y=F>g?"":p[F+1].toLowerCase();const se=8&h?Y:null;if(se&&-1!==Xb(se,T,0)||2&h&&T!==Y){if(ko(h))return!1;C=!0}}}}else{if(!C&&!ko(h)&&!ko(D))return!1;if(C&&ko(D))continue;C=!1,h=D|1&h}}return ko(h)||C}function ko(a){return 0==(1&a)}function nM(a,c,u,h){if(null===c)return-1;let p=0;if(h||!u){let g=!1;for(;p<c.length;){const C=c[p];if(C===a)return p;if(3===C||6===C)g=!0;else{if(1===C||2===C){let w=c[++p];for(;"string"==typeof w;)w=c[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=g?1:2}return-1}return function Zg(a,c){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===c)return u;u++}return-1}(c,a)}function iM(a,c,u=!1){for(let h=0;h<c.length;h++)if(tM(a,c[h],u))return!0;return!1}function rM(a,c){e:for(let u=0;u<c.length;u++){const h=c[u];if(a.length===h.length){for(let p=0;p<a.length;p++)if(a[p]!==h[p])continue e;return!0}}return!1}function Yg(a,c){return a?":not("+c.trim()+")":c}function sh(a){let c=a[0],u=1,h=2,p="",g=!1;for(;u<a.length;){let C=a[u];if("string"==typeof C)if(2&h){const w=a[++u];p+="["+C+(w.length>0?'="'+w+'"':"")+"]"}else 8&h?p+="."+C:4&h&&(p+=" "+C);else""!==p&&!ko(C)&&(c+=Yg(g,p),p=""),h=C,g=g||!ko(h);u++}return""!==p&&(c+=Yg(g,p)),c}const Wt={};function Kg(a){Qg(Jt(),ke(),Ai()+a,!1)}function Qg(a,c,u,h){if(!h)if(3==(3&c[2])){const g=a.preOrderCheckHooks;null!==g&&Qo(c,g,u)}else{const g=a.preOrderHooks;null!==g&&ka(c,g,0,u)}Tr(u)}function lM(a,c=null,u=null,h){const p=t9(a,c,u,h);return p.resolveInjectorInitializers(),p}function t9(a,c=null,u=null,h,p=new Set){const g=[u||zt,O0(a)];return h=h||("object"==typeof a?void 0:me(a)),new m4(g,c||p4(),h||null,p)}let Gl=(()=>{class a{static create(u,h){if(Array.isArray(u))return lM({name:""},h,u,"");{const p=u.name??"";return lM({name:p},u.parent,u.providers,p)}}}return a.THROW_IF_NOT_FOUND=ds,a.NULL=new P0,a.\u0275prov=pn({token:a,providedIn:"any",factory:()=>nn(z0)}),a.__NG_ELEMENT_ID__=-1,a})();function y6(a,c=it.Default){const u=ke();return null===u?nn(a,c):na(Kn(),u,ee(a),c)}function l9(){throw new Error("invalid")}function C6(a,c){return a<<17|c<<2}function eo(a){return a>>17&32767}function k5(a){return 2|a}function pa(a){return(131068&a)>>2}function V5(a,c){return-131069&a|c<<2}function h9(a){return 1|a}function v9(a,c){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],g=u[h+1];if(-1!==g){const C=a.data[g];M2(p),C.contentQueries(2,c[g],g)}}}function M6(a,c,u,h,p,g,C,w,D,T,L){const F=c.blueprint.slice();return F[0]=p,F[2]=76|h,(null!==L||a&&1024&a[2])&&(F[2]|=1024),A1(F),F[3]=F[15]=a,F[8]=u,F[10]=C||a&&a[10],F[11]=w||a&&a[11],F[12]=D||a&&a[12]||null,F[9]=T||a&&a[9]||null,F[6]=g,F[20]=function Nb(){return zb++}(),F[21]=L,F[16]=2==c.type?a[16]:F,F}function ql(a,c,u,h,p){let g=a.data[c];if(null===g)g=function hh(a,c,u,h,p){const g=H1(),C=_2(),D=a.data[c]=function b9(a,c,u,h,p,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,u,c,h,p);return null===a.firstChild&&(a.firstChild=D),null!==g&&(C?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(a,c,u,h,p),function h0(){return Pt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=p;const C=function Ia(){const a=Pt.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return Br(g,!0),g}function $l(a,c,u,h){if(0===u)return-1;const p=c.length;for(let g=0;g<u;g++)c.push(h),a.blueprint.push(h),a.data.push(null);return p}function fh(a,c,u){P1(c);try{const h=a.viewQuery;null!==h&&Yl(1,h,u);const p=a.template;null!==p&&U5(a,c,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&v9(a,c),a.staticViewQueries&&Yl(2,a.viewQuery,u);const g=a.components;null!==g&&function y9(a,c){for(let u=0;u<c.length;u++)kM(a,c[u])}(c,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{c[2]&=-5,Yo()}}function w6(a,c,u,h){const p=c[2];if(128!=(128&p)){P1(c);try{A1(c),function pl(a){return Pt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&U5(a,c,u,2,h);const C=3==(3&p);if(C){const T=a.preOrderCheckHooks;null!==T&&Qo(c,T,null)}else{const T=a.preOrderHooks;null!==T&&ka(c,T,0,null),$3(c,0)}if(function IM(a){for(let c=K0(a);null!==c;c=Q0(c)){if(!c[2])continue;const u=c[9];for(let h=0;h<u.length;h++){const p=u[h],g=p[3];0==(512&p[2])&&qn(g,1),p[2]|=512}}}(c),function ok(a){for(let c=K0(a);null!==c;c=Q0(c))for(let u=10;u<c.length;u++){const h=c[u],p=h[1];Wo(h)&&w6(p,h,p.template,h[8])}}(c),null!==a.contentQueries&&v9(a,c),C){const T=a.contentCheckHooks;null!==T&&Qo(c,T)}else{const T=a.contentHooks;null!==T&&ka(c,T,1),$3(c,1)}!function pc(a,c){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)Tr(~p);else{const g=p,C=u[++h],w=u[++h];f0(C,g),w(2,c[g])}}}finally{Tr(-1)}}(a,c);const w=a.components;null!==w&&function dh(a,c){for(let u=0;u<c.length;u++)E9(a,c[u])}(c,w);const D=a.viewQuery;if(null!==D&&Yl(2,D,h),C){const T=a.viewCheckHooks;null!==T&&Qo(c,T)}else{const T=a.viewHooks;null!==T&&ka(c,T,2),$3(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,qn(c[3],-1))}finally{Yo()}}}function U5(a,c,u,h,p){const g=Ai(),C=2&h;try{Tr(-1),C&&c.length>22&&Qg(a,c,22,!1),u(h,p)}finally{Tr(g)}}function S6(a,c,u){if(Aa(c)){const p=c.directiveEnd;for(let g=c.directiveStart;g<p;g++){const C=a.data[g];C.contentQueries&&C.contentQueries(1,u[g],g)}}}function ph(a,c,u){!qs()||(function S9(a,c,u,h){const p=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||ta(u,c),_r(h,c);const C=u.initialInputs;for(let w=p;w<g;w++){const D=a.data[w],T=rr(D);T&&AM(c,u,D);const L=Ws(c,a,w,u);_r(L,c),null!==C&&rk(0,w-p,L,D,0,C),T&&(sn(u.index,c)[8]=L)}}(a,c,u,pr(u,c)),128==(128&u.flags)&&function ik(a,c,u){const h=u.directiveStart,p=u.directiveEnd,g=u.index,C=function ml(){return Pt.lFrame.currentDirectiveIndex}();try{Tr(g);for(let w=h;w<p;w++){const D=a.data[w],T=c[w];z1(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&EM(D,T)}}finally{Tr(-1),z1(C)}}(a,c,u))}function mh(a,c,u=pr){const h=c.localNames;if(null!==h){let p=c.index+1;for(let g=0;g<h.length;g+=2){const C=h[g+1],w=-1===C?u(c,a):a[C];a[p++]=w}}}function j5(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=gh(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function gh(a,c,u,h,p,g,C,w,D,T){const L=22+h,F=L+p,Y=function SM(a,c){const u=[];for(let h=0;h<c;h++)u.push(h<a?null:Wt);return u}(L,F),se="function"==typeof T?T():T;return Y[1]={type:a,blueprint:Y,template:u,queries:null,viewQuery:w,declTNode:c,data:Y.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:D,consts:se,incompleteFirstPass:!1}}function _h(a,c,u,h){const p=W5(c);null===u?p.push(h):(p.push(u),a.firstCreatePass&&Sh(a).push(h,p.length-1))}function vh(a,c,u){for(let h in a)if(a.hasOwnProperty(h)){const p=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(c,p):u[h]=[c,p]}return u}function G5(a,c){const h=c.directiveEnd,p=a.data,g=c.attrs,C=[];let w=null,D=null;for(let T=c.directiveStart;T<h;T++){const L=p[T],F=L.inputs,Y=null===g||Wg(c)?null:sk(F,g);C.push(Y),w=vh(F,T,w),D=vh(L.outputs,T,D)}null!==w&&(w.hasOwnProperty("class")&&(c.flags|=16),w.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=C,c.inputs=w,c.outputs=D}function Vs(a,c,u,h,p,g,C,w){const D=pr(c,u);let L,T=c.inputs;!w&&null!=T&&(L=T[h])?(Dh(a,u,L,h,p),Go(c)&&yh(u,c.index)):3&c.type&&(h=function M9(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),p=null!=C?C(p,c.value||"",h):p,g.setProperty(D,h,p))}function yh(a,c){const u=sn(c,a);16&u[2]||(u[2]|=32)}function bh(a,c,u,h){let p=!1;if(qs()){const g=function T4(a,c,u){const h=a.directiveRegistry;let p=null;if(h)for(let g=0;g<h.length;g++){const C=h[g];iM(u,C.selectors,!1)&&(p||(p=[]),wo(ta(u,c),a,C.type),rr(C)?(I4(a,u),p.unshift(C)):p.push(C))}return p}(a,c,u),C=null===h?null:{"":-1};if(null!==g){p=!0,D9(u,a.data.length,g.length);for(let L=0;L<g.length;L++){const F=g[L];F.providersResolver&&F.providersResolver(F)}let w=!1,D=!1,T=$l(a,c,g.length,null);for(let L=0;L<g.length;L++){const F=g[L];u.mergedAttrs=w2(u.mergedAttrs,F.hostAttrs),wh(a,u,c,T,F),Mh(T,F,C),null!==F.contentQueries&&(u.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(u.flags|=128);const Y=F.type.prototype;!w&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),w=!0),!D&&(Y.ngOnChanges||Y.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),D=!0),T++}G5(a,u)}C&&function q5(a,c,u){if(c){const h=a.localNames=[];for(let p=0;p<c.length;p+=2){const g=u[c[p+1]];if(null==g)throw new xe(-301,!1);h.push(c[p],g)}}}(u,h,C)}return u.mergedAttrs=w2(u.mergedAttrs,u.attrs),p}function Zr(a,c,u,h,p,g){const C=g.hostBindings;if(C){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const D=~c.index;(function Y2(a){let c=a.length;for(;c>0;){const u=a[--c];if("number"==typeof u&&u<0)return u}return 0})(w)!=D&&w.push(D),w.push(h,p,C)}}function EM(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function I4(a,c){c.flags|=2,(a.components||(a.components=[])).push(c.index)}function Mh(a,c,u){if(u){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)u[c.exportAs[h]]=a;rr(c)&&(u[""]=a)}}function D9(a,c,u){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+u,a.providerIndexes=c}function wh(a,c,u,h,p){a.data[h]=p;const g=p.factory||(p.factory=Ds(p.type)),C=new Mo(g,rr(p),y6);a.blueprint[h]=C,u[h]=C,Zr(a,c,0,h,$l(a,u,p.hostVars,Wt),p)}function AM(a,c,u){const h=pr(c,a),p=j5(u),g=a[10],C=k4(a,M6(a,p,null,u.onPush?32:16,h,c,g,g.createRenderer(h,u),null,null,null));a[c.index]=C}function K2(a,c,u,h,p,g){const C=pr(a,c);!function x9(a,c,u,h,p,g,C){if(null==g)a.removeAttribute(c,p,u);else{const w=null==C?Ce(g):C(g,h||"",p);a.setAttribute(c,p,w,u)}}(c[11],C,g,a.value,u,h,p)}function rk(a,c,u,h,p,g){const C=g[c];if(null!==C){const w=h.setInput;for(let D=0;D<C.length;){const T=C[D++],L=C[D++],F=C[D++];null!==w?h.setInput(u,F,T,L):u[L]=F}}}function sk(a,c){let u=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,a[p],c[h+1])),h+=2}else h+=2;else h+=4}return u}function TM(a,c,u,h){return new Array(a,!0,!1,c,null,0,h,u,null,null)}function E9(a,c){const u=sn(c,a);if(Wo(u)){const h=u[1];48&u[2]?w6(h,u,h.template,u[8]):u[5]>0&&$5(u)}}function $5(a){for(let h=K0(a);null!==h;h=Q0(h))for(let p=10;p<h.length;p++){const g=h[p];if(Wo(g))if(512&g[2]){const C=g[1];w6(C,g,C.template,g[8])}else g[5]>0&&$5(g)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=sn(u[h],a);Wo(p)&&p[5]>0&&$5(p)}}function kM(a,c){const u=sn(c,a),h=u[1];(function VM(a,c){for(let u=c.length;u<a.blueprint.length;u++)c.push(a.blueprint[u])})(h,u),fh(h,u,u[8])}function k4(a,c){return a[13]?a[14][4]=c:a[13]=c,a[14]=c,c}function Wl(a){for(;a;){a[2]|=32;const c=S4(a);if(Bu(a)&&!c)return a;a=c}return null}function Zl(a,c,u,h=!0){const p=c[10];p.begin&&p.begin();try{w6(a,c,a.template,u)}catch(C){throw h&&x6(c,C),C}finally{p.end&&p.end()}}function Yl(a,c,u){M2(0),c(a,u)}function W5(a){return a[7]||(a[7]=[])}function Sh(a){return a.cleanup||(a.cleanup=[])}function Z5(a,c,u){return(null===a||rr(a))&&(u=function S1(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[c.index])),u[11]}function x6(a,c){const u=a[9],h=u?u.get(h6,null):null;h&&h.handleError(c)}function Dh(a,c,u,h,p){for(let g=0;g<u.length;){const C=u[g++],w=u[g++],D=c[C],T=a.data[C];null!==T.setInput?T.setInput(D,p,h,w):D[w]=p}}function Ka(a,c,u){const h=Fr(c,a);!function Hg(a,c,u){a.setValue(c,u)}(a[11],h,u)}function Kl(a,c,u){let h=u?a.styles:null,p=u?a.classes:null,g=0;if(null!==c)for(let C=0;C<c.length;C++){const w=c[C];"number"==typeof w?g=w:1==g?p=ge(p,w):2==g&&(h=ge(h,w+": "+c[++C]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=p:a.classesWithoutHost=p}function Q2(a,c,u,h,p=!1){for(;null!==u;){const g=c[u.index];if(null!==g&&h.push(Yn(g)),fr(g))for(let w=10;w<g.length;w++){const D=g[w],T=D[1].firstChild;null!==T&&Q2(D[1],D,T,h)}const C=u.type;if(8&C)Q2(a,c,u.child,h);else if(32&C){const w=f5(u,c);let D;for(;D=w();)h.push(D)}else if(16&C){const w=b5(c,u);if(Array.isArray(w))h.push(...w);else{const D=S4(c[16]);Q2(D[1],D,w,h,!0)}}u=p?u.projectionNext:u.next}return h}class xh{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return Q2(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(fr(c)){const u=c[8],h=u?u.indexOf(this):-1;h>-1&&(_5(c,h),gn(u,h))}this._attachedToViewContainer=!1}p6(this._lView[1],this._lView)}onDestroy(c){_h(this._lView[1],this._lView,null,c)}markForCheck(){Wl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Zl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ng(a,c){Ul(a,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class ak extends xh{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Zl(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class Eh extends q2{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=ne(c);return new mc(u,this.ngModule)}}function LM(a){const c=[];for(let u in a)a.hasOwnProperty(u)&&c.push({propName:a[u],templateName:u});return c}class E6{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,h){const p=this.injector.get(c,Tt,h);return p!==Tt||u===Tt?p:this.parentInjector.get(c,u,h)}}class mc extends g4{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function sM(a){return a.map(sh).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return LM(this.componentDef.inputs)}get outputs(){return LM(this.componentDef.outputs)}create(c,u,h,p){let g=(p=p||this.ngModule)instanceof sr?p:p?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new E6(c,g):c,w=C.get(k,null);if(null===w)throw new xe(407,!1);const D=C.get(_e,null),T=w.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",F=h?function C9(a,c,u){return a.selectRootElement(c,u===vt.ShadowDom)}(T,h,this.componentDef.encapsulation):X0(T,L,function Ah(a){const c=a.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(L)),Y=this.componentDef.onPush?288:272,se=gh(0,null,null,1,0,null,null,null,null,null),we=M6(null,se,null,Y,null,null,w,T,D,C,null);let Ue,Xe;P1(we);try{const pt=function HM(a,c,u,h,p,g){const C=u[1];u[22]=a;const D=ql(C,22,2,"#host",null),T=D.mergedAttrs=c.hostAttrs;null!==T&&(Kl(D,T,!0),null!==a&&(La(p,a,T),null!==D.classes&&g6(p,a,D.classes),null!==D.styles&&jl(p,a,D.styles)));const L=h.createRenderer(a,c),F=M6(u,j5(c),null,c.onPush?32:16,u[22],D,h,L,g||null,null,null);return C.firstCreatePass&&(wo(ta(D,u),C,c.type),I4(C,D),D9(D,u.length,1)),k4(u,F),u[22]=F}(F,this.componentDef,we,w,T);if(F)if(h)La(T,F,["ng-version",st.full]);else{const{attrs:kt,classes:Ve}=function oM(a){const c=[],u=[];let h=1,p=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===p?""!==g&&c.push(g,a[++h]):8===p&&u.push(g);else{if(!ko(p))break;p=g}h++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);kt&&La(T,F,kt),Ve&&Ve.length>0&&g6(T,F,Ve.join(" "))}if(Xe=$o(se,22),void 0!==u){const kt=Xe.projection=[];for(let Ve=0;Ve<this.ngContentSelectors.length;Ve++){const Lt=u[Ve];kt.push(null!=Lt?Array.from(Lt):null)}}Ue=function zM(a,c,u,h){const p=u[1],g=function w9(a,c,u){const h=Kn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),wh(a,h,c,$l(a,c,1,null),u),G5(a,h));const p=Ws(c,a,h.directiveStart,h);_r(p,c);const g=pr(h,c);return g&&_r(g,c),p}(p,u,c);if(a[8]=u[8]=g,null!==h)for(const w of h)w(g,c);if(c.contentQueries){const w=Kn();c.contentQueries(1,g,w.directiveStart)}const C=Kn();return!p.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(Tr(C.index),Zr(u[1],C,0,C.directiveStart,C.directiveEnd,c),EM(c,g)),g}(pt,this.componentDef,we,[T9]),fh(se,we,null)}finally{Yo()}return new Y5(this.componentType,Ue,y(Xe,we),we,Xe)}}class Y5 extends class l6{}{constructor(c,u,h,p,g){super(),this.location=h,this._rootLView=p,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new ak(p),this.componentType=c}setInput(c,u){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[c])){const g=this._rootLView;Dh(g[1],g,p,c,u),yh(g,this._tNode.index)}}get injector(){return new ia(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function T9(){const a=Kn();F1(ke()[1],a)}function Ih(a){let c=function I9(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;c;){let p;if(rr(a))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);p=c.\u0275dir}if(p){if(u){h.push(p);const C=a;C.inputs=k9(a.inputs),C.declaredInputs=k9(a.declaredInputs),C.outputs=k9(a.outputs);const w=p.hostBindings;w&&lk(a,w);const D=p.viewQuery,T=p.contentQueries;if(D&&PM(a,D),T&&V9(a,T),ae(a.inputs,p.inputs),ae(a.declaredInputs,p.declaredInputs),ae(a.outputs,p.outputs),rr(p)&&p.data.animation){const L=a.data;L.animation=(L.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let C=0;C<g.length;C++){const w=g[C];w&&w.ngInherit&&w(a),w===Ih&&(u=!1)}}c=Object.getPrototypeOf(c)}!function NM(a){let c=0,u=null;for(let h=a.length-1;h>=0;h--){const p=a[h];p.hostVars=c+=p.hostVars,p.hostAttrs=w2(p.hostAttrs,u=w2(u,p.hostAttrs))}}(h)}function k9(a){return a===Dr?{}:a===zt?[]:a}function PM(a,c){const u=a.viewQuery;a.viewQuery=u?(h,p)=>{c(h,p),u(h,p)}:c}function V9(a,c){const u=a.contentQueries;a.contentQueries=u?(h,p,g)=>{c(h,p,g),u(h,p,g)}:c}function lk(a,c){const u=a.hostBindings;a.hostBindings=u?(h,p)=>{c(h,p),u(h,p)}:c}let V4=null;function Ql(){if(!V4){const a=bn.Symbol;if(a&&a.iterator)V4=a.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const h=c[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(V4=h)}}}return V4}function A6(a){return!!kh(a)&&(Array.isArray(a)||!(a instanceof Map)&&Ql()in a)}function kh(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function yr(a,c,u){return a[c]=u}function Vh(a,c){return a[c]}function Yr(a,c,u){return!Object.is(a[c],u)&&(a[c]=u,!0)}function _c(a,c,u,h){const p=Yr(a,c,u);return Yr(a,c+1,h)||p}function ma(a,c,u,h,p,g){const C=_c(a,c,u,h);return _c(a,c+2,p,g)||C}function z9(a,c,u,h){const p=ke();return Yr(p,Zo(),c)&&(Jt(),K2(Bn(),p,a,c,u,h)),z9}function vc(a,c,u,h,p,g){const w=_c(a,Es(),u,p);return $s(2),w?c+Ce(u)+h+Ce(p)+g:Wt}function k6(a,c,u,h,p,g,C,w){const D=ke(),T=Jt(),L=a+22,F=T.firstCreatePass?function FM(a,c,u,h,p,g,C,w,D){const T=c.consts,L=ql(c,a,4,C||null,cs(T,w));bh(c,u,L,cs(T,D)),F1(c,L);const F=L.tViews=gh(2,L,h,p,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,T);return null!==c.queries&&(c.queries.template(c,L),F.queries=c.queries.embeddedTView(L)),L}(L,T,D,c,u,h,p,g,C):T.data[L];Br(F,!1);const Y=D[11].createComment("");nh(T,D,Y,F),_r(Y,D),k4(D,D[L]=TM(Y,D,Y,F)),sl(F)&&ph(T,D,F),null!=C&&mh(D,F,w)}function Hh(a){return function Gs(a,c){return a[c]}(function fl(){return Pt.lFrame.contextLView}(),22+a)}function r7(a,c,u){const h=ke();return Yr(h,Zo(),c)&&Vs(Jt(),Bn(),h,a,c,h[11],u,!1),r7}function V6(a,c,u,h,p){const C=p?"class":"style";Dh(a,u,c.inputs[C],C,h)}function zh(a,c,u,h){const p=ke(),g=Jt(),C=22+a,w=p[11],D=p[C]=X0(w,c,function R1(){return Pt.lFrame.currentNamespace}()),T=g.firstCreatePass?function F9(a,c,u,h,p,g,C){const w=c.consts,T=ql(c,a,2,p,cs(w,g));return bh(c,u,T,cs(w,C)),null!==T.attrs&&Kl(T,T.attrs,!1),null!==T.mergedAttrs&&Kl(T,T.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,T),T}(C,g,p,0,c,u,h):g.data[C];Br(T,!0);const L=T.mergedAttrs;null!==L&&La(w,D,L);const F=T.classes;null!==F&&g6(w,D,F);const Y=T.styles;return null!==Y&&jl(w,D,Y),64!=(64&T.flags)&&nh(g,p,D,T),0===function I1(){return Pt.lFrame.elementDepthCount}()&&_r(D,p),function k1(){Pt.lFrame.elementDepthCount++}(),sl(T)&&(ph(g,p,T),S6(g,T,p)),null!==h&&mh(p,T),zh}function L6(){let a=Kn();_2()?v2():(a=a.parent,Br(a,!1));const c=a;!function ul(){Pt.lFrame.elementDepthCount--}();const u=Jt();return u.firstCreatePass&&(F1(u,a),Aa(a)&&u.queries.elementEnd(a)),null!=c.classesWithoutHost&&function j1(a){return 0!=(16&a.flags)}(c)&&V6(u,c,ke(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Z3(a){return 0!=(32&a.flags)}(c)&&V6(u,c,ke(),c.stylesWithoutHost,!1),L6}function s7(a,c,u,h){return zh(a,c,u,h),L6(),s7}function Nh(a,c,u){const h=ke(),p=Jt(),g=a+22,C=p.firstCreatePass?function B9(a,c,u,h,p){const g=c.consts,C=cs(g,h),w=ql(c,a,8,"ng-container",C);return null!==C&&Kl(w,C,!0),bh(c,u,w,cs(g,p)),null!==c.queries&&c.queries.elementStart(c,w),w}(g,p,h,c,u):p.data[g];Br(C,!0);const w=h[g]=h[11].createComment("");return nh(p,h,w,C),_r(w,h),sl(C)&&(ph(p,h,C),S6(p,C,h)),null!=u&&mh(h,C),Nh}function N4(){let a=Kn();const c=Jt();return _2()?v2():(a=a.parent,Br(a,!1)),c.firstCreatePass&&(F1(c,a),Aa(a)&&c.queries.elementEnd(a)),N4}function U9(){return ke()}function Ph(a){return!!a&&"function"==typeof a.then}function j9(a){return!!a&&"function"==typeof a.subscribe}const UM=j9;function H6(a,c,u,h){const p=ke(),g=Jt(),C=Kn();return a7(g,p,p[11],C,a,c,0,h),H6}function Oh(a,c){const u=Kn(),h=ke(),p=Jt();return a7(p,h,Z5(b2(p.data),u,h),u,a,c),Oh}function a7(a,c,u,h,p,g,C,w){const D=sl(h),L=a.firstCreatePass&&Sh(a),F=c[8],Y=W5(c);let se=!0;if(3&h.type||w){const Xe=pr(h,c),pt=w?w(Xe):Xe,kt=Y.length,Ve=w?Tn=>w(Yn(Tn[h.index])):h.index;let Lt=null;if(!w&&D&&(Lt=function G9(a,c,u,h){const p=a.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const C=p[g];if(C===u&&p[g+1]===h){const w=c[7],D=p[g+2];return w.length>D?w[D]:null}"string"==typeof C&&(g+=2)}return null}(a,c,p,h.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=g,Lt.__ngLastListenerFn__=g,se=!1;else{g=q9(h,c,F,g,!1);const Tn=u.listen(pt,p,g);Y.push(g,Tn),L&&L.push(p,Ve,kt,kt+1)}}else g=q9(h,c,F,g,!1);const we=h.outputs;let Ue;if(se&&null!==we&&(Ue=we[p])){const Xe=Ue.length;if(Xe)for(let pt=0;pt<Xe;pt+=2){const ni=c[Ue[pt]][Ue[pt+1]].subscribe(g),d1=Y.length;Y.push(g,ni),L&&L.push(p,h.index,d1,-(d1+1))}}}function yc(a,c,u,h){try{return!1!==u(h)}catch(p){return x6(a,p),!1}}function q9(a,c,u,h,p){return function g(C){if(C===Function)return h;Wl(2&a.flags?sn(a.index,c):c);let D=yc(c,0,h,C),T=g.__ngNextListenerFn__;for(;T;)D=yc(c,0,T,C)&&D,T=T.__ngNextListenerFn__;return p&&!1===D&&(C.preventDefault(),C.returnValue=!1),D}}function c7(a=1){return function Ko(a){return(Pt.lFrame.contextLView=function O1(a,c){for(;a>0;)c=c[15],a--;return c}(a,Pt.lFrame.contextLView))[8]}(a)}function jM(a,c){let u=null;const h=function rh(a){const c=a.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(a);for(let p=0;p<c.length;p++){const g=c[p];if("*"!==g){if(null===h?iM(a,g,!0):rM(h,g))return p}else u=p}return u}function l7(a){const c=ke()[16][6];if(!c.projection){const h=c.projection=xo(a?a.length:1,null),p=h.slice();let g=c.child;for(;null!==g;){const C=a?jM(g,a):0;null!==C&&(p[C]?p[C].projectionNext=g:h[C]=g,p[C]=g),g=g.next}}}function $9(a,c=0,u){const h=ke(),p=Jt(),g=ql(p,22+a,16,null,u||null);null===g.projection&&(g.projection=c),v2(),64!=(64&g.flags)&&function qg(a,c,u){m6(c[11],0,c,u,Og(a,u,c),ei(u.parent||c[6],u,c))}(p,h,g)}function Rh(a,c,u,h,p,g,C){const w=ke(),D=vc(w,c,u,h,p,g);return D!==Wt&&Vs(Jt(),Bn(),w,a,D,w[11],C,!1),Rh}function Fh(a,c,u,h,p,g,C,w,D,T,L,F,Y,se,we){const Ue=ke(),Xe=function Qa(a,c,u,h,p,g,C,w,D,T,L,F,Y,se){const we=Es();let Ue=ma(a,we,u,p,C,D);return Ue=_c(a,we+4,L,Y)||Ue,$s(6),Ue?c+Ce(u)+h+Ce(p)+g+Ce(C)+w+Ce(D)+T+Ce(L)+F+Ce(Y)+se:Wt}(Ue,c,u,h,p,g,C,w,D,T,L,F,Y,se);return Xe!==Wt&&Vs(Jt(),Bn(),Ue,a,Xe,Ue[11],we,!1),Fh}function qM(a,c,u,h,p){const g=a[u+1],C=null===c;let w=h?eo(g):pa(g),D=!1;for(;0!==w&&(!1===D||C);){const L=a[w+1];X9(a[w],c)&&(D=!0,a[w+1]=h?h9(L):k5(L)),w=h?eo(L):pa(L)}D&&(a[u+1]=h?k5(g):h9(g))}function X9(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&Eo(a,c)>=0}function Bi(a,c,u){return Ui(a,c,u,!1),Bi}function t_(a,c){return Ui(a,c,null,!0),t_}function Ui(a,c,u,h){const p=ke(),g=Jt(),C=$s(2);g.firstUpdatePass&&function Xa(a,c,u,h){const p=a.data;if(null===p[u+1]){const g=p[Ai()],C=function n_(a,c){return c>=a.expandoStartIndex}(a,u);(function Cr(a,c){return 0!=(a.flags&(c?16:32))})(g,h)&&null===c&&!C&&(c=!1),c=function Mt(a,c,u,h){const p=b2(a);let g=h?c.residualClasses:c.residualStyles;if(null===p)0===(h?c.classBindings:c.styleBindings)&&(u=J2(u=R4(null,a,c,u,h),c.attrs,h),g=null);else{const C=c.directiveStylingLast;if(-1===C||a[C]!==p)if(u=R4(p,a,c,u,h),null===g){let D=function f7(a,c,u){const h=u?c.classBindings:c.styleBindings;if(0!==pa(h))return a[eo(h)]}(a,c,h);void 0!==D&&Array.isArray(D)&&(D=R4(null,a,c,D[1],h),D=J2(D,c.attrs,h),function Gt(a,c,u,h){a[eo(u?c.classBindings:c.styleBindings)]=h}(a,c,h,D))}else g=function Uh(a,c,u){let h;const p=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<p;g++)h=J2(h,a[g].hostAttrs,u);return J2(h,c.attrs,u)}(a,c,h)}return void 0!==g&&(h?c.residualClasses=g:c.residualStyles=g),u}(p,g,c,h),function uk(a,c,u,h,p,g){let C=g?c.classBindings:c.styleBindings,w=eo(C),D=pa(C);a[h]=u;let L,T=!1;if(Array.isArray(u)){const F=u;L=F[1],(null===L||Eo(F,L)>0)&&(T=!0)}else L=u;if(p)if(0!==D){const Y=eo(a[w+1]);a[h+1]=C6(Y,w),0!==Y&&(a[Y+1]=V5(a[Y+1],h)),a[w+1]=function d9(a,c){return 131071&a|c<<17}(a[w+1],h)}else a[h+1]=C6(w,0),0!==w&&(a[w+1]=V5(a[w+1],h)),w=h;else a[h+1]=C6(D,0),0===w?w=h:a[D+1]=V5(a[D+1],h),D=h;T&&(a[h+1]=k5(a[h+1])),qM(a,L,h,!0),qM(a,L,h,!1),function dk(a,c,u,h,p){const g=p?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof c&&Eo(g,c)>=0&&(u[h+1]=h9(u[h+1]))}(c,L,a,h,g),C=C6(w,D),g?c.classBindings=C:c.styleBindings=C}(p,g,c,u,C,h)}}(g,a,C,h),c!==Wt&&Yr(p,C,c)&&function i_(a,c,u,h,p,g,C,w){if(!(3&c.type))return;const D=a.data,T=D[w+1];or(function mM(a){return 1==(1&a)}(T)?r_(D,c,u,p,pa(T),C):void 0)||(or(g)||function lh(a){return 2==(2&a)}(T)&&(g=r_(D,null,u,p,w,C)),function $g(a,c,u,h,p){if(c)p?a.addClass(u,h):a.removeClass(u,h);else{let g=-1===h.indexOf("-")?void 0:$a.DashCase;null==p?a.removeStyle(u,h,g):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),g|=$a.Important),a.setStyle(u,h,p,g))}}(h,C,Fr(Ai(),u),p,g))}(g,g.data[Ai()],p,p[11],a,p[C+1]=function Gh(a,c){return null==a||("string"==typeof c?a+=c:"object"==typeof a&&(a=me(hs(a)))),a}(c,u),h,C)}function R4(a,c,u,h,p){let g=null;const C=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<C&&(g=c[w],h=J2(h,g.hostAttrs,p),g!==a);)w++;return null!==a&&(u.directiveStylingLast=w),h}function J2(a,c,u){const h=u?1:2;let p=-1;if(null!==c)for(let g=0;g<c.length;g++){const C=c[g];"number"==typeof C?p=C:p===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Je(a,C,!!u||c[++g]))}return void 0===a?null:a}function r_(a,c,u,h,p,g){const C=null===c;let w;for(;p>0;){const D=a[p],T=Array.isArray(D),L=T?D[1]:D,F=null===L;let Y=u[p+1];Y===Wt&&(Y=F?zt:void 0);let se=F?z2(Y,h):L===h?Y:void 0;if(T&&!or(se)&&(se=z2(D,h)),or(se)&&(w=se,C))return w;const we=a[p+1];p=C?eo(we):pa(we)}if(null!==c){let D=g?c.residualClasses:c.residualStyles;null!=D&&(w=z2(D,h))}return w}function or(a){return void 0!==a}function e1(a,c=""){const u=ke(),h=Jt(),p=a+22,g=h.firstCreatePass?ql(h,p,1,c,null):h.data[p],C=u[p]=function m5(a,c){return a.createText(c)}(u[11],c);nh(h,u,C,g),Br(g,!1)}function p7(a){return O6("",a,""),p7}function O6(a,c,u){const h=ke(),p=function L4(a,c,u,h){return Yr(a,Zo(),u)?c+Ce(u)+h:Wt}(h,a,c,u);return p!==Wt&&Ka(h,Ai(),p),O6}function R6(a,c,u,h,p){const g=ke(),C=vc(g,a,c,u,h,p);return C!==Wt&&Ka(g,Ai(),C),R6}function br(a,c,u,h,p,g,C,w,D){const T=ke(),L=function Xl(a,c,u,h,p,g,C,w,D,T){const F=ma(a,Es(),u,p,C,D);return $s(4),F?c+Ce(u)+h+Ce(p)+g+Ce(C)+w+Ce(D)+T:Wt}(T,a,c,u,h,p,g,C,w,D);return L!==Wt&&Ka(T,Ai(),L),br}function Zh(a,c,u){const h=ke();return Yr(h,Zo(),c)&&Vs(Jt(),Bn(),h,a,c,h[11],u,!0),Zh}function Yh(a,c,u){const h=ke();if(Yr(h,Zo(),c)){const g=Jt(),C=Bn();Vs(g,C,h,a,c,Z5(b2(g.data),C,h),u,!0)}return Yh}const e2=void 0;var D7=["en",[["a","p"],["AM","PM"],e2],[["AM","PM"],e2,e2],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],e2,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],e2,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",e2,"{1} 'at' {0}",e2],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function S7(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Cc={};function Kh(a){const c=function g_(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=x7(c);if(u)return u;const h=c.split("-")[0];if(u=x7(h),u)return u;if("en"===h)return D7;throw new xe(701,!1)}function m_(a){return Kh(a)[It.PluralCase]}function x7(a){return a in Cc||(Cc[a]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[a]),Cc[a]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const bc="en-US";let v_=bc;function cf(a,c,u,h,p){if(a=ee(a),Array.isArray(a))for(let g=0;g<a.length;g++)cf(a[g],c,u,h,p);else{const g=Jt(),C=ke();let w=fs(a)?a:ee(a.provide),D=Fl(a);const T=Kn(),L=1048575&T.providerIndexes,F=T.directiveStart,Y=T.providerIndexes>>20;if(fs(a)||!a.multi){const se=new Mo(D,p,y6),we=Ac(w,c,p?L:L+Y,F);-1===we?(wo(ta(T,C),g,w),lf(g,a,c.length),c.push(w),T.directiveStart++,T.directiveEnd++,p&&(T.providerIndexes+=1048576),u.push(se),C.push(se)):(u[we]=se,C[we]=se)}else{const se=Ac(w,c,L+Y,F),we=Ac(w,c,L,L+Y),Ue=se>=0&&u[se],Xe=we>=0&&u[we];if(p&&!Xe||!p&&!Ue){wo(ta(T,C),g,w);const pt=function yw(a,c,u,h,p){const g=new Mo(a,u,y6);return g.multi=[],g.index=c,g.componentProviders=0,q7(g,p,h&&!u),g}(p?vw:_w,u.length,p,h,D);!p&&Xe&&(u[we].providerFactory=pt),lf(g,a,c.length,0),c.push(w),T.directiveStart++,T.directiveEnd++,p&&(T.providerIndexes+=1048576),u.push(pt),C.push(pt)}else lf(g,a,se>-1?se:we,q7(u[p?we:se],D,!p&&h));!p&&h&&Xe&&u[we].componentProviders++}}}function lf(a,c,u,h){const p=fs(c),g=function R0(a){return!!a.useClass}(c);if(p||g){const D=(g?ee(c.useClass):c).prototype.ngOnDestroy;if(D){const T=a.destroyHooks||(a.destroyHooks=[]);if(!p&&c.multi){const L=T.indexOf(u);-1===L?T.push(u,[h,D]):T[L+1].push(h,D)}else T.push(u,D)}}}function q7(a,c,u){return u&&a.componentProviders++,a.multi.push(c)-1}function Ac(a,c,u,h){for(let p=u;p<h;p++)if(c[p]===a)return p;return-1}function _w(a,c,u,h){return uf(this.multi,[])}function vw(a,c,u,h){const p=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,w=Ws(u,u[1],this.providerFactory.index,h);g=w.slice(0,C),uf(p,g);for(let D=C;D<w.length;D++)g.push(w[D])}else g=[],uf(p,g);return g}function uf(a,c){for(let u=0;u<a.length;u++)c.push((0,a[u])());return c}function $7(a,c=[]){return u=>{u.providersResolver=(h,p)=>function Ec(a,c,u){const h=Jt();if(h.firstCreatePass){const p=rr(a);cf(u,h.data,h.blueprint,p,!0),cf(c,h.data,h.blueprint,p,!1)}}(h,p?p(a):a,c)}}class Jl{}class df{}function W7(a,c){return new Z7(a,c??null)}class Z7 extends Jl{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eh(this);const h=kn(c);this._bootstrapComponents=Z2(h.bootstrap),this._r3Injector=t9(c,u,[{provide:Jl,useValue:this},{provide:q2,useValue:this.componentFactoryResolver}],me(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class ed extends df{constructor(c){super(),this.moduleType=c}create(c){return new Z7(this.moduleType,c)}}class bw extends Jl{constructor(c,u,h){super(),this.componentFactoryResolver=new Eh(this),this.instance=null;const p=new m4([...c,{provide:Jl,useValue:this},{provide:q2,useValue:this.componentFactoryResolver}],u||p4(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Y7(a,c,u=null){return new bw(a,c,u).injector}let Mw=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=d4(0,u.type),p=h.length>0?Y7([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,p)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=pn({token:a,providedIn:"environment",factory:()=>new a(nn(sr))}),a})();function td(a){a.getStandaloneInjector=c=>c.get(Mw).getOrCreateStandaloneInjector(a)}function X7(a,c,u){const h=Qn()+a,p=ke();return p[h]===Wt?yr(p,h,u?c.call(u):c()):Vh(p,h)}function J7(a,c,u,h){return function Q4(a,c,u,h,p,g){const C=c+u;return Yr(a,C,p)?yr(a,C+1,g?h.call(g,p):h(p)):K4(a,C+1)}(ke(),Qn(),a,c,u,h)}function ff(a,c,u,h,p){return function tp(a,c,u,h,p,g,C){const w=c+u;return _c(a,w,p,g)?yr(a,w+2,C?h.call(C,p,g):h(p,g)):K4(a,w+2)}(ke(),Qn(),a,c,u,h,p)}function Y4(a,c,u,h,p,g){return function np(a,c,u,h,p,g,C,w){const D=c+u;return function X5(a,c,u,h,p){const g=_c(a,c,u,h);return Yr(a,c+2,p)||g}(a,D,p,g,C)?yr(a,D+3,w?h.call(w,p,g,C):h(p,g,C)):K4(a,D+3)}(ke(),Qn(),a,c,u,h,p,g)}function ep(a,c,u,h,p,g,C){return function _f(a,c,u,h,p,g,C,w,D){const T=c+u;return ma(a,T,p,g,C,w)?yr(a,T+4,D?h.call(D,p,g,C,w):h(p,g,C,w)):K4(a,T+4)}(ke(),Qn(),a,c,u,h,p,g,C)}function pf(a,c,u,h,p,g,C,w){const D=Qn()+a,T=ke(),L=ma(T,D,u,h,p,g);return Yr(T,D+4,C)||L?yr(T,D+5,w?c.call(w,u,h,p,g,C):c(u,h,p,g,C)):Vh(T,D+5)}function G_(a,c,u,h){return function vf(a,c,u,h,p,g){let C=c+u,w=!1;for(let D=0;D<p.length;D++)Yr(a,C++,p[D])&&(w=!0);return w?yr(a,C,h.apply(g,p)):K4(a,C)}(ke(),Qn(),a,c,u,h)}function K4(a,c){const u=a[c];return u===Wt?void 0:u}function gs(a){return c=>{setTimeout(a,void 0,c)}}const _a=class Cf extends o.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,h){let p=c,g=u||(()=>null),C=h;if(c&&"object"==typeof c){const D=c;p=D.next?.bind(D),g=D.error?.bind(D),C=D.complete?.bind(D)}this.__isAsync&&(g=gs(g),p&&(p=gs(p)),C&&(C=gs(C)));const w=super.subscribe({next:p,error:g,complete:C});return c instanceof ie.w0&&c.add(w),w}};function K_(){return this._results[Ql()]()}class s1{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ql(),h=s1.prototype;h[u]||(h[u]=K_)}get changes(){return this._changes||(this._changes=new _a)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const h=this;h.dirty=!1;const p=Vn(c);(this._changesDetected=!function Et(a,c,u){if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++){let p=a[h],g=c[h];if(u&&(p=u(p),g=u(g)),g!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let rd=(()=>{class a{}return a.__NG_ELEMENT_ID__=Ew,a})();const xw=rd,ip=class extends xw{constructor(c,u,h){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(c,u){const h=this._declarationTContainer.tViews,p=M6(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,u||null);p[17]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[19];return null!==C&&(p[19]=C.createEmbeddedView(h)),fh(h,p,c),new xh(p)}};function Ew(){return bf(Kn(),ke())}function bf(a,c){return 4&a.type?new ip(c,a,y(a,c)):null}let sd=(()=>{class a{}return a.__NG_ELEMENT_ID__=Aw,a})();function Aw(){return n3(Kn(),ke())}const Mf=sd,Q_=class extends Mf{constructor(c,u,h){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=h}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new ia(this._hostTNode,this._hostLView)}get parentInjector(){const c=W1(this._hostTNode,this._hostLView);if(K3(c)){const u=D2(c,this._hostLView),h=Pi(c);return new ia(u[1].data[h+8],u)}return new ia(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=rp(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,h){let p,g;"number"==typeof h?p=h:null!=h&&(p=h.index,g=h.injector);const C=c.createEmbeddedView(u||{},g);return this.insert(C,p),C}createComponent(c,u,h,p,g){const C=c&&!function Ur(a){return"function"==typeof a}(c);let w;if(C)w=u;else{const F=u||{};w=F.index,h=F.injector,p=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const D=C?c:new mc(ne(c)),T=h||this.parentInjector;if(!g&&null==D.ngModule){const Y=(C?T:this.parentInjector).get(sr,null);Y&&(g=Y)}const L=D.create(T,p,void 0,g);return this.insert(L.hostView,w),L}insert(c,u){const h=c._lView,p=h[1];if(function E1(a){return fr(a[3])}(h)){const L=this.indexOf(c);if(-1!==L)this.detach(L);else{const F=h[3],Y=new Q_(F,F[6],F[3]);Y.detach(Y.indexOf(c))}}const g=this._adjustIndex(u),C=this._lContainer;!function Zb(a,c,u,h){const p=10+h,g=u.length;h>0&&(u[p-1][4]=c),h<g-10?(c[4]=u[p],L2(u,10+h,c)):(u.push(c),c[4]=null),c[3]=u;const C=c[17];null!==C&&u!==C&&function Yb(a,c){const u=a[9];c[16]!==c[3][3][16]&&(a[2]=!0),null===u?a[9]=[c]:u.push(c)}(C,c);const w=c[19];null!==w&&w.insertView(a),c[2]|=64}(p,h,C,g);const w=Gg(g,C),D=h[11],T=eh(D,C[7]);return null!==T&&function zg(a,c,u,h,p,g){h[0]=p,h[6]=c,Ul(a,h,u,1,p,g)}(p,C[6],D,h,T,w),c.attachToViewContainerRef(),L2(Ji(C),g,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=rp(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),h=_5(this._lContainer,u);h&&(gn(Ji(this._lContainer),u),p6(h[1],h))}detach(c){const u=this._adjustIndex(c,-1),h=_5(this._lContainer,u);return h&&null!=gn(Ji(this._lContainer),u)?new xh(h):null}_adjustIndex(c,u=0){return c??this.length+u}};function rp(a){return a[8]}function Ji(a){return a[8]||(a[8]=[])}function n3(a,c){let u;const h=c[a.index];if(fr(h))u=h;else{let p;if(8&a.type)p=Yn(h);else{const g=c[11];p=g.createComment("");const C=pr(a,c);Wa(g,eh(g,C),p,function Ug(a,c){return a.nextSibling(c)}(g,C),!1)}c[a.index]=u=TM(h,c,p,a),k4(c,u)}return new Q_(u,a,c)}class Re{constructor(c){this.queryList=c,this.matches=null}clone(){return new Re(this.queryList)}setDirty(){this.queryList.setDirty()}}class mi{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const h=null!==c.contentQueries?c.contentQueries[0]:u.length,p=[];for(let g=0;g<h;g++){const C=u.getByIndex(g);p.push(this.queries[C.indexInDeclarationView].clone())}return new mi(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==Vw(c,u).matches&&this.queries[u].setDirty()}}class Ic{constructor(c,u,h=null){this.predicate=c,this.flags=u,this.read=h}}class od{constructor(c=[]){this.queries=c}elementStart(c,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(c,p);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new od(u):null}template(c,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class at{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new at(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const g=h[p];this.matchTNodeWithReadOption(c,u,yt(u,g)),this.matchTNodeWithReadOption(c,u,Ha(u,c,g,!1,!1))}else h===rd?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Ha(u,c,h,!1,!1))}matchTNodeWithReadOption(c,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===m||p===sd||p===rd&&4&u.type)this.addMatch(u.index,-2);else{const g=Ha(u,c,p,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function yt(a,c){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===c)return u[h+1];return null}function et(a,c,u,h){return-1===u?function Tw(a,c){return 11&a.type?y(a,c):4&a.type?bf(a,c):null}(c,a):-2===u?function fe(a,c,u){return u===m?y(c,a):u===rd?bf(c,a):u===sd?n3(c,a):void 0}(a,c,h):Ws(a,a[1],u,c)}function ze(a,c,u,h){const p=c[19].queries[h];if(null===p.matches){const g=a.data,C=u.matches,w=[];for(let D=0;D<C.length;D+=2){const T=C[D];w.push(T<0?null:et(c,g[T],C[D+1],u.metadata.read))}p.matches=w}return p.matches}function Gi(a,c,u,h){const p=a.queries.getByIndex(u),g=p.matches;if(null!==g){const C=ze(a,c,p,u);for(let w=0;w<g.length;w+=2){const D=g[w];if(D>0)h.push(C[w/2]);else{const T=g[w+1],L=c[-D];for(let F=10;F<L.length;F++){const Y=L[F];Y[17]===Y[3]&&Gi(Y[1],Y,T,h)}if(null!==L[9]){const F=L[9];for(let Y=0;Y<F.length;Y++){const se=F[Y];Gi(se[1],se,T,h)}}}}}return h}function op(a){const c=ke(),u=Jt(),h=gl();M2(h+1);const p=Vw(u,h);if(a.dirty&&function x1(a){return 4==(4&a[2])}(c)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const g=p.crossesNgTemplate?Gi(u,c,h,[]):ze(u,c,p,h);a.reset(g,_),a.notifyOnChanges()}return!0}return!1}function X_(a,c,u){const h=Jt();h.firstCreatePass&&(ap(h,new Ic(a,c,u),-1),2==(2&c)&&(h.staticViewQueries=!0)),tv(h,ke(),c)}function J_(a,c,u,h){const p=Jt();if(p.firstCreatePass){const g=Kn();ap(p,new Ic(c,u,h),g.index),function kw(a,c){const u=a.contentQueries||(a.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,c)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}tv(p,ke(),u)}function ev(){return function Iw(a,c){return a[19].queries[c].queryList}(ke(),gl())}function tv(a,c,u){const h=new s1(4==(4&u));_h(a,c,h,h.destroy),null===c[19]&&(c[19]=new mi),c[19].queries.push(new Re(h))}function ap(a,c,u){null===a.queries&&(a.queries=new od),a.queries.track(new at(c,u))}function Vw(a,c){return a.queries.getByIndex(c)}function Hc(...a){}const fp=new zn("Application Initializer");let c1=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Hc,this.reject=Hc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(Ph(g))u.push(g);else if(UM(g)){const C=new Promise((w,D)=>{g.subscribe({complete:w,error:D})});u.push(C)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(nn(fp,8))},a.\u0275prov=pn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Af=new zn("AppId",{providedIn:"root",factory:function zc(){return`${u3()}${u3()}${u3()}`}});function u3(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pp=new zn("Platform Initializer"),fv=new zn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dd=new zn("appBootstrapListener"),pv=new zn("AnimationModuleType");let Rw=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=pn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const hd=new zn("LocaleId",{providedIn:"root",factory:()=>x(hd,it.Optional|it.SkipSelf)||function Fw(){return typeof $localize<"u"&&$localize.locale||bc}()}),mv=new zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class gv{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let dn=(()=>{class a{compileModuleSync(u){return new ed(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),g=Z2(kn(u).declarations).reduce((C,w)=>{const D=ne(w);return D&&C.push(new mc(D)),C},[]);return new gv(h,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=pn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const _v=(()=>Promise.resolve(0))();function If(a){typeof Zone>"u"?_v.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ho{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _a(!1),this.onMicrotaskEmpty=new _a(!1),this.onStable=new _a(!1),this.onError=new _a(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Gw(){let a=bn.requestAnimationFrame,c=bn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function vv(a){const c=()=>{!function $w(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(bn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,vp(a),a.isCheckStableRunning=!0,kf(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),vp(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,g,C,w)=>{try{return yv(a),u.invokeTask(p,g,C,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&c(),h3(a)}},onInvoke:(u,h,p,g,C,w,D)=>{try{return yv(a),u.invoke(p,g,C,w,D)}finally{a.shouldCoalesceRunChangeDetection&&c(),h3(a)}},onHasTask:(u,h,p,g)=>{u.hasTask(p,g),h===p&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,vp(a),kf(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,p,g)=>(u.handleError(p,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ho.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Ho.isInAngularZone())throw new xe(909,!1)}run(c,u,h){return this._inner.run(c,u,h)}runTask(c,u,h,p){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+p,c,qw,Hc,Hc);try{return g.runTask(C,u,h)}finally{g.cancelTask(C)}}runGuarded(c,u,h){return this._inner.runGuarded(c,u,h)}runOutsideAngular(c){return this._outer.run(c)}}const qw={};function kf(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function vp(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function yv(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function h3(a){a._nesting--,kf(a)}class Ww{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _a,this.onMicrotaskEmpty=new _a,this.onStable=new _a,this.onError=new _a}run(c,u,h){return c.apply(u,h)}runGuarded(c,u,h){return c.apply(u,h)}runOutsideAngular(c){return c()}runTask(c,u,h,p){return c.apply(u,h)}}const vi=new zn(""),pd=new zn("");let Nc,zr=(()=>{class a{constructor(u,h,p){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nc||(function Cv(a){Nc=a}(p),p.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ho.assertNotInAngularZone(),If(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())If(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(nn(Ho),nn(On),nn(pd))},a.\u0275prov=pn({token:a,factory:a.\u0275fac}),a})(),On=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Nc?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=pn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),er=null;const Mr=new zn("AllowMultipleToken"),Vf=new zn("PlatformDestroyListeners");class md{constructor(c,u){this.name=c,this.token=u}}function t2(a,c,u=[]){const h=`Platform: ${c}`,p=new zn(h);return(g=[])=>{let C=gd();if(!C||C.injector.get(Mr,!1)){const w=[...u,...g,{provide:p,useValue:!0}];a?a(w):function Lf(a){if(er&&!er.get(Mr,!1))throw new xe(400,!1);er=a;const c=a.get(_d);(function yp(a){const c=a.get(pp,null);c&&c.forEach(u=>u())})(a)}(function p3(a=[],c){return Gl.create({name:c,providers:[{provide:oc,useValue:"platform"},{provide:Vf,useValue:new Set([()=>er=null])},...a]})}(w,h))}return function Mv(a){const c=gd();if(!c)throw new xe(401,!1);return c}()}}function gd(){return er?.get(_d)??null}let _d=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const p=function Pc(a,c){let u;return u="noop"===a?new Ww:("zone.js"===a?void 0:a)||new Ho(c),u}(h?.ngZone,function zf(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:Ho,useValue:p}];return p.run(()=>{const C=Gl.create({providers:g,parent:this.injector,name:u.moduleType.name}),w=u.create(C),D=w.injector.get(h6,null);if(!D)throw new xe(402,!1);return p.runOutsideAngular(()=>{const T=p.onError.subscribe({next:L=>{D.handleError(L)}});w.onDestroy(()=>{Oc(this._modules,w),T.unsubscribe()})}),function Qr(a,c,u){try{const h=u();return Ph(h)?h.catch(p=>{throw c.runOutsideAngular(()=>a.handleError(p)),p}):h}catch(h){throw c.runOutsideAngular(()=>a.handleError(h)),h}}(D,p,()=>{const T=w.injector.get(c1);return T.runInitializers(),T.donePromise.then(()=>(function y_(a){Kt(a,"Expected localeId to be defined"),"string"==typeof a&&(v_=a.toLowerCase().replace(/_/g,"-"))}(w.injector.get(hd,bc)||bc),this._moduleDoBootstrap(w),w))})})}bootstrapModule(u,h=[]){const p=Nf({},h);return function Zw(a,c,u){const h=new ed(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(u){const h=u.injector.get(m3);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new xe(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Vf,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(nn(Gl))},a.\u0275prov=pn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Nf(a,c){return Array.isArray(c)?c.reduce(Nf,a):{...a,...c}}let m3=(()=>{class a{constructor(u,h,p){this._zone=u,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),C=new O.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Ho.assertNotInAngularZone(),If(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Ho.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,de.T)(g,C.pipe((0,ue.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const p=u instanceof g4;if(!this._injector.get(c1).done)throw!p&&un(u),new xe(405,false);let C;C=p?u:this._injector.get(q2).resolveComponentFactory(u),this.componentTypes.push(C.componentType);const w=function f3(a){return a.isBoundToModule}(C)?void 0:this._injector.get(Jl),T=C.create(Gl.NULL,[],h||C.selector,w),L=T.location.nativeElement,F=T.injector.get(vi,null);return F?.registerApplication(L),T.onDestroy(()=>{this.detachView(T.hostView),Oc(this.components,T),F?.unregisterApplication(L)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Oc(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(dd,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Oc(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new xe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(nn(Ho),nn(sr),nn(h6))},a.\u0275prov=pn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Oc(a,c){const u=a.indexOf(c);u>-1&&a.splice(u,1)}let Pf=!0,Mp=!1;function wv(){return Mp=!0,Pf}function Qw(){if(Mp)throw new Error("Cannot enable prod mode after platform setup.");Pf=!1}let Of=(()=>{class a{}return a.__NG_ELEMENT_ID__=eS,a})();function eS(a){return function tS(a,c,u){if(Go(a)&&!u){const h=sn(a.index,c);return new xh(h,h)}return 47&a.type?new xh(c[16],c):null}(Kn(),ke(),16==(16&a))}class Dp{constructor(){}supports(c){return A6(c)}create(c){return new Tv(c)}}const Av=(a,c)=>c;class Tv{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||Av}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,h=this._removalsHead,p=0,g=null;for(;u||h;){const C=!h||u&&u.currentIndex<qi(h,p,g)?u:h,w=qi(C,p,g),D=C.currentIndex;if(C===h)p--,h=h._nextRemoved;else if(u=u._next,null==C.previousIndex)p++;else{g||(g=[]);const T=w-p,L=D-p;if(T!=L){for(let Y=0;Y<T;Y++){const se=Y<g.length?g[Y]:g[Y]=0,we=se+Y;L<=we&&we<T&&(g[Y]=se+1)}g[C.previousIndex]=L-T}}w!==D&&c(C,w,D)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!A6(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,g,C,u=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let w=0;w<this.length;w++)g=c[w],C=this._trackByFn(w,g),null!==u&&Object.is(u.trackById,C)?(h&&(u=this._verifyReinsertion(u,g,C,w)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,C,w),h=!0),u=u._next}else p=0,function gc(a,c){if(Array.isArray(a))for(let u=0;u<a.length;u++)c(a[u]);else{const u=a[Ql()]();let h;for(;!(h=u.next()).done;)c(h.value)}}(c,w=>{C=this._trackByFn(p,w),null!==u&&Object.is(u.trackById,C)?(h&&(u=this._verifyReinsertion(u,w,C,p)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,C,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,h,p){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,g,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,g,p)):c=this._addAfter(new uu(u,h),g,p),c}_verifyReinsertion(c,u,h,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?c=this._reinsertAfter(g,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,g=c._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(c,u,h),this._addToMoves(c,h),c}_moveAfter(c,u,h){return this._unlink(c),this._insertAfter(c,u,h),this._addToMoves(c,h),c}_addAfter(c,u,h){return this._insertAfter(c,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,h){const p=null===u?this._itHead:u._next;return c._next=p,c._prev=u,null===p?this._itTail=c:p._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new Iv),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,h=c._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Iv),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class uu{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xp{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const u=c._prevDup,h=c._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Iv{constructor(){this.map=new Map}put(c){const u=c.trackById;let h=this.map.get(u);h||(h=new xp,this.map.set(u,h)),h.add(c)}get(c,u){const p=this.map.get(c);return p?p.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qi(a,c,u){const h=a.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+c+p}class vn{constructor(){}supports(c){return c instanceof Map||kh(c)}create(){return new kv}}class kv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||kh(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const h=c._prev;return u._next=c,u._prev=h,c._prev=u,h&&(h._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,u);const g=p._prev,C=p._next;return g&&(g._next=C),C&&(C._prev=g),p._next=null,p._prev=null,p}const h=new Vv(c);return this._records.set(c,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(h=>u(c[h],h))}}class Vv{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function u1(){return new Ep([new Dp])}let Ep=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||u1()),deps:[[a,new ft,new Le]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new xe(901,!1)}}return a.\u0275prov=pn({token:a,providedIn:"root",factory:u1}),a})();function Ap(){return new _3([new vn])}let _3=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||Ap()),deps:[[a,new ft,new Le]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new xe(901,!1)}}return a.\u0275prov=pn({token:a,providedIn:"root",factory:Ap}),a})();const oS=t2(null,"core",[]);let aS=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(nn(m3))},a.\u0275mod=Zt({type:a}),a.\u0275inj=jt({}),a})();function Qt(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(_t,Ie,R)=>{R.d(Ie,{Z:()=>xe});var o=R(2090),ie=R(4859),O=R(9681),de=R(1877);class ue{constructor(Ce,ve){this._delegate=Ce,this.firebase=ve,(0,O._addComponent)(Ce,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ce,ve=O._DEFAULT_ENTRY_NAME){var ct;this._delegate.checkDestroyed();const gt=this._delegate.container.getProvider(Ce);return!gt.isInitialized()&&"EXPLICIT"===(null===(ct=gt.getComponent())||void 0===ct?void 0:ct.instantiationMode)&&gt.initialize(),gt.getImmediate({identifier:ve})}_removeServiceInstance(Ce,ve=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(ve)}_addComponent(Ce){(0,O._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,O._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ge(){const dt=function me(dt){const Ce={},ve={__esModule:!0,initializeApp:function He(Ze,G={}){const ye=O.initializeApp(Ze,G);if((0,o.r3)(Ce,ye.name))return Ce[ye.name];const Q=new dt(ye,ve);return Ce[ye.name]=Q,Q},app:gt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Ze){const G=Ze.name,ye=G.replace("-compat","");if(O._registerComponent(Ze)&&"PUBLIC"===Ze.type){const Q=(re=gt())=>{if("function"!=typeof re[ye])throw ae.create("invalid-app-argument",{appName:G});return re[ye]()};void 0!==Ze.serviceProps&&(0,o.ZB)(Q,Ze.serviceProps),ve[ye]=Q,dt.prototype[ye]=function(...re){return this._getService.bind(this,G).apply(this,Ze.multipleInstances?re:[])}}return"PUBLIC"===Ze.type?ve[ye]:null},removeApp:function ct(Ze){delete Ce[Ze]},useAsService:function We(Ze,G){return"serverAuth"===G?null:G},modularAPIs:O}};function gt(Ze){if(!(0,o.r3)(Ce,Ze=Ze||O._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:Ze});return Ce[Ze]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function Me(){return Object.keys(Ce).map(Ze=>Ce[Ze])}}),gt.App=dt,ve}(ue);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function Ce(ve){(0,o.ZB)(dt,ve)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),dt}(),W=new de.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=q;!function Ne(dt){(0,O.registerVersion)("@firebase/app-compat","0.2.0",dt)}()},9681:(_t,Ie,R)=>{R.r(Ie),R.d(Ie,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>fo,_DEFAULT_ENTRY_NAME:()=>Kt,_addComponent:()=>ln,_addOrOverwriteComponent:()=>pn,_apps:()=>Dn,_clearComponents:()=>Os,_components:()=>Rn,_getProvider:()=>jt,_registerComponent:()=>lr,_removeServiceInstance:()=>xn,deleteApp:()=>xa,getApp:()=>Sr,getApps:()=>Pr,initializeApp:()=>ss,onLog:()=>po,registerVersion:()=>ir,setLogLevel:()=>Si});var o=R(5861),ie=R(4859),O=R(1877),de=R(2090),ue=R(8766);class pe{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(lt=>{if(function ae(ut){return"VERSION"===ut.getComponent()?.type}(lt)){const Nt=lt.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(lt=>lt).join(" ")}}const me="@firebase/app",q=new O.Yd("@firebase/app"),Kt="[DEFAULT]",tt={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dn=new Map,Rn=new Map;function ln(ut,Te){try{ut.container.addComponent(Te)}catch(lt){q.debug(`Component ${Te.name} failed to register with FirebaseApp ${ut.name}`,lt)}}function pn(ut,Te){ut.container.addOrOverwriteComponent(Te)}function lr(ut){const Te=ut.name;if(Rn.has(Te))return q.debug(`There were multiple attempts to register component ${Te}.`),!1;Rn.set(Te,ut);for(const lt of Dn.values())ln(lt,ut);return!0}function jt(ut,Te){const lt=ut.container.getProvider("heartbeat").getImmediate({optional:!0});return lt&&lt.triggerHeartbeat(),ut.container.getProvider(Te)}function xn(ut,Te,lt=Kt){jt(ut,Te).clearInstance(lt)}function Os(){Rn.clear()}const ur=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dr{constructor(Te,lt,Nt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},lt),this._name=lt.name,this._automaticDataCollectionEnabled=lt.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const fo="9.15.0";function ss(ut,Te={}){let lt=ut;"object"!=typeof Te&&(Te={name:Te});const Nt=Object.assign({name:Kt,automaticDataCollectionEnabled:!1},Te),Rt=Nt.name;if("string"!=typeof Rt||!Rt)throw ur.create("bad-app-name",{appName:String(Rt)});if(lt||(lt=(0,de.aH)()),!lt)throw ur.create("no-options");const Zt=Dn.get(Rt);if(Zt){if((0,de.vZ)(lt,Zt.options)&&(0,de.vZ)(Nt,Zt.config))return Zt;throw ur.create("duplicate-app",{appName:Rt})}const $=new ie.H0(Rt);for(const X of Rn.values())$.addComponent(X);const U=new dr(lt,Nt,$);return Dn.set(Rt,U),U}function Sr(ut=Kt){const Te=Dn.get(ut);if(!Te&&ut===Kt)return ss();if(!Te)throw ur.create("no-app",{appName:ut});return Te}function Pr(){return Array.from(Dn.values())}function xa(ut){return it.apply(this,arguments)}function it(){return(it=(0,o.Z)(function*(ut){const Te=ut.name;Dn.has(Te)&&(Dn.delete(Te),yield Promise.all(ut.container.getProviders().map(lt=>lt.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function ir(ut,Te,lt){var Nt;let Rt=null!==(Nt=tt[ut])&&void 0!==Nt?Nt:ut;lt&&(Rt+=`-${lt}`);const Zt=Rt.match(/\s|\//),$=Te.match(/\s|\//);if(Zt||$){const U=[`Unable to register library "${Rt}" with version "${Te}":`];return Zt&&U.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),Zt&&$&&U.push("and"),$&&U.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void q.warn(U.join(" "))}lr(new ie.wA(`${Rt}-version`,()=>({library:Rt,version:Te}),"VERSION"))}function po(ut,Te){if(null!==ut&&"function"!=typeof ut)throw ur.create("invalid-log-argument");(0,O.Am)(ut,Te)}function Si(ut){(0,O.Ub)(ut)}const Zn="firebase-heartbeat-store";let di=null;function Hn(){return di||(di=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(ut,Te)=>{0===Te&&ut.createObjectStore(Zn)}}).catch(ut=>{throw ur.create("idb-open",{originalErrorMessage:ut.message})})),di}function vt(){return(vt=(0,o.Z)(function*(ut){try{return(yield Hn()).transaction(Zn).objectStore(Zn).get(ri(ut))}catch(Te){if(Te instanceof de.ZR)q.warn(Te.message);else{const lt=ur.create("idb-get",{originalErrorMessage:Te?.message});q.warn(lt.message)}}})).apply(this,arguments)}function bn(ut,Te){return Li.apply(this,arguments)}function Li(){return(Li=(0,o.Z)(function*(ut,Te){try{const Nt=(yield Hn()).transaction(Zn,"readwrite");return yield Nt.objectStore(Zn).put(Te,ri(ut)),Nt.done}catch(lt){if(lt instanceof de.ZR)q.warn(lt.message);else{const Nt=ur.create("idb-set",{originalErrorMessage:lt?.message});q.warn(Nt.message)}}})).apply(this,arguments)}function ri(ut){return`${ut.name}!${ut.options.appId}`}class Rs{constructor(Te){this.container=Te,this._heartbeatsCache=null;const lt=this.container.getProvider("app").getImmediate();this._storage=new yn(lt),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var Te=this;return(0,o.Z)(function*(){const Nt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=mn();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!Te._heartbeatsCache.heartbeats.some(Zt=>Zt.date===Rt))return Te._heartbeatsCache.heartbeats.push({date:Rt,agent:Nt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Zt=>{const $=new Date(Zt.date).valueOf();return Date.now()-$<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,o.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const lt=mn(),{heartbeatsToSend:Nt,unsentEntries:Rt}=function os(ut,Te=1024){const lt=[];let Nt=ut.slice();for(const Rt of ut){const Zt=lt.find($=>$.agent===Rt.agent);if(Zt){if(Zt.dates.push(Rt.date),Di(lt)>Te){Zt.dates.pop();break}}else if(lt.push({agent:Rt.agent,dates:[Rt.date]}),Di(lt)>Te){lt.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:lt,unsentEntries:Nt}}(Te._heartbeatsCache.heartbeats),Zt=(0,de.L)(JSON.stringify({version:2,heartbeats:Nt}));return Te._heartbeatsCache.lastSentHeartbeatDate=lt,Rt.length>0?(Te._heartbeatsCache.heartbeats=Rt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Zt})()}}function mn(){return(new Date).toISOString().substring(0,10)}class yn{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,o.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function xt(ut){return vt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var lt=this;return(0,o.Z)(function*(){var Nt;if(yield lt._canUseIndexedDBPromise){const Zt=yield lt.read();return bn(lt.app,{lastSentHeartbeatDate:null!==(Nt=Te.lastSentHeartbeatDate)&&void 0!==Nt?Nt:Zt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var lt=this;return(0,o.Z)(function*(){var Nt;if(yield lt._canUseIndexedDBPromise){const Zt=yield lt.read();return bn(lt.app,{lastSentHeartbeatDate:null!==(Nt=Te.lastSentHeartbeatDate)&&void 0!==Nt?Nt:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Te.heartbeats]})}})()}}function Di(ut){return(0,de.L)(JSON.stringify({version:2,heartbeats:ut})).length}!function hr(ut){lr(new ie.wA("platform-logger",Te=>new pe(Te),"PRIVATE")),lr(new ie.wA("heartbeat",Te=>new Rs(Te),"PRIVATE")),ir(me,"0.9.0",ut),ir(me,"0.9.0","esm2017"),ir("fire-js","")}("")},4859:(_t,Ie,R)=>{R.d(Ie,{H0:()=>me,wA:()=>O,zt:()=>ue});var o=R(5861),ie=R(2090);class O{constructor(q,W,ee){this.name=q,this.instanceFactory=W,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const de="[DEFAULT]";class ue{constructor(q,W){this.name=q,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const W=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(W)){const ee=new ie.BH;if(this.instancesDeferred.set(W,ee),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:W});Ge&&ee.resolve(Ge)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(q){var W;const ee=this.normalizeInstanceIdentifier(q?.identifier),Ge=null!==(W=q?.optional)&&void 0!==W&&W;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ne){if(Ge)return null;throw Ne}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ae(ge){return"EAGER"===ge.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[W,ee]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(W);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ge});ee.resolve(Ne)}catch{}}}}clearInstance(q=de){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,o.Z)(function*(){const W=Array.from(q.instances.values());yield Promise.all([...W.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...W.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=de){return this.instances.has(q)}getOptions(q=de){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:W={}}=q,ee=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ee,options:W});for(const[Ne,xe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ne)&&xe.resolve(Ge);return Ge}onInit(q,W){var ee;const Ge=this.normalizeInstanceIdentifier(W),Ne=null!==(ee=this.onInitCallbacks.get(Ge))&&void 0!==ee?ee:new Set;Ne.add(q),this.onInitCallbacks.set(Ge,Ne);const xe=this.instances.get(Ge);return xe&&q(xe,Ge),()=>{Ne.delete(q)}}invokeOnInitCallbacks(q,W){const ee=this.onInitCallbacks.get(W);if(ee)for(const Ge of ee)try{Ge(q,W)}catch{}}getOrInitializeService({instanceIdentifier:q,options:W={}}){let ee=this.instances.get(q);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=q,ge===de?void 0:ge),options:W}),this.instances.set(q,ee),this.instancesOptions.set(q,W),this.invokeOnInitCallbacks(ee,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ee)}catch{}var ge;return ee||null}normalizeInstanceIdentifier(q=de){return this.component?this.component.multipleInstances?q:de:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const W=this.getProvider(q.name);if(W.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);W.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const W=new ue(q,this);return this.providers.set(q,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,Ie,R)=>{R.d(Ie,{Am:()=>ge,Ub:()=>me,Yd:()=>ae,in:()=>ie});const o=[];var ie=(()=>{return(q=ie||(ie={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",ie;var q})();const O={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},de=ie.INFO,ue={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},pe=(q,W,...ee)=>{if(W<q.logLevel)return;const Ge=(new Date).toISOString(),Ne=ue[W];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ne](`[${Ge}]  ${q.name}:`,...ee)};class ae{constructor(W){this.name=W,this._logLevel=de,this._logHandler=pe,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in ie))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?O[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...W),this._logHandler(this,ie.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...W),this._logHandler(this,ie.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...W),this._logHandler(this,ie.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...W),this._logHandler(this,ie.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...W),this._logHandler(this,ie.ERROR,...W)}}function me(q){o.forEach(W=>{W.setLogLevel(q)})}function ge(q,W){for(const ee of o){let Ge=null;W&&W.level&&(Ge=O[W.level]),ee.userLogHandler=null===q?null:(Ne,xe,...dt)=>{const Ce=dt.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch{return null}}).filter(ve=>ve).join(" ");xe>=(Ge??Ne.logLevel)&&q({level:ie[xe].toLowerCase(),message:Ce,args:dt,type:Ne.name})}}}},259:(_t,Ie,R)=>{R.d(Ie,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=R(9681);(0,o.registerVersion)("firebase","9.15.0","app")},9260:(_t,Ie,R)=>{R.d(Ie,{Z:()=>o.Z});var o=R(3942);o.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(_t,Ie,R)=>{R.r(Ie);var o=R(5861),ie=R(3942),O=R(2090),de=R(9681),ue=R(1877),pe=R(655),ae=R(4859);const xe=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},dt=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ce=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ct=new ue.Yd("@firebase/auth");function gt(y,...m){ct.logLevel<=ue.in.ERROR&&ct.error(`Auth (${de.SDK_VERSION}): ${y}`,...m)}function He(y,...m){throw Ze(y,...m)}function Me(y,...m){return Ze(y,...m)}function Ee(y,m,_){const M=Object.assign(Object.assign({},dt()),{[m]:_});return new O.LL("auth","Firebase",M).create(m,{appName:y.name})}function We(y,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&He(y,"argument-error"),Ee(y,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(y,...m){if("string"!=typeof y){const _=m[0],M=[...m.slice(1)];return M[0]&&(M[0].appName=y.name),y._errorFactory.create(_,...M)}return Ce.create(y,...m)}function G(y,m,..._){if(!y)throw Ze(m,..._)}function ye(y){const m="INTERNAL ASSERTION FAILED: "+y;throw gt(m),new Error(m)}function Q(y,m){y||ye(m)}const re=new Map;function le(y){Q(y instanceof Function,"Expected a class definition");let m=re.get(y);return m?(Q(m instanceof y,"Instance stored in cache mismatched with class"),m):(m=new y,re.set(y,m),m)}function Fe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ct(){return"http:"===fn()||"https:"===fn()}function fn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Dn{constructor(m,_){this.shortDelay=m,this.longDelay=_,Q(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ct()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rn(y,m){Q(y.emulator,"Emulator should always be set here");const{url:_}=y.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class ln{static initialize(m,_,M){this.fetchImpl=m,_&&(this.headersImpl=_),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},lr=new Dn(3e4,6e4);function jt(y,m){return y.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:y.tenantId}):m}function xn(y,m,_,M){return Os.apply(this,arguments)}function Os(){return(Os=(0,o.Z)(function*(y,m,_,M,k={}){return rs(y,k,(0,o.Z)(function*(){let z={},K={};M&&("GET"===m?K=M:z={body:JSON.stringify(M)});const _e=(0,O.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),$e=yield y._getAdditionalHeaders();return $e["Content-Type"]="application/json",y.languageCode&&($e["X-Firebase-Locale"]=y.languageCode),ln.fetch()(ss(y,y.config.apiHost,_,_e),Object.assign({method:m,headers:$e,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function rs(y,m,_){return ur.apply(this,arguments)}function ur(){return(ur=(0,o.Z)(function*(y,m,_){y._canInitEmulator=!1;const M=Object.assign(Object.assign({},pn),m);try{const k=new Sr(y),z=yield Promise.race([_(),k.promise]);k.clearNetworkTimeout();const K=yield z.json();if("needConfirmation"in K)throw Pr(y,"account-exists-with-different-credential",K);if(z.ok&&!("errorMessage"in K))return K;{const _e=z.ok?K.errorMessage:K.error.message,[$e,st]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw Pr(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===$e)throw Pr(y,"email-already-in-use",K);if("USER_DISABLED"===$e)throw Pr(y,"user-disabled",K);const Tt=M[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Ee(y,Tt,st);He(y,Tt)}}catch(k){if(k instanceof O.ZR)throw k;He(y,"network-request-failed")}})).apply(this,arguments)}function dr(y,m,_,M){return fo.apply(this,arguments)}function fo(){return(fo=(0,o.Z)(function*(y,m,_,M,k={}){const z=yield xn(y,m,_,M,k);return"mfaPendingCredential"in z&&He(y,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function ss(y,m,_,M){const k=`${m}${_}?${M}`;return y.config.emulator?Rn(y.config,k):`${y.config.apiScheme}://${k}`}class Sr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,M)=>{this.timer=setTimeout(()=>M(Me(this.auth,"network-request-failed")),lr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pr(y,m,_){const M={appName:y.name};_.email&&(M.email=_.email),_.phoneNumber&&(M.phoneNumber=_.phoneNumber);const k=Me(y,m,M);return k.customData._tokenResponse=_,k}function it(){return(it=(0,o.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function ir(y,m){return po.apply(this,arguments)}function po(){return(po=(0,o.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Si(y,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,o.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function ws(y){if(y)try{const m=new Date(Number(y));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Hn(){return(Hn=(0,o.Z)(function*(y,m=!1){const _=(0,O.m9)(y),M=yield _.getIdToken(m),k=vt(M);G(k&&k.exp&&k.auth_time&&k.iat,_.auth,"internal-error");const z="object"==typeof k.firebase?k.firebase:void 0,K=z?.sign_in_provider;return{claims:k,token:M,authTime:ws(xt(k.auth_time)),issuedAtTime:ws(xt(k.iat)),expirationTime:ws(xt(k.exp)),signInProvider:K||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(y){return 1e3*Number(y)}function vt(y){const[m,_,M]=y.split(".");if(void 0===m||void 0===_||void 0===M)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,O.tV)(_);return k?JSON.parse(k):(gt("Failed to decode base64 JWT payload"),null)}catch(k){return gt("Caught error parsing JWT payload as JSON",k?.toString()),null}}function Li(y,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,o.Z)(function*(y,m,_=!1){if(_)return m;try{return yield m}catch(M){throw M instanceof O.ZR&&Dr(M)&&y.auth.currentUser===y&&(yield y.auth.signOut()),M}})).apply(this,arguments)}function Dr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class zt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const k=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const M=this.getInterval(m);this.timerId=setTimeout((0,o.Z)(function*(){yield _.iteration()}),M)}iteration(){var m=this;return(0,o.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class Rs{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ws(this.lastLoginAt),this.creationTime=ws(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mn(y){return os.apply(this,arguments)}function os(){return(os=(0,o.Z)(function*(y){var m;const _=y.auth,M=yield y.getIdToken(),k=yield Li(y,Si(_,{idToken:M}));G(k?.users.length,_,"internal-error");const z=k.users[0];y._notifyReloadListener(z);const K=null!==(m=z.providerUserInfo)&&void 0!==m&&m.length?ut(z.providerUserInfo):[],_e=hr(y.providerData,K),Tt=!!y.isAnonymous&&!(y.email&&z.passwordHash||_e?.length),St={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:_e,metadata:new Rs(z.createdAt,z.lastLoginAt),isAnonymous:Tt};Object.assign(y,St)})).apply(this,arguments)}function Di(){return(Di=(0,o.Z)(function*(y){const m=(0,O.m9)(y);yield mn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function hr(y,m){return[...y.filter(M=>!m.some(k=>k.providerId===M.providerId)),...m]}function ut(y){return y.map(m=>{var{providerId:_}=m,M=(0,pe._T)(m,["providerId"]);return{providerId:_,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function lt(){return(lt=(0,o.Z)(function*(y,m){const _=yield rs(y,{},(0,o.Z)(function*(){const M=(0,O.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:k,apiKey:z}=y.config,K=ss(y,k,"/v1/token",`key=${z}`),_e=yield y._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(K,{method:"POST",headers:_e,body:M})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){G(m.idToken,"internal-error"),G(typeof m.idToken<"u","internal-error"),G(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function bn(y){const m=vt(y);return G(m,"internal-error"),G(typeof m.exp<"u","internal-error"),G(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var M=this;return(0,o.Z)(function*(){return G(!M.accessToken||M.refreshToken,m,"user-token-expired"),_||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(m,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var M=this;return(0,o.Z)(function*(){const{accessToken:k,refreshToken:z,expiresIn:K}=yield function Te(y,m){return lt.apply(this,arguments)}(m,_);M.updateTokensAndExpiration(k,z,Number(K))})()}updateTokensAndExpiration(m,_,M){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(m,_){const{refreshToken:M,accessToken:k,expirationTime:z}=_,K=new Nt;return M&&(G("string"==typeof M,"internal-error",{appName:m}),K.refreshToken=M),k&&(G("string"==typeof k,"internal-error",{appName:m}),K.accessToken=k),z&&(G("number"==typeof z,"internal-error",{appName:m}),K.expirationTime=z),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Rt(y,m){G("string"==typeof y||typeof y>"u","internal-error",{appName:m})}class Zt{constructor(m){var{uid:_,auth:M,stsTokenManager:k}=m,z=(0,pe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=M,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new Rs(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,o.Z)(function*(){const M=yield Li(_,_.stsTokenManager.getToken(_.auth,m));return G(M,_.auth,"internal-error"),_.accessToken!==M&&(_.accessToken=M,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),M})()}getIdTokenResult(m){return function di(y){return Hn.apply(this,arguments)}(this,m)}reload(){return function yn(y){return Di.apply(this,arguments)}(this)}_assign(m){this!==m&&(G(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Zt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var M=this;return(0,o.Z)(function*(){let k=!1;m.idToken&&m.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(m),k=!0),_&&(yield mn(M)),yield M.auth._persistUserIfCurrent(M),k&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var m=this;return(0,o.Z)(function*(){const _=yield m.getIdToken();return yield Li(m,function xa(y,m){return it.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var M,k,z,K,_e,$e,st,Tt;const St=null!==(M=_.displayName)&&void 0!==M?M:void 0,An=null!==(k=_.email)&&void 0!==k?k:void 0,$r=null!==(z=_.phoneNumber)&&void 0!==z?z:void 0,$2=null!==(K=_.photoURL)&&void 0!==K?K:void 0,n5=null!==(_e=_.tenantId)&&void 0!==_e?_e:void 0,Bl=null!==($e=_._redirectEventId)&&void 0!==$e?$e:void 0,U0=null!==(st=_.createdAt)&&void 0!==st?st:void 0,C4=null!==(Tt=_.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:j0,emailVerified:r5,isAnonymous:cc,providerData:W2,stsTokenManager:u6}=_;G(j0&&u6,m,"internal-error");const d6=Nt.fromJSON(this.name,u6);G("string"==typeof j0,m,"internal-error"),Rt(St,m.name),Rt(An,m.name),G("boolean"==typeof r5,m,"internal-error"),G("boolean"==typeof cc,m,"internal-error"),Rt($r,m.name),Rt($2,m.name),Rt(n5,m.name),Rt(Bl,m.name),Rt(U0,m.name),Rt(C4,m.name);const qa=new Zt({uid:j0,auth:m,email:An,emailVerified:r5,displayName:St,isAnonymous:cc,photoURL:$2,phoneNumber:$r,tenantId:n5,stsTokenManager:d6,createdAt:U0,lastLoginAt:C4});return W2&&Array.isArray(W2)&&(qa.providerData=W2.map(lc=>Object.assign({},lc))),Bl&&(qa._redirectEventId=Bl),qa}static _fromIdTokenResponse(m,_,M=!1){return(0,o.Z)(function*(){const k=new Nt;k.updateFromServerResponse(_);const z=new Zt({uid:_.localId,auth:m,stsTokenManager:k,isAnonymous:M});return yield mn(z),z})()}}const U=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(_,M){var k=this;return(0,o.Z)(function*(){k.storage[_]=M})()}_get(_){var M=this;return(0,o.Z)(function*(){const k=M.storage[_];return void 0===k?null:k})()}_remove(_){var M=this;return(0,o.Z)(function*(){delete M.storage[_]})()}_addListener(_,M){}_removeListener(_,M){}}return y.type="NONE",y})();function X(y,m,_){return`firebase:${y}:${m}:${_}`}class Se{constructor(m,_,M){this.persistence=m,this.auth=_,this.userKey=M;const{config:k,name:z}=this.auth;this.fullUserKey=X(this.userKey,k.apiKey,z),this.fullPersistenceKey=X("persistence",k.apiKey,z),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Zt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,o.Z)(function*(){if(_.persistence===m)return;const M=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,M?_.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,M="authUser"){return(0,o.Z)(function*(){if(!_.length)return new Se(le(U),m,M);const k=(yield Promise.all(_.map(function(){var st=(0,o.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return st.apply(this,arguments)}}()))).filter(st=>st);let z=k[0]||le(U);const K=X(M,m.config.apiKey,m.name);let _e=null;for(const st of _)try{const Tt=yield st._get(K);if(Tt){const St=Zt._fromJSON(m,Tt);st!==z&&(_e=St),z=st;break}}catch{}const $e=k.filter(st=>st._shouldAllowMigration);return z._shouldAllowMigration&&$e.length?(z=$e[0],_e&&(yield z._set(K,_e.toJSON())),yield Promise.all(_.map(function(){var st=(0,o.Z)(function*(Tt){if(Tt!==z)try{yield Tt._remove(K)}catch{}});return function(Tt){return st.apply(this,arguments)}}())),new Se(z,m,M)):new Se(z,m,M)})()}}function ne(y){const m=y.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(kn(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ke(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(qe(m))return"Blackberry";if(Ye(m))return"Webos";if(bt(m))return"Safari";if((m.includes("chrome/")||un(m))&&!m.includes("edge/"))return"Chrome";if(rn(m))return"Android";{const M=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Ke(y=(0,O.z$)()){return/firefox\//i.test(y)}function bt(y=(0,O.z$)()){const m=y.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function un(y=(0,O.z$)()){return/crios\//i.test(y)}function kn(y=(0,O.z$)()){return/iemobile/i.test(y)}function rn(y=(0,O.z$)()){return/android/i.test(y)}function qe(y=(0,O.z$)()){return/blackberry/i.test(y)}function Ye(y=(0,O.z$)()){return/webos/i.test(y)}function Yt(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Bo(y=(0,O.z$)()){return Yt(y)||rn(y)||Ye(y)||qe(y)||/windows phone/i.test(y)||kn(y)}function mo(y,m=[]){let _;switch(y){case"Browser":_=ne((0,O.z$)());break;case"Worker":_=`${ne((0,O.z$)())}-${y}`;break;default:_=y}const M=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${de.SDK_VERSION}/${M}`}class Ea{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const M=z=>new Promise((K,_e)=>{try{K(m(z))}catch($e){_e($e)}});M.onAbort=_,this.queue.push(M);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,o.Z)(function*(){if(_.auth.currentUser===m)return;const M=[];try{for(const k of _.queue)yield k(m),k.onAbort&&M.push(k.onAbort)}catch(k){M.reverse();for(const z of M)try{z()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class $t{constructor(m,_,M){this.app=m,this.heartbeatServiceProvider=_,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uo(this),this.idTokenSubscription=new Uo(this),this.beforeStateQueue=new Ea(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(m,_){var M=this;return _&&(this._popupRedirectResolver=le(_)),this._initializationPromise=this.queue((0,o.Z)(function*(){var k,z;if(!M._deleted&&(M.persistenceManager=yield Se.create(M,m),!M._deleted)){if(null!==(k=M._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(_),M.lastNotifiedUid=(null===(z=M.currentUser)||void 0===z?void 0:z.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,o.Z)(function*(){var M;const k=yield _.assertedPersistence.getCurrentUser();let z=k,K=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const _e=null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId,$e=z?._redirectEventId,st=yield _.tryRedirectSignIn(m);(!_e||_e===$e)&&st?.user&&(z=st.user,K=!0)}if(!z)return _.directlySetCurrentUser(null);if(!z._redirectEventId){if(K)try{yield _.beforeStateQueue.runMiddleware(z)}catch(_e){z=k,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(_e))}return z?_.reloadAndSetCurrentUserOrClear(z):_.directlySetCurrentUser(null)}return G(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===z._redirectEventId?_.directlySetCurrentUser(z):_.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(m){var _=this;return(0,o.Z)(function*(){let M=null;try{M=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,o.Z)(function*(){try{yield mn(m)}catch(M){if("auth/network-request-failed"!==M?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function tt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var m=this;return(0,o.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,o.Z)(function*(){const M=m?(0,O.m9)(m):null;return M&&G(M.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(M&&M._clone(_))})()}_updateCurrentUser(m,_=!1){var M=this;return(0,o.Z)(function*(){if(!M._deleted)return m&&G(M.tenantId===m.tenantId,M,"tenant-id-mismatch"),_||(yield M.beforeStateQueue.runMiddleware(m)),M.queue((0,o.Z)(function*(){yield M.directlySetCurrentUser(m),M.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,o.Z)(function*(){yield _.assertedPersistence.setPersistence(le(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new O.LL("auth","Firebase",m())}onAuthStateChanged(m,_,M){return this.registerStateListener(this.authStateSubscription,m,_,M)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,M){return this.registerStateListener(this.idTokenSubscription,m,_,M)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var M=this;return(0,o.Z)(function*(){const k=yield M.getOrInitRedirectPersistenceManager(_);return null===m?k.removeCurrentUser():k.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,o.Z)(function*(){if(!_.redirectPersistenceManager){const M=m&&le(m)||_._popupRedirectResolver;G(M,_,"argument-error"),_.redirectPersistenceManager=yield Se.create(_,[le(M._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,o.Z)(function*(){var M,k;return _._isInitialized&&(yield _.queue((0,o.Z)(function*(){}))),(null===(M=_._currentUser)||void 0===M?void 0:M._redirectEventId)===m?_._currentUser:(null===(k=_.redirectUser)||void 0===k?void 0:k._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,o.Z)(function*(){if(m===_.currentUser)return _.queue((0,o.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,M,k){if(this._deleted)return()=>{};const z="function"==typeof _?_:_.next.bind(_),K=this._isInitialized?Promise.resolve():this._initializationPromise;return G(K,this,"internal-error"),K.then(()=>z(this.currentUser)),"function"==typeof _?m.addObserver(_,M,k):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,o.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=mo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.Z)(function*(){var _;const M={"X-Client-Version":m.clientVersion};m.app.options.appId&&(M["X-Firebase-gmpid"]=m.app.options.appId);const k=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return k&&(M["X-Firebase-Client"]=k),M})()}}function jn(y){return(0,O.m9)(y)}class Uo{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,O.ne)(_=>this.observer=_)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ss(y){const m=y.indexOf(":");return m<0?"":y.substr(0,m+1)}function go(y){if(!y)return null;const m=Number(y);return isNaN(m)?null:m}class Yi{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ye("not implemented")}_getIdTokenResponse(m){return ye("not implemented")}_linkToIdToken(m,_){return ye("not implemented")}_getReauthenticationResolver(m){return ye("not implemented")}}function fi(y,m){return h2.apply(this,arguments)}function h2(){return(h2=(0,o.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:resetPassword",jt(y,m))})).apply(this,arguments)}function tn(y,m){return nl.apply(this,arguments)}function nl(){return(nl=(0,o.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function il(y,m){return jo.apply(this,arguments)}function jo(){return(jo=(0,o.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:update",jt(y,m))})).apply(this,arguments)}function Er(){return(Er=(0,o.Z)(function*(y,m){return dr(y,"POST","/v1/accounts:signInWithPassword",jt(y,m))})).apply(this,arguments)}function vo(y,m){return as.apply(this,arguments)}function as(){return(as=(0,o.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:sendOobCode",jt(y,m))})).apply(this,arguments)}function Gn(y,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,o.Z)(function*(y,m){return vo(y,m)})).apply(this,arguments)}function zi(y,m){return fr.apply(this,arguments)}function fr(){return(fr=(0,o.Z)(function*(y,m){return vo(y,m)})).apply(this,arguments)}function Aa(y,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,o.Z)(function*(y,m){return vo(y,m)})).apply(this,arguments)}function sl(y,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.Z)(function*(y,m){return vo(y,m)})).apply(this,arguments)}function N3(){return(N3=(0,o.Z)(function*(y,m){return dr(y,"POST","/v1/accounts:signInWithEmailLink",jt(y,m))})).apply(this,arguments)}function b1(){return(b1=(0,o.Z)(function*(y,m){return dr(y,"POST","/v1/accounts:signInWithEmailLink",jt(y,m))})).apply(this,arguments)}class al extends Yi{constructor(m,_,M,k=null){super("password",M),this._email=m,this._password=_,this._tenantId=k}static _fromEmailAndPassword(m,_){return new al(m,_,"password")}static _fromEmailAndCode(m,_,M=null){return new al(m,_,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,o.Z)(function*(){switch(_.signInMethod){case"password":return function f2(y,m){return Er.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Bu(y,m){return N3.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:He(m,"internal-error")}})()}_linkToIdToken(m,_){var M=this;return(0,o.Z)(function*(){switch(M.signInMethod){case"password":return tn(m,{idToken:_,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function ol(y,m){return b1.apply(this,arguments)}(m,{idToken:_,email:M._email,oobCode:M._password});default:He(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ei(y,m){return P3.apply(this,arguments)}function P3(){return(P3=(0,o.Z)(function*(y,m){return dr(y,"POST","/v1/accounts:signInWithIdp",jt(y,m))})).apply(this,arguments)}class Fs extends Yi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Fs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):He("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:M,signInMethod:k}=_,z=(0,pe._T)(_,["providerId","signInMethod"]);if(!M||!k)return null;const K=new Fs(M,k);return K.idToken=z.idToken||void 0,K.accessToken=z.accessToken||void 0,K.secret=z.secret,K.nonce=z.nonce,K.pendingToken=z.pendingToken||null,K}_getIdTokenResponse(m){return Ei(m,this.buildRequest())}_linkToIdToken(m,_){const M=this.buildRequest();return M.idToken=_,Ei(m,M)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ei(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,O.xO)(_)}return m}}function c0(y,m){return O3.apply(this,arguments)}function O3(){return(O3=(0,o.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:sendVerificationCode",jt(y,m))})).apply(this,arguments)}function yo(){return(yo=(0,o.Z)(function*(y,m){return dr(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,m))})).apply(this,arguments)}function R3(){return(R3=(0,o.Z)(function*(y,m){const _=yield dr(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,m));if(_.temporaryProof)throw Pr(y,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const u0={USER_NOT_FOUND:"user-not-found"};function F3(){return(F3=(0,o.Z)(function*(y,m){return dr(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,Object.assign(Object.assign({},m),{operation:"REAUTH"})),u0)})).apply(this,arguments)}class Co extends Yi{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Co({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Co({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function cl(y,m){return yo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function l0(y,m){return R3.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function d0(y,m){return F3.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:M,verificationCode:k}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:M,code:k}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:M,phoneNumber:k,temporaryProof:z}=m;return M||_||k||z?new Co({verificationId:_,verificationCode:M,phoneNumber:k,temporaryProof:z}):null}}class M1{constructor(m){var _,M,k,z,K,_e;const $e=(0,O.zd)((0,O.pd)(m)),st=null!==(_=$e.apiKey)&&void 0!==_?_:null,Tt=null!==(M=$e.oobCode)&&void 0!==M?M:null,St=function B3(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=$e.mode)&&void 0!==k?k:null);G(st&&Tt&&St,"argument-error"),this.apiKey=st,this.operation=St,this.code=Tt,this.continueUrl=null!==(z=$e.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(K=$e.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(_e=$e.tenantId)&&void 0!==_e?_e:null}static parseLink(m){const _=function U3(y){const m=(0,O.zd)((0,O.pd)(y)).link,_=m?(0,O.zd)((0,O.pd)(m)).deep_link_id:null,M=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(M?(0,O.zd)((0,O.pd)(M)).link:null)||M||_||m||y}(m);try{return new M1(_)}catch{return null}}}let Ds=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(_,M){return al._fromEmailAndPassword(_,M)}static credentialWithLink(_,M){const k=M1.parseLink(M);return G(k,"argument-error"),al._fromEmailAndCode(_,k.code,k.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Bs{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Us extends Bs{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class qo extends Us{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return G("providerId"in _&&"signInMethod"in _,"argument-error"),Fs._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return G(m.idToken||m.accessToken,"argument-error"),Fs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return qo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return qo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:M,oauthTokenSecret:k,pendingToken:z,nonce:K,providerId:_e}=m;if(!M&&!k&&!_&&!z||!_e)return null;try{return new qo(_e)._credential({idToken:_,accessToken:M,nonce:K,pendingToken:z})}catch{return null}}}let p2=(()=>{class y extends Us{constructor(){super("facebook.com")}static credential(_){return Fs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),w1=(()=>{class y extends Us{constructor(){super("google.com"),this.addScope("profile")}static credential(_,M){return Fs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:M})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:M,oauthAccessToken:k}=_;if(!M&&!k)return null;try{return y.credential(M,k)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ll=(()=>{class y extends Us{constructor(){super("github.com")}static credential(_){return Fs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class xs extends Yi{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Ei(m,this.buildRequest())}_linkToIdToken(m,_){const M=this.buildRequest();return M.idToken=_,Ei(m,M)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ei(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:M,signInMethod:k,pendingToken:z}=_;return M&&k&&z&&M===k?new xs(M,z):null}static _create(m,_){return new xs(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rr extends Bs{constructor(m){G(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Rr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Rr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=xs.fromJSON(m);return G(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:M}=m;if(!_||!M)return null;try{return xs._create(M,_)}catch{return null}}}let Ar=(()=>{class y extends Us{constructor(){super("twitter.com")}static credential(_,M){return Fs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:M})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:M,oauthTokenSecret:k}=_;if(!M||!k)return null;try{return y.credential(M,k)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ta(y,m){return m2.apply(this,arguments)}function m2(){return(m2=(0,o.Z)(function*(y,m){return dr(y,"POST","/v1/accounts:signUp",jt(y,m))})).apply(this,arguments)}class Ni{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,M,k=!1){return(0,o.Z)(function*(){const z=yield Zt._fromIdTokenResponse(m,M,k),K=Gu(M);return new Ni({user:z,providerId:K,_tokenResponse:M,operationType:_})})()}static _forOperation(m,_,M){return(0,o.Z)(function*(){yield m._updateTokensIfNecessary(M,!0);const k=Gu(M);return new Ni({user:m,providerId:k,_tokenResponse:M,operationType:_})})()}}function Gu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Yn(){return(Yn=(0,o.Z)(function*(y){var m;const _=jn(y);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Ni({user:_.currentUser,providerId:null,operationType:"signIn"});const M=yield Ta(_,{returnSecureToken:!0}),k=yield Ni._fromIdTokenResponse(_,"signIn",M,!0);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}class S1 extends O.ZR{constructor(m,_,M,k){var z;super(_.code,_.message),this.operationType=M,this.user=k,Object.setPrototypeOf(this,S1.prototype),this.customData={appName:m.name,tenantId:null!==(z=m.tenantId)&&void 0!==z?z:void 0,_serverResponse:_.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(m,_,M,k){return new S1(m,_,M,k)}}function $u(y,m,_,M){return("reauthenticate"===m?_._getReauthenticationResolver(y):_._getIdTokenResponse(y)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?S1._fromErrorAndOperation(y,z,m,M):z})}function Fr(y){return new Set(y.map(({providerId:m})=>m).filter(m=>!!m))}function D1(){return(D1=(0,o.Z)(function*(y,m){const _=(0,O.m9)(y);yield sn(!0,_,m);const{providerUserInfo:M}=yield ir(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),k=Fr(M||[]);return _.providerData=_.providerData.filter(z=>k.has(z.providerId)),k.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function $o(y,m){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,o.Z)(function*(y,m,_=!1){const M=yield Li(y,m._linkToIdToken(y.auth,yield y.getIdToken()),_);return Ni._forOperation(y,"link",M)})).apply(this,arguments)}function sn(y,m,_){return x1.apply(this,arguments)}function x1(){return(x1=(0,o.Z)(function*(y,m,_){yield mn(m);const k=!1===y?"provider-already-linked":"no-such-provider";G(Fr(m.providerData).has(_)===y,m.auth,k)})).apply(this,arguments)}function Wo(y,m){return E1.apply(this,arguments)}function E1(){return(E1=(0,o.Z)(function*(y,m,_=!1){const{auth:M}=y,k="reauthenticate";try{const z=yield Li(y,$u(M,k,m,y),_);G(z.idToken,M,"internal-error");const K=vt(z.idToken);G(K,M,"internal-error");const{sub:_e}=K;return G(y.uid===_e,M,"user-mismatch"),Ni._forOperation(y,k,z)}catch(z){throw"auth/user-not-found"===z?.code&&He(M,"user-mismatch"),z}})).apply(this,arguments)}function cs(y,m){return A1.apply(this,arguments)}function A1(){return(A1=(0,o.Z)(function*(y,m,_=!1){const M="signIn",k=yield $u(y,M,m),z=yield Ni._fromIdTokenResponse(y,M,k);return _||(yield y._updateCurrentUser(z.user)),z})).apply(this,arguments)}function qn(y,m){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,o.Z)(function*(y,m){return cs(jn(y),m)})).apply(this,arguments)}function T1(y,m){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,o.Z)(function*(y,m){const _=(0,O.m9)(y);return yield sn(!1,_,m.providerId),$o(_,m)})).apply(this,arguments)}function I1(y,m){return k1.apply(this,arguments)}function k1(){return(k1=(0,o.Z)(function*(y,m){return Wo((0,O.m9)(y),m)})).apply(this,arguments)}function ul(y,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,o.Z)(function*(y,m){return dr(y,"POST","/v1/accounts:signInWithCustomToken",jt(y,m))})).apply(this,arguments)}function g2(){return(g2=(0,o.Z)(function*(y,m){const _=jn(y),M=yield ul(_,{token:m,returnSecureToken:!0}),k=yield Ni._fromIdTokenResponse(_,"signIn",M);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}class ke{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Jt._fromServerResponse(m,_):He(m,"internal-error")}}class Jt extends ke{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Jt(_)}}function V1(y,m,_){var M;G((null===(M=_.url)||void 0===M?void 0:M.length)>0,y,"invalid-continue-uri"),G(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(G(_.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(G(_.android.packageName.length>0,y,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Kn(){return(Kn=(0,o.Z)(function*(y,m,_){const M=(0,O.m9)(y),k={requestType:"PASSWORD_RESET",email:m};_&&V1(M,k,_),yield zi(M,k)})).apply(this,arguments)}function Ia(){return(Ia=(0,o.Z)(function*(y,m,_){yield fi((0,O.m9)(y),{oobCode:m,newPassword:_})})).apply(this,arguments)}function _2(){return(_2=(0,o.Z)(function*(y,m){yield il((0,O.m9)(y),{oobCode:m})})).apply(this,arguments)}function v2(y,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,o.Z)(function*(y,m){const _=(0,O.m9)(y),M=yield fi(_,{oobCode:m}),k=M.requestType;switch(G(k,_,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(M.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(M.mfaInfo,_,"internal-error");default:G(M.email,_,"internal-error")}let z=null;return M.mfaInfo&&(z=ke._fromServerResponse(jn(_),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:z},operation:k}})).apply(this,arguments)}function j3(){return(j3=(0,o.Z)(function*(y,m){const{data:_}=yield v2((0,O.m9)(y),m);return _.email})).apply(this,arguments)}function Qn(){return(Qn=(0,o.Z)(function*(y,m,_){const M=jn(y),k=yield Ta(M,{returnSecureToken:!0,email:m,password:_}),z=yield Ni._fromIdTokenResponse(M,"signIn",k);return yield M._updateCurrentUser(z.user),z})).apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(function*(y,m,_){const M=(0,O.m9)(y),k={requestType:"EMAIL_SIGNIN",email:m};G(_.handleCodeInApp,M,"argument-error"),_&&V1(M,k,_),yield Aa(M,k)})).apply(this,arguments)}function C2(){return(C2=(0,o.Z)(function*(y,m,_){const M=(0,O.m9)(y),k=Ds.credentialWithLink(m,_||Fe());return G(k._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),qn(M,k)})).apply(this,arguments)}function f0(y,m){return ml.apply(this,arguments)}function ml(){return(ml=(0,o.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:createAuthUri",jt(y,m))})).apply(this,arguments)}function b2(){return(b2=(0,o.Z)(function*(y,m){const M={identifier:m,continueUri:Ct()?Fe():"http://localhost"},{signinMethods:k}=yield f0((0,O.m9)(y),M);return k||[]})).apply(this,arguments)}function M2(){return(M2=(0,o.Z)(function*(y,m){const _=(0,O.m9)(y),k={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};m&&V1(_.auth,k,m);const{email:z}=yield Gn(_.auth,k);z!==y.email&&(yield y.reload())})).apply(this,arguments)}function N1(){return(N1=(0,o.Z)(function*(y,m,_){const M=(0,O.m9)(y),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:m};_&&V1(M.auth,z,_);const{email:K}=yield sl(M.auth,z);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function P1(y,m){return vl.apply(this,arguments)}function vl(){return(vl=(0,o.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Cl(){return(Cl=(0,o.Z)(function*(y,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const M=(0,O.m9)(y),z={idToken:yield M.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},K=yield Li(M,P1(M.auth,z));M.displayName=K.displayName||null,M.photoURL=K.photoUrl||null;const _e=M.providerData.find(({providerId:$e})=>"password"===$e);_e&&(_e.displayName=M.displayName,_e.photoURL=M.photoURL),yield M._updateTokensIfNecessary(K)})).apply(this,arguments)}function Ko(y,m,_){return O1.apply(this,arguments)}function O1(){return(O1=(0,o.Z)(function*(y,m,_){const{auth:M}=y,z={idToken:yield y.getIdToken(),returnSecureToken:!0};m&&(z.email=m),_&&(z.password=_);const K=yield Li(y,tn(M,z));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Tr{constructor(m,_,M={}){this.isNewUser=m,this.providerId=_,this.profile=M}}class Bn extends Tr{constructor(m,_,M,k){super(m,_,M),this.username=k}}class bl extends Tr{constructor(m,_){super(m,"facebook.com",_)}}class Ml extends Bn{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class q3 extends Tr{constructor(m,_){super(m,"google.com",_)}}class wl extends Bn{constructor(m,_,M){super(m,"twitter.com",_,M)}}function R1(y){const{user:m,_tokenResponse:_}=y;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ai(y){var m,_;if(!y)return null;const{providerId:M}=y,k=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},z=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!M&&y?.idToken){const K=null===(_=null===(m=vt(y.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(K)return new Tr(z,"anonymous"!==K&&"custom"!==K?K:null)}if(!M)return null;switch(M){case"facebook.com":return new bl(z,k);case"github.com":return new Ml(z,k);case"google.com":return new q3(z,k);case"twitter.com":return new wl(z,k,y.screenName||null);case"custom":case"anonymous":return new Tr(z,null);default:return new Tr(z,M,k)}}(_)}class Xo{constructor(m,_,M){this.type=m,this.credential=_,this.auth=M}static _fromIdtoken(m,_){return new Xo("enroll",m,_)}static _fromMfaPendingCredential(m){return new Xo("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,M;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Xo._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(M=m.multiFactorSession)&&void 0!==M&&M.idToken)return Xo._fromIdtoken(m.multiFactorSession.idToken)}return null}}class B1{constructor(m,_,M){this.session=m,this.hints=_,this.signInResolver=M}static _fromError(m,_){const M=jn(m),k=_.customData._serverResponse,z=(k.mfaInfo||[]).map(_e=>ke._fromServerResponse(M,_e));G(k.mfaPendingCredential,M,"internal-error");const K=Xo._fromMfaPendingCredential(k.mfaPendingCredential);return new B1(K,z,function(){var _e=(0,o.Z)(function*($e){const st=yield $e._process(M,K);delete k.mfaInfo,delete k.mfaPendingCredential;const Tt=Object.assign(Object.assign({},k),{idToken:st.idToken,refreshToken:st.refreshToken});switch(_.operationType){case"signIn":const St=yield Ni._fromIdTokenResponse(M,_.operationType,Tt);return yield M._updateCurrentUser(St.user),St;case"reauthenticate":return G(_.user,M,"internal-error"),Ni._forOperation(_.user,_.operationType,Tt);default:He(M,"internal-error")}});return function($e){return _e.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,o.Z)(function*(){return _.signInResolver(m)})()}}function U1(y,m){return xn(y,"POST","/v2/accounts/mfaEnrollment:start",jt(y,m))}class Zu{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(M=>ke._fromServerResponse(m.auth,M)))})}static _fromUser(m){return new Zu(m)}getSession(){var m=this;return(0,o.Z)(function*(){return Xo._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var M=this;return(0,o.Z)(function*(){const k=m,z=yield M.getSession(),K=yield Li(M.user,k._process(M.user.auth,z,_));return yield M.user._updateTokensIfNecessary(K),M.user.reload()})()}unenroll(m){var _=this;return(0,o.Z)(function*(){const M="string"==typeof m?m:m.uid,k=yield _.user.getIdToken(),z=yield Li(_.user,function Z3(y,m){return xn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(y,m))}(_.user.auth,{idToken:k,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:K})=>K!==M),yield _.user._updateTokensIfNecessary(z);try{yield _.user.reload()}catch(K){if("auth/user-token-expired"!==K?.code)throw K}})()}}const Jo=new WeakMap,ea="__sak";class G1{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ea,"1"),this.storage.removeItem(ea),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const S2=(()=>{class y extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,M)=>this.onStorageEvent(_,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function w2(){const y=(0,O.z$)();return bt(y)||Yt(y)}()&&function Fn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const M of Object.keys(this.listeners)){const k=this.storage.getItem(M),z=this.localCache[M];k!==z&&_(M,z,k)}}onStorageEvent(_,M=!1){if(!_.key)return void this.forAllChangedKeys((_e,$e,st)=>{this.notifyListeners(_e,st)});const k=_.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(k);if(_.newValue!==_e)null!==_.newValue?this.storage.setItem(k,_.newValue):this.storage.removeItem(k);else if(this.localCache[k]===_.newValue&&!M)return}const z=()=>{const _e=this.storage.getItem(k);!M&&this.localCache[k]===_e||this.notifyListeners(k,_e)},K=this.storage.getItem(k);!function xi(){return(0,O.w1)()&&10===document.documentMode}()||K===_.newValue||_.newValue===_.oldValue?z():setTimeout(z,10)}notifyListeners(_,M){this.localCache[_]=M;const k=this.listeners[_];if(k)for(const z of Array.from(k))z(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,M,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:M,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(M)}_removeListener(_,M){this.listeners[_]&&(this.listeners[_].delete(M),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,M){var k=()=>super._set,z=this;return(0,o.Z)(function*(){yield k().call(z,_,M),z.localCache[_]=JSON.stringify(M)})()}_get(_){var M=()=>super._get,k=this;return(0,o.Z)(function*(){const z=yield M().call(k,_);return k.localCache[_]=JSON.stringify(z),z})()}_remove(_){var M=()=>super._remove,k=this;return(0,o.Z)(function*(){yield M().call(k,_),delete k.localCache[_]})()}}return y.type="LOCAL",y})(),As=(()=>{class y extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,M){}_removeListener(_,M){}}return y.type="SESSION",y})();let Q3=(()=>{class y{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const M=this.receivers.find(z=>z.isListeningto(_));if(M)return M;const k=new y(_);return this.receivers.push(k),k}isListeningto(_){return this.eventTarget===_}handleEvent(_){var M=this;return(0,o.Z)(function*(){const k=_,{eventId:z,eventType:K,data:_e}=k.data,$e=M.handlersMap[K];if(!$e?.size)return;k.ports[0].postMessage({status:"ack",eventId:z,eventType:K});const st=Array.from($e).map(function(){var St=(0,o.Z)(function*(An){return An(k.origin,_e)});return function(An){return St.apply(this,arguments)}}()),Tt=yield function x2(y){return Promise.all(y.map(function(){var m=(0,o.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(M){return{fulfilled:!1,reason:M}}});return function(_){return m.apply(this,arguments)}}()))}(st);k.ports[0].postMessage({status:"done",eventId:z,eventType:K,response:Tt})})()}_subscribe(_,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(M)}_unsubscribe(_,M){this.handlersMap[_]&&M&&this.handlersMap[_].delete(M),(!M||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function E2(y="",m=10){let _="";for(let M=0;M<m;M++)_+=Math.floor(10*Math.random());return y+_}class Dl{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,M=50){var k=this;return(0,o.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let K,_e;return new Promise(($e,st)=>{const Tt=E2("",20);z.port1.start();const St=setTimeout(()=>{st(new Error("unsupported_event"))},M);_e={messageChannel:z,onMessage(An){const $r=An;if($r.data.eventId===Tt)switch($r.data.status){case"ack":clearTimeout(St),K=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),$e($r.data.response);break;default:clearTimeout(St),clearTimeout(K),st(new Error("invalid_response"))}}},k.handlers.add(_e),z.port1.addEventListener("message",_e.onMessage),k.target.postMessage({eventType:m,eventId:Tt,data:_},[z.port2])}).finally(()=>{_e&&k.removeMessageHandler(_e)})})()}}function si(){return window}function q1(){return typeof si().WorkerGlobalScope<"u"&&"function"==typeof si().importScripts}function A2(){return(A2=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wo="firebaseLocalStorageDb",So="firebaseLocalStorage",Z1="fbase_key";class na{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function T2(y,m){return y.transaction([So],m?"readwrite":"readonly").objectStore(So)}function Ha(){const y=indexedDB.open(wo,1);return new Promise((m,_)=>{y.addEventListener("error",()=>{_(y.error)}),y.addEventListener("upgradeneeded",()=>{const M=y.result;try{M.createObjectStore(So,{keyPath:Z1})}catch(k){_(k)}}),y.addEventListener("success",(0,o.Z)(function*(){const M=y.result;M.objectStoreNames.contains(So)?m(M):(M.close(),yield function J3(){const y=indexedDB.deleteDatabase(wo);return new na(y).toPromise()}(),m(yield Ha()))}))})}function Ws(y,m,_){return xl.apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(y,m,_){const M=T2(y,!0).put({[Z1]:m,value:_});return new na(M).toPromise()})).apply(this,arguments)}function I2(){return(I2=(0,o.Z)(function*(y,m){const _=T2(y,!1).get(m),M=yield new na(_).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function ia(y,m){const _=T2(y,!0).delete(m);return new na(_).toPromise()}const za=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,o.Z)(function*(){return _.db||(_.db=yield Ha()),_.db})()}_withRetries(_){var M=this;return(0,o.Z)(function*(){let k=0;for(;;)try{const z=yield M._openDb();return yield _(z)}catch(z){if(k++>3)throw z;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,o.Z)(function*(){return q1()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,o.Z)(function*(){_.receiver=Q3._getInstance(function W1(){return q1()?self:null}()),_.receiver._subscribe("keyChanged",function(){var M=(0,o.Z)(function*(k,z){return{keyProcessed:(yield _._poll()).includes(z.key)}});return function(k,z){return M.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var M=(0,o.Z)(function*(k,z){return["keyChanged"]});return function(k,z){return M.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,o.Z)(function*(){var M,k;if(_.activeServiceWorker=yield function ta(){return A2.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Dl(_.activeServiceWorker);const z=yield _.sender._send("ping",{},800);!z||(null===(M=z[0])||void 0===M?void 0:M.fulfilled)&&(null===(k=z[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var M=this;return(0,o.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function $1(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:_},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Ha();return yield Ws(_,ea,"1"),yield ia(_,ea),!0}catch{}return!1})()}_withPendingWrite(_){var M=this;return(0,o.Z)(function*(){M.pendingWrites++;try{yield _()}finally{M.pendingWrites--}})()}_set(_,M){var k=this;return(0,o.Z)(function*(){return k._withPendingWrite((0,o.Z)(function*(){return yield k._withRetries(z=>Ws(z,_,M)),k.localCache[_]=M,k.notifyServiceWorker(_)}))})()}_get(_){var M=this;return(0,o.Z)(function*(){const k=yield M._withRetries(z=>function Y1(y,m){return I2.apply(this,arguments)}(z,_));return M.localCache[_]=k,k})()}_remove(_){var M=this;return(0,o.Z)(function*(){return M._withPendingWrite((0,o.Z)(function*(){return yield M._withRetries(k=>ia(k,_)),delete M.localCache[_],M.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,o.Z)(function*(){const M=yield _._withRetries(K=>{const _e=T2(K,!1).getAll();return new na(_e).toPromise()});if(!M)return[];if(0!==_.pendingWrites)return[];const k=[],z=new Set;for(const{fbase_key:K,value:_e}of M)z.add(K),JSON.stringify(_.localCache[K])!==JSON.stringify(_e)&&(_.notifyListeners(K,_e),k.push(K));for(const K of Object.keys(_.localCache))_.localCache[K]&&!z.has(K)&&(_.notifyListeners(K,null),k.push(K));return k})()}notifyListeners(_,M){this.localCache[_]=M;const k=this.listeners[_];if(k)for(const z of Array.from(k))z(M)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(M)}_removeListener(_,M){this.listeners[_]&&(this.listeners[_].delete(M),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Na(y,m){return xn(y,"POST","/v2/accounts/mfaSignIn:start",jt(y,m))}function Do(){return(Do=(0,o.Z)(function*(y){return(yield xn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oa(y){return new Promise((m,_)=>{const M=document.createElement("script");M.setAttribute("src",y),M.onload=m,M.onerror=k=>{const z=Me("internal-error");z.customData=k,_(z)},M.type="text/javascript",M.charset="UTF-8",function Pa(){var y,m;return null!==(m=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==m?m:document}().appendChild(M)})}function X1(y){return`__${y}${Math.floor(1e6*Math.random())}`}const k2=1e12;class zn{constructor(m){this.auth=m,this.counter=k2,this._widgets=new Map}render(m,_){const M=this.counter;return this._widgets.set(M,new p0(m,this.auth.name,_||{})),this.counter++,M}reset(m){var _;const M=m||k2;null===(_=this._widgets.get(M))||void 0===_||_.delete(),this._widgets.delete(M)}getResponse(m){var _;return(null===(_=this._widgets.get(m||k2))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,o.Z)(function*(){var M;return null===(M=_._widgets.get(m||k2))||void 0===M||M.execute(),""})()}}class p0{constructor(m,_,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof m?document.getElementById(m):m;G(k,"argument-error",{appName:_}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function F8(y){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<y;M++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const m0=X1("rcb"),B8=new Dn(3e4,6e4);class Yu{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=si().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return G(function gg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(si().grecaptcha):new Promise((M,k)=>{const z=si().setTimeout(()=>{k(Me(m,"network-request-failed"))},B8.get());si()[m0]=()=>{si().clearTimeout(z),delete si()[m0];const _e=si().grecaptcha;if(!_e)return void k(Me(m,"internal-error"));const $e=_e.render;_e.render=(st,Tt)=>{const St=$e(st,Tt);return this.counter++,St},this.hostLanguage=_,M(_e)},Oa(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:m0,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(z),k(Me(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=si().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class V2{load(m){return(0,o.Z)(function*(){return new zn(m)})()}clearedOneInstance(){}}const g0="recaptcha",_0={theme:"light",type:"image"};class Oi{constructor(m,_=Object.assign({},_0),M){this.parameters=_,this.type=g0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jn(M),this.isInvisible="invisible"===this.parameters.size,G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof m?document.getElementById(m):m;G(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new V2:new Yu,this.validateStartingState()}verify(){var m=this;return(0,o.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),M=m.getAssertedRecaptcha();return M.getResponse(_)||new Promise(z=>{const K=_e=>{!_e||(m.tokenChangeListeners.delete(K),z(_e))};m.tokenChangeListeners.add(K),m.isInvisible&&M.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(M=>M(_)),"function"==typeof m)m(_);else if("string"==typeof m){const M=si()[m];"function"==typeof M&&M(_)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const M=document.createElement("div");_.appendChild(M),_=M}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.Z)(function*(){G(Ct()&&!q1(),m.auth,"internal-error"),yield function on(){let y=null;return new Promise(m=>{"complete"!==document.readyState?(y=()=>m(),window.addEventListener("load",y)):m()}).catch(m=>{throw y&&window.removeEventListener("load",y),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Ir(y){return Do.apply(this,arguments)}(m.auth);G(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ur{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Co._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Et(){return(Et=(0,o.Z)(function*(y,m,_){const M=jn(y),k=yield xo(M,m,(0,O.m9)(_));return new Ur(k,z=>qn(M,z))})).apply(this,arguments)}function us(){return(us=(0,o.Z)(function*(y,m,_){const M=(0,O.m9)(y);yield sn(!1,M,"phone");const k=yield xo(M.auth,m,(0,O.m9)(_));return new Ur(k,z=>T1(M,z))})).apply(this,arguments)}function gn(){return(gn=(0,o.Z)(function*(y,m,_){const M=(0,O.m9)(y),k=yield xo(M.auth,m,(0,O.m9)(_));return new Ur(k,z=>I1(M,z))})).apply(this,arguments)}function xo(y,m,_){return J1.apply(this,arguments)}function J1(){return(J1=(0,o.Z)(function*(y,m,_){var M;const k=yield _.verify();try{let z;if(G("string"==typeof k,y,"argument-error"),G(_.type===g0,y,"argument-error"),z="string"==typeof m?{phoneNumber:m}:m,"session"in z){const K=z.session;if("phoneNumber"in z)return G("enroll"===K.type,y,"internal-error"),(yield U1(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{G("signin"===K.type,y,"internal-error");const _e=(null===(M=z.multiFactorHint)||void 0===M?void 0:M.uid)||z.multiFactorUid;return G(_e,y,"missing-multi-factor-info"),(yield Na(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield c0(y,{phoneNumber:z.phoneNumber,recaptchaToken:k});return K}}finally{_._reset()}})).apply(this,arguments)}function Al(){return(Al=(0,o.Z)(function*(y,m){yield $o((0,O.m9)(y),m)})).apply(this,arguments)}let H2=(()=>{class y{constructor(_){this.providerId=y.PROVIDER_ID,this.auth=jn(_)}verifyPhoneNumber(_,M){return xo(this.auth,_,(0,O.m9)(M))}static credential(_,M){return Co._fromVerification(_,M)}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:M,temporaryProof:k}=_;return M&&k?Co._fromTokenResponse(M,k):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function sa(y,m){return m?le(m):(G(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ys extends Yi{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ei(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Ei(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Ei(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Je(y){return cs(y.auth,new Ys(y),y.bypassAuthState)}function z2(y){const{auth:m,user:_}=y;return G(_,m,"internal-error"),Wo(_,new Ys(y),y.bypassAuthState)}function Eo(y){return oa.apply(this,arguments)}function oa(){return(oa=(0,o.Z)(function*(y){const{auth:m,user:_}=y;return G(_,m,"internal-error"),$o(_,new Ys(y),y.bypassAuthState)})).apply(this,arguments)}class Fa{constructor(m,_,M,k,z=!1){this.auth=m,this.resolver=M,this.user=k,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,o.Z)(function*(M,k){m.pendingPromise={resolve:M,reject:k};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(z){m.reject(z)}});return function(M,k){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,o.Z)(function*(){const{urlResponse:M,sessionId:k,postBody:z,tenantId:K,error:_e,type:$e}=m;if(_e)return void _.reject(_e);const st={auth:_.auth,requestUri:M,sessionId:k,tenantId:K||void 0,postBody:z||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask($e)(st))}catch(Tt){_.reject(Tt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Je;case"linkViaPopup":case"linkViaRedirect":return Eo;case"reauthViaPopup":case"reauthViaRedirect":return z2;default:He(this.auth,"internal-error")}}resolve(m){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const En=new Dn(2e3,1e4);function Ba(){return(Ba=(0,o.Z)(function*(y,m,_){const M=jn(y);We(y,m,Bs);const k=sa(M,_);return new Ks(M,"signInViaPopup",m,k).executeNotNull()})).apply(this,arguments)}function Il(){return(Il=(0,o.Z)(function*(y,m,_){const M=(0,O.m9)(y);We(M.auth,m,Bs);const k=sa(M.auth,_);return new Ks(M.auth,"reauthViaPopup",m,k,M).executeNotNull()})).apply(this,arguments)}function N2(){return(N2=(0,o.Z)(function*(y,m,_){const M=(0,O.m9)(y);We(M.auth,m,Bs);const k=sa(M.auth,_);return new Ks(M.auth,"linkViaPopup",m,k,M).executeNotNull()})).apply(this,arguments)}let Ks=(()=>{class y extends Fa{constructor(_,M,k,z,K){super(_,M,z,K),this.provider=k,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var _=this;return(0,o.Z)(function*(){const M=yield _.execute();return G(M,_.auth,"internal-error"),M})()}onExecution(){var _=this;return(0,o.Z)(function*(){Q(1===_.filter.length,"Popup operations only handle one event");const M=E2();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],M),_.authWindow.associatedEvent=M,_.resolver._originValidation(_.auth).catch(k=>{_.reject(k)}),_.resolver._isIframeWebStorageSupported(_.auth,k=>{k||_.reject(Me(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const _=()=>{var M,k;this.pollId=null!==(k=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,En.get())};_()}}return y.currentPopupAction=null,y})();const ds=new Map;class kl extends Fa{constructor(m,_,M=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,M),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,o.Z)(function*(){let M=ds.get(_.auth._key());if(!M){try{const z=(yield function mr(y,m){return kr.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;M=()=>Promise.resolve(z)}catch(k){M=()=>Promise.reject(k)}ds.set(_.auth._key(),M)}return _.bypassAuthState||ds.set(_.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,M=this;return(0,o.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(M,m);if("unknown"!==m.type){if(m.eventId){const k=yield M.auth._redirectUserForId(m.eventId);if(k)return M.user=k,_().call(M,m);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function kr(){return(kr=(0,o.Z)(function*(y,m){const _=Mn(m),M=Qs(y);if(!(yield M._isAvailable()))return!1;const k="true"===(yield M._get(_));return yield M._remove(_),k})).apply(this,arguments)}function Ts(y,m){return $n.apply(this,arguments)}function $n(){return($n=(0,o.Z)(function*(y,m){return Qs(y)._set(Mn(m),"true")})).apply(this,arguments)}function Ao(y,m){ds.set(y._key(),m)}function Qs(y){return le(y._redirectPersistence)}function Mn(y){return X("pendingRedirect",y.config.apiKey,y.name)}function x(){return(x=(0,o.Z)(function*(y,m,_){const M=jn(y);We(y,m,Bs);const k=sa(M,_);return yield Ts(k,M),k._openRedirect(M,m,"signInViaRedirect")})).apply(this,arguments)}function B(){return(B=(0,o.Z)(function*(y,m,_){const M=(0,O.m9)(y);We(M.auth,m,Bs);const k=sa(M.auth,_);yield Ts(k,M.auth);const z=yield Vt(M);return k._openRedirect(M.auth,m,"reauthViaRedirect",z)})).apply(this,arguments)}function Ae(){return(Ae=(0,o.Z)(function*(y,m,_){const M=(0,O.m9)(y);We(M.auth,m,Bs);const k=sa(M.auth,_);yield sn(!1,M,m.providerId),yield Ts(k,M.auth);const z=yield Vt(M);return k._openRedirect(M.auth,m,"linkViaRedirect",z)})).apply(this,arguments)}function ot(){return(ot=(0,o.Z)(function*(y,m){return yield jn(y)._initializationPromise,ft(y,m,!1)})).apply(this,arguments)}function ft(y,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,o.Z)(function*(y,m,_=!1){const M=jn(y),k=sa(M,m),K=yield new kl(M,k,_).execute();return K&&!_&&(delete K.user._redirectEventId,yield M._persistUserIfCurrent(K.user),yield M._setRedirectUser(null,m)),K})).apply(this,arguments)}function Vt(y){return pi.apply(this,arguments)}function pi(){return(pi=(0,o.Z)(function*(y){const m=E2(`${y.uid}:::`);return y._redirectEventId=m,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),m})).apply(this,arguments)}class aa{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(m,M)&&(_=!0,this.sendToConsumer(m,M),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ai(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bt(y);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var M;if(m.error&&!Bt(m)){const k=(null===(M=m.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";_.onError(Me(this.auth,k))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const M=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&M}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ua(m))}saveEventToCache(m){this.cachedEventUids.add(Ua(m)),this.lastProcessedEventTime=Date.now()}}function Ua(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(m=>m).join("-")}function Bt({type:y,error:m}){return"unknown"===y&&"auth/no-auth-event"===m?.code}function Lr(y){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,o.Z)(function*(y,m={}){return xn(y,"GET","/v1/projects",m)})).apply(this,arguments)}const _g=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C0=/^https?/;function Ku(){return(Ku=(0,o.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:m}=yield Lr(y);for(const _ of m)try{if(b0(_))return}catch{}He(y,"unauthorized-domain")})).apply(this,arguments)}function b0(y){const m=Fe(),{protocol:_,hostname:M}=new URL(m);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===M?"chrome-extension:"===_&&y.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&K.hostname===M}if(!C0.test(_))return!1;if(_g.test(y))return M===y;const k=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(M)}const M0=new Dn(3e4,6e4);function j8(){const y=si().___jsl;if(y?.H)for(const m of Object.keys(y.H))if(y.H[m].r=y.H[m].r||[],y.H[m].L=y.H[m].L||[],y.H[m].r=[...y.H[m].L],y.CP)for(let _=0;_<y.CP.length;_++)y.CP[_]=null}let Is=null;function Qu(y){return Is=Is||function Ti(y){return new Promise((m,_)=>{var M,k,z;function K(){j8(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{j8(),_(Me(y,"network-request-failed"))},timeout:M0.get()})}if(null!==(k=null===(M=si().gapi)||void 0===M?void 0:M.iframes)&&void 0!==k&&k.Iframe)m(gapi.iframes.getContext());else{if(null===(z=si().gapi)||void 0===z||!z.load){const _e=X1("iframefcb");return si()[_e]=()=>{gapi.load?K():_(Me(y,"network-request-failed"))},Oa(`https://apis.google.com/js/api.js?onload=${_e}`).catch($e=>_($e))}K()}}).catch(m=>{throw Is=null,m})}(y),Is}const w0=new Dn(5e3,15e3),G8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ju=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S0(y){const m=y.config;G(m.authDomain,y,"auth-domain-config-required");const _=m.emulator?Rn(m,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,M={apiKey:m.apiKey,appName:y.name,v:de.SDK_VERSION},k=Ju.get(y.config.apiHost);k&&(M.eid=k);const z=y._getFrameworks();return z.length&&(M.fw=z.join(",")),`${_}?${(0,O.xO)(M).slice(1)}`}function P2(){return P2=(0,o.Z)(function*(y){const m=yield Qu(y),_=si().gapi;return G(_,y,"internal-error"),m.open({where:document.body,url:S0(y),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G8,dontclear:!0},M=>new Promise(function(){var k=(0,o.Z)(function*(z,K){yield M.restyle({setHideOnLeave:!1});const _e=Me(y,"network-request-failed"),$e=si().setTimeout(()=>{K(_e)},w0.get());function st(){si().clearTimeout($e),z(M)}M.ping(st).then(st,()=>{K(_e)})});return function(z,K){return k.apply(this,arguments)}}()))}),P2.apply(this,arguments)}const e4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vl{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ua(y,m,_,M,k,z){G(y.config.authDomain,y,"auth-domain-config-required"),G(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:_,redirectUrl:M,v:de.SDK_VERSION,eventId:k};if(m instanceof Bs){m.setDefaultLanguage(y.languageCode),K.providerId=m.providerId||"",(0,O.xb)(m.getCustomParameters())||(K.customParameters=JSON.stringify(m.getCustomParameters()));for(const[$e,st]of Object.entries(z||{}))K[$e]=st}if(m instanceof Us){const $e=m.getScopes().filter(st=>""!==st);$e.length>0&&(K.scopes=$e.join(","))}y.tenantId&&(K.tid=y.tenantId);const _e=K;for(const $e of Object.keys(_e))void 0===_e[$e]&&delete _e[$e];return`${function r4({config:y}){return y.emulator?Rn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(_e).slice(1)}`}const R2="webStorageSupport";class hs extends class q8{constructor(m){this.factorId=m}_process(m,_,M){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,M);case"signin":return this._finalizeSignIn(m,_.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new hs(m)}_finalizeEnroll(m,_,M){return function j1(y,m){return xn(y,"POST","/v2/accounts/mfaEnrollment:finalize",jt(y,m))}(m,{idToken:_,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Q1(y,m){return xn(y,"POST","/v2/accounts/mfaSignIn:finalize",jt(y,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let da=(()=>{class y{constructor(){}static assertion(_){return hs._fromCredential(_)}}return y.FACTOR_ID="phone",y})();var t6="@firebase/auth";class $8{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,o.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(M=>{m(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function F2(){return window}function B2(){return(B2=(0,o.Z)(function*(y,m,_){var M;const{BuildInfo:k}=F2();Q(m.sessionId,"AuthEvent did not contain a session ID");const z=yield U2(m.sessionId),K={};return Yt()?K.ibi=k.packageName:rn()?K.apn=k.packageName:He(y,"operation-not-supported-in-this-environment"),k.displayName&&(K.appDisplayName=k.displayName),K.sessionId=z,ua(y,_,m.type,void 0,null!==(M=m.eventId)&&void 0!==M?M:void 0,K)})).apply(this,arguments)}function nc(){return(nc=(0,o.Z)(function*(y){const{BuildInfo:m}=F2(),_={};Yt()?_.iosBundleId=m.packageName:rn()?_.androidPackageName=m.packageName:He(y,"operation-not-supported-in-this-environment"),yield Lr(y,_)})).apply(this,arguments)}function I0(){return(I0=(0,o.Z)(function*(y,m,_){const{cordova:M}=F2();let k=()=>{};try{yield new Promise((z,K)=>{let _e=null;function $e(){var St;z();const An=null===(St=M.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof An&&An(),"function"==typeof _?.close&&_.close()}function st(){_e||(_e=window.setTimeout(()=>{K(Me(y,"redirect-cancelled-by-user"))},2e3))}function Tt(){"visible"===document?.visibilityState&&st()}m.addPassiveListener($e),document.addEventListener("resume",st,!1),rn()&&document.addEventListener("visibilitychange",Tt,!1),k=()=>{m.removePassiveListener($e),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",Tt,!1),_e&&window.clearTimeout(_e)}})}finally{k()}})).apply(this,arguments)}function U2(y){return ha.apply(this,arguments)}function ha(){return(ha=(0,o.Z)(function*(y){const m=Hl(y),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Hl(y){if(Q(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const m=new ArrayBuffer(y.length),_=new Uint8Array(m);for(let M=0;M<y.length;M++)_[M]=y.charCodeAt(M);return _}(0,O.Pz)("authIdTokenMaxAge"),function Z8(y){(0,de._registerComponent)(new ae.wA("auth",(m,{options:_})=>{const M=m.getProvider("app").getImmediate(),k=m.getProvider("heartbeat"),{apiKey:z,authDomain:K}=M.options;return((_e,$e)=>{G(z&&!z.includes(":"),"invalid-api-key",{appName:_e.name}),G(!K?.includes(":"),"argument-error",{appName:_e.name});const st={apiKey:z,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mo(y)},Tt=new $t(_e,$e,st);return function Be(y,m){const _=m?.persistence||[],M=(Array.isArray(_)?_:[_]).map(le);m?.errorMap&&y._updateErrorMap(m.errorMap),y._initializeWithPersistence(M,m?.popupRedirectResolver)}(Tt,_),Tt})(M,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,M)=>{m.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ae.wA("auth-internal",m=>{const _=jn(m.getProvider("auth").getImmediate());return new $8(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(t6,"0.21.0",function W8(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,de.registerVersion)(t6,"0.21.0","esm2017")}("Browser");class i6 extends aa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,o.Z)(function*(){yield m.initPromise})()}}function V0(y){return r6.apply(this,arguments)}function r6(){return(r6=(0,o.Z)(function*(y){const m=yield rc()._get(fa(y));return m&&(yield rc()._remove(fa(y))),m})).apply(this,arguments)}function o4(){const y=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const M=Math.floor(Math.random()*m.length);y.push(m.charAt(M))}return y.join("")}function rc(){return le(S2)}function fa(y){return X("authEvent",y.config.apiKey,y.name)}function zl(y){if(!y?.includes("?"))return{};const[m,..._]=y.split("?");return(0,O.zd)(_.join("?"))}function c4(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function u4(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function sc(y=(0,O.z$)()){return!("file:"!==u4()&&"ionic:"!==u4()&&"capacitor:"!==u4()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function O0(){try{const y=self.localStorage,m=E2();if(y)return y.setItem(m,"1"),y.removeItem(m),!function P0(y=(0,O.z$)()){return function z0(){return(0,O.w1)()&&11===document?.documentMode}()||function N0(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return d4()&&(0,O.hl)()}return!1}function d4(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function h4(){return(function Mg(){return"http:"===u4()||"https:"===u4()}()||(0,O.ru)()||sc())&&!function o6(){return(0,O.b$)()||(0,O.UG)()}()&&O0()&&!d4()}function Nl(){return sc()&&typeof document<"u"}function f4(){return(f4=(0,o.Z)(function*(){return!!Nl()&&new Promise(y=>{const m=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),y(!0)})})})).apply(this,arguments)}const gr={LOCAL:"local",NONE:"none",SESSION:"session"},Gr=G,fs="persistence";function oc(y){return ac.apply(this,arguments)}function ac(){return(ac=(0,o.Z)(function*(y){yield y._initializationPromise;const m=Ol(),_=X(fs,y.config.apiKey,y.name);m&&m.setItem(_,y._getPersistence())})).apply(this,arguments)}function Ol(){var y;try{return(null===(y=function Pl(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const p4=G;class sr{constructor(){this.browserResolver=le(class E0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=ft,this._overrideRedirectResult=Ao}_openPopup(m,_,M,k){var z=this;return(0,o.Z)(function*(){var K;Q(null===(K=z.eventManagers[m._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const _e=ua(m,_,M,Fe(),k);return function la(y,m,_,M=500,k=600){const z=Math.max((window.screen.availHeight-k)/2,0).toString(),K=Math.max((window.screen.availWidth-M)/2,0).toString();let _e="";const $e=Object.assign(Object.assign({},e4),{width:M.toString(),height:k.toString(),top:z,left:K}),st=(0,O.z$)().toLowerCase();_&&(_e=un(st)?"_blank":_),Ke(st)&&(m=m||"http://localhost",$e.scrollbars="yes");const Tt=Object.entries($e).reduce((An,[$r,$2])=>`${An}${$r}=${$2},`,"");if(function xr(y=(0,O.z$)()){var m;return Yt(y)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(st)&&"_self"!==_e)return function x0(y,m){const _=document.createElement("a");_.href=y,_.target=m;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(M)}(m||"",_e),new Vl(null);const St=window.open(m||"",_e,Tt);G(St,y,"popup-blocked");try{St.focus()}catch{}return new Vl(St)}(m,_e,E2())})()}_openRedirect(m,_,M,k){var z=this;return(0,o.Z)(function*(){return yield z._originValidation(m),function ls(y){si().location.href=y}(ua(m,_,M,Fe(),k)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:k,promise:z}=this.eventManagers[_];return k?Promise.resolve(k):(Q(z,"If manager is not set, promise should be"),z)}const M=this.initAndGetManager(m);return this.eventManagers[_]={promise:M},M.catch(()=>{delete this.eventManagers[_]}),M}initAndGetManager(m){var _=this;return(0,o.Z)(function*(){const M=yield function D0(y){return P2.apply(this,arguments)}(m),k=new aa(m);return M.register("authEvent",z=>(G(z?.authEvent,m,"invalid-auth-event"),{status:k.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:k},_.iframes[m._key()]=M,k})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(R2,{type:R2},k=>{var z;const K=null===(z=k?.[0])||void 0===z?void 0:z[R2];void 0!==K&&_(!!K),He(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function To(y){return Ku.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Bo()||bt()||Yt()}}),this.cordovaResolver=le(class a4{constructor(){this._redirectPersistence=As,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ft,this._overrideRedirectResult=Ao}_initialize(m){var _=this;return(0,o.Z)(function*(){const M=m._key();let k=_.eventManagers.get(M);return k||(k=new i6(m),_.eventManagers.set(M,k),_.attachCallbackListeners(m,k)),k})()}_openPopup(m){He(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,M,k){var z=this;return(0,o.Z)(function*(){!function bg(y){var m,_,M,k,z,K,_e,$e,st,Tt;const St=F2();G("function"==typeof(null===(m=St?.universalLinks)||void 0===m?void 0:m.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(typeof(null===(_=St?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(z=null===(k=null===(M=St?.cordova)||void 0===M?void 0:M.plugins)||void 0===k?void 0:k.browsertab)||void 0===z?void 0:z.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===($e=null===(_e=null===(K=St?.cordova)||void 0===K?void 0:K.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===$e?void 0:$e.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Tt=null===(st=St?.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===Tt?void 0:Tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const K=yield z._initialize(m);yield K.initialized(),K.resetRedirect(),function Nn(){ds.clear()}(),yield z._originValidation(m);const _e=function k0(y,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:o4(),postBody:null,tenantId:y.tenantId,error:Me(y,"no-auth-event")}}(m,M,k);yield function ic(y,m){return rc()._set(fa(y),m)}(m,_e);const $e=yield function ks(y,m,_){return B2.apply(this,arguments)}(m,_e,_),st=yield function K8(y){const{cordova:m}=F2();return new Promise(_=>{m.plugins.browsertab.isAvailable(M=>{let k=null;M?m.plugins.browsertab.openUrl(y):k=m.InAppBrowser.open(y,function Hi(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),_(k)})})}($e);return function Cg(y,m,_){return I0.apply(this,arguments)}(m,K,st)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function ja(y){return nc.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:M,handleOpenURL:k,BuildInfo:z}=F2(),K=setTimeout((0,o.Z)(function*(){yield V0(m),_.onEvent(c4())}),500),_e=function(){var Tt=(0,o.Z)(function*(St){clearTimeout(K);const An=yield V0(m);let $r=null;An&&St?.url&&($r=function s6(y,m){var _,M;const k=function Jn(y){const m=zl(y),_=m.link?decodeURIComponent(m.link):void 0,M=zl(_).link,k=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return zl(k).link||k||M||_||y}(m);if(k.includes("/__/auth/callback")){const z=zl(k),K=z.firebaseError?function X8(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(z.firebaseError)):null,_e=null===(M=null===(_=K?.code)||void 0===_?void 0:_.split("auth/"))||void 0===M?void 0:M[1],$e=_e?Me(_e):null;return $e?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:k,postBody:null}}return null}(An,St.url)),_.onEvent($r||c4())});return function(An){return Tt.apply(this,arguments)}}();typeof M<"u"&&"function"==typeof M.subscribe&&M.subscribe(null,_e);const $e=k,st=`${z.packageName.toLowerCase()}://`;F2().handleOpenURL=function(){var Tt=(0,o.Z)(function*(St){if(St.toLowerCase().startsWith(st)&&_e({url:St}),"function"==typeof $e)try{$e(St)}catch(An){console.error(An)}});return function(St){return Tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=As,this._completeRedirectFn=ft,this._overrideRedirectResult=Ao}_initialize(m){var _=this;return(0,o.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,M,k){var z=this;return(0,o.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openPopup(m,_,M,k)})()}_openRedirect(m,_,M,k){var z=this;return(0,o.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openRedirect(m,_,M,k)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Nl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return p4(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,o.Z)(function*(){if(m.underlyingResolver)return;const _=yield function wg(){return f4.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function m4(y){return y.unwrap()}function F0(y){return Fl(y)}function Fl(y){const{_tokenResponse:m}=y instanceof O.ZR?y.customData:y;if(!m)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return H2.credentialFromResult(y);const _=m.providerId;if(!_||"password"===_)return null;let M;switch(_){case"google.com":M=w1;break;case"facebook.com":M=p2;break;case"github.com":M=ll;break;case"twitter.com":M=Ar;break;default:const{oauthIdToken:k,oauthAccessToken:z,oauthTokenSecret:K,pendingToken:_e,nonce:$e}=m;return z||K||k||_e?_e?_.startsWith("saml.")?xs._create(_,_e):Fs._fromParams({providerId:_,signInMethod:_,pendingToken:_e,idToken:k,accessToken:z}):new qo(_).credential({idToken:k,accessToken:z,rawNonce:$e}):null}return y instanceof O.ZR?M.credentialFromError(y):M.credentialFromResult(y)}function Ri(y,m){return m.catch(_=>{throw _ instanceof O.ZR&&function a6(y,m){var _;const M=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new e5(y,function Xn(y,m){var _;const M=(0,O.m9)(y),k=m;return G(m.customData.operationType,M,"argument-error"),G(null===(_=k.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,M,"argument-error"),B1._fromError(M,k)}(y,m));else if(M){const k=Fl(m),z=m;k&&(z.credential=k,z.tenantId=M.tenantId||void 0,z.email=M.email||void 0,z.phoneNumber=M.phoneNumber||void 0)}}(y,_),_}).then(_=>{const k=_.user;return{operationType:_.operationType,credential:F0(_),additionalUserInfo:R1(_),user:Js.getOrCreate(k)}})}function G2(y,m){return c6.apply(this,arguments)}function c6(){return(c6=(0,o.Z)(function*(y,m){const _=yield m;return{verificationId:_.verificationId,confirm:M=>Ri(y,_.confirm(M))}})).apply(this,arguments)}class e5{constructor(m,_){this.resolver=_,this.auth=function Rl(y){return y.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Ri(m4(this.auth),this.resolver.resolveSignIn(m))}}class Js{constructor(m){this._delegate=m,this.multiFactor=function La(y){const m=(0,O.m9)(y);return Jo.has(m)||Jo.set(m,Zu._fromUser(m)),Jo.get(m)}(m)}static getOrCreate(m){return Js.USER_MAP.has(m)||Js.USER_MAP.set(m,new Js(m)),Js.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,o.Z)(function*(){return Ri(_.auth,T1(_._delegate,m))})()}linkWithPhoneNumber(m,_){var M=this;return(0,o.Z)(function*(){return G2(M.auth,function Vn(y,m,_){return us.apply(this,arguments)}(M._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,o.Z)(function*(){return Ri(_.auth,function ec(y,m,_){return N2.apply(this,arguments)}(_._delegate,m,sr))})()}linkWithRedirect(m){var _=this;return(0,o.Z)(function*(){return yield oc(jn(_.auth)),function te(y,m,_){return function oe(y,m,_){return Ae.apply(this,arguments)}(y,m,_)}(_._delegate,m,sr)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,o.Z)(function*(){return Ri(_.auth,I1(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return G2(this.auth,function L2(y,m,_){return gn.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return Ri(this.auth,function y0(y,m,_){return Il.apply(this,arguments)}(this._delegate,m,sr))}reauthenticateWithRedirect(m){var _=this;return(0,o.Z)(function*(){return yield oc(jn(_.auth)),function E(y,m,_){return function V(y,m,_){return B.apply(this,arguments)}(y,m,_)}(_._delegate,m,sr)})()}sendEmailVerification(m){return function gl(y,m){return M2.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,o.Z)(function*(){return yield function pr(y,m){return D1.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function G3(y,m){return Ko((0,O.m9)(y),m,null)}(this._delegate,m)}updatePassword(m){return function Yo(y,m){return Ko((0,O.m9)(y),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function v0(y,m){return Al.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function yl(y,m){return Cl.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function _l(y,m,_){return N1.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Js.USER_MAP=new WeakMap;const Ga=G;let l6=(()=>{class y{constructor(_,M){if(this.app=_,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=_.options;Ga(k,"invalid-api-key",{appName:_.name}),Ga(k,"invalid-api-key",{appName:_.name});const z=typeof window<"u"?sr:void 0;this._delegate=M.initialize({options:{persistence:B0(k,_.name),popupRedirectResolver:z}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Js.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,M){!function C1(y,m,_){const M=jn(y);G(M._canInitEmulator,M,"emulator-config-failed"),G(/^https?:\/\//.test(m),M,"invalid-emulator-scheme");const k=!!_?.disableWarnings,z=Ss(m),{host:K,port:_e}=function hi(y){const m=Ss(y),_=/(\/\/)?([^?#/]+)/.exec(y.substr(m.length));if(!_)return{host:"",port:null};const M=_[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(M);if(k){const z=k[1];return{host:z,port:go(M.substr(z.length+1))}}{const[z,K]=M.split(":");return{host:z,port:go(K)}}}(m);M.config.emulator={url:`${z}//${K}${null===_e?"":`:${_e}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:K,port:_e,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function _o(){function y(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,_,M)}applyActionCode(_){return function Br(y,m){return _2.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return v2(this._delegate,_)}confirmPasswordReset(_,M){return function H1(y,m,_){return Ia.apply(this,arguments)}(this._delegate,_,M)}createUserWithEmailAndPassword(_,M){var k=this;return(0,o.Z)(function*(){return Ri(k._delegate,function y2(y,m,_){return Qn.apply(this,arguments)}(k._delegate,_,M))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function z1(y,m){return b2.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function $s(y,m){return"EMAIL_SIGNIN"===M1.parseLink(m)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,o.Z)(function*(){Ga(h4(),_._delegate,"operation-not-supported-in-this-environment");const M=yield function Le(y,m){return ot.apply(this,arguments)}(_._delegate,sr);return M?Ri(_._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function j2(y,m){jn(y)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,M,k){const{next:z,error:K,complete:_e}=g4(_,M,k);return this._delegate.onAuthStateChanged(z,K,_e)}onIdTokenChanged(_,M,k){const{next:z,error:K,complete:_e}=g4(_,M,k);return this._delegate.onIdTokenChanged(z,K,_e)}sendSignInLinkToEmail(_,M){return function pl(y,m,_){return Zo.apply(this,arguments)}(this._delegate,_,M)}sendPasswordResetEmail(_,M){return function L1(y,m,_){return Kn.apply(this,arguments)}(this._delegate,_,M||void 0)}setPersistence(_){var M=this;return(0,o.Z)(function*(){let k;switch(function R0(y,m){Gr(Object.values(gr).includes(m),y,"invalid-persistence-type"),(0,O.b$)()?Gr(m!==gr.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Gr(m===gr.NONE,y,"unsupported-persistence-type"):d4()?Gr(m===gr.NONE||m===gr.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Gr(m===gr.NONE||O0(),y,"unsupported-persistence-type")}(M._delegate,_),_){case gr.SESSION:k=As;break;case gr.LOCAL:k=(yield le(za)._isAvailable())?za:S2;break;case gr.NONE:k=U;break;default:return He("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Ri(this._delegate,function qu(y){return Yn.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Ri(this._delegate,qn(this._delegate,_))}signInWithCustomToken(_){return Ri(this._delegate,function dl(y,m){return g2.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,M){return Ri(this._delegate,function Es(y,m,_){return qn((0,O.m9)(y),Ds.credential(m,_))}(this._delegate,_,M))}signInWithEmailLink(_,M){return Ri(this._delegate,function h0(y,m,_){return C2.apply(this,arguments)}(this._delegate,_,M))}signInWithPhoneNumber(_,M){return G2(this._delegate,function nt(y,m,_){return Et.apply(this,arguments)}(this._delegate,_,M))}signInWithPopup(_){var M=this;return(0,o.Z)(function*(){return Ga(h4(),M._delegate,"operation-not-supported-in-this-environment"),Ri(M._delegate,function Tl(y,m,_){return Ba.apply(this,arguments)}(M._delegate,_,sr))})()}signInWithRedirect(_){var M=this;return(0,o.Z)(function*(){return Ga(h4(),M._delegate,"operation-not-supported-in-this-environment"),yield oc(M._delegate),function nn(y,m,_){return function Vr(y,m,_){return x.apply(this,arguments)}(y,m,_)}(M._delegate,_,sr)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function fl(y,m){return j3.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=gr,y})();function g4(y,m,_){let M=y;"function"!=typeof y&&({next:M,error:m,complete:_}=y);const k=M;return{next:K=>k(K&&Js.getOrCreate(K)),error:m,complete:_}}function B0(y,m){const _=function qr(y,m){const _=Ol();if(!_)return[];const M=X(fs,y,m);switch(_.getItem(M)){case gr.NONE:return[U];case gr.LOCAL:return[za,As];case gr.SESSION:return[As];default:return[]}}(y,m);if(typeof self<"u"&&!_.includes(za)&&_.push(za),typeof window<"u")for(const M of[S2,As])_.includes(M)||_.push(M);return _.includes(U)||_.push(U),_}class _4{constructor(){this.providerId="phone",this._delegate=new H2(m4(ie.Z.auth()))}static credential(m,_){return H2.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}_4.PHONE_SIGN_IN_METHOD=H2.PHONE_SIGN_IN_METHOD,_4.PROVIDER_ID=H2.PROVIDER_ID;const v4=G;class y4{constructor(m,_,M=ie.Z.app()){var k;v4(null===(k=M.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new Oi(m,_,M.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function t5(y){y.INTERNAL.registerComponent(new ae.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),M=m.getProvider("auth");return new l6(_,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ds,FacebookAuthProvider:p2,GithubAuthProvider:ll,GoogleAuthProvider:w1,OAuthProvider:qo,SAMLAuthProvider:Rr,PhoneAuthProvider:_4,PhoneMultiFactorGenerator:da,RecaptchaVerifier:y4,TwitterAuthProvider:Ar,Auth:l6,AuthCredential:Yi,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.0")}(ie.Z)},8766:(_t,Ie,R)=>{R.d(Ie,{Lj:()=>He,X3:()=>gt});var o=R(5861);let O,de;const ae=new WeakMap,me=new WeakMap,ge=new WeakMap,q=new WeakMap,W=new WeakMap;let Ne={get(G,ye,Q){if(G instanceof IDBTransaction){if("done"===ye)return me.get(G);if("objectStoreNames"===ye)return G.objectStoreNames||ge.get(G);if("store"===ye)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return ve(G[ye])},set:(G,ye,Q)=>(G[ye]=Q,!0),has:(G,ye)=>G instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in G};function Ce(G){return"function"==typeof G?function dt(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...ye){return G.apply(ct(this),ye),ve(ae.get(this))}:function(...ye){return ve(G.apply(ct(this),ye))}:function(ye,...Q){const re=G.call(ct(this),ye,...Q);return ge.set(re,ye.sort?ye.sort():[ye]),ve(re)}}(G):(G instanceof IDBTransaction&&function Ge(G){if(me.has(G))return;const ye=new Promise((Q,re)=>{const le=()=>{G.removeEventListener("complete",ce),G.removeEventListener("error",Be),G.removeEventListener("abort",Be)},ce=()=>{Q(),le()},Be=()=>{re(G.error||new DOMException("AbortError","AbortError")),le()};G.addEventListener("complete",ce),G.addEventListener("error",Be),G.addEventListener("abort",Be)});me.set(G,ye)}(G),((G,ye)=>ye.some(Q=>G instanceof Q))(G,function ue(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,Ne):G)}function ve(G){if(G instanceof IDBRequest)return function ee(G){const ye=new Promise((Q,re)=>{const le=()=>{G.removeEventListener("success",ce),G.removeEventListener("error",Be)},ce=()=>{Q(ve(G.result)),le()},Be=()=>{re(G.error),le()};G.addEventListener("success",ce),G.addEventListener("error",Be)});return ye.then(Q=>{Q instanceof IDBCursor&&ae.set(Q,G)}).catch(()=>{}),W.set(ye,G),ye}(G);if(q.has(G))return q.get(G);const ye=Ce(G);return ye!==G&&(q.set(G,ye),W.set(ye,G)),ye}const ct=G=>W.get(G);function gt(G,ye,{blocked:Q,upgrade:re,blocking:le,terminated:ce}={}){const Be=indexedDB.open(G,ye),Fe=ve(Be);return re&&Be.addEventListener("upgradeneeded",Ct=>{re(ve(Be.result),Ct.oldVersion,Ct.newVersion,ve(Be.transaction))}),Q&&Be.addEventListener("blocked",()=>Q()),Fe.then(Ct=>{ce&&Ct.addEventListener("close",()=>ce()),le&&Ct.addEventListener("versionchange",()=>le())}).catch(()=>{}),Fe}function He(G,{blocked:ye}={}){const Q=indexedDB.deleteDatabase(G);return ye&&Q.addEventListener("blocked",()=>ye()),ve(Q).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],We=new Map;function Ze(G,ye){if(!(G instanceof IDBDatabase)||ye in G||"string"!=typeof ye)return;if(We.get(ye))return We.get(ye);const Q=ye.replace(/FromIndex$/,""),re=ye!==Q,le=Ee.includes(Q);if(!(Q in(re?IDBIndex:IDBObjectStore).prototype)||!le&&!Me.includes(Q))return;const ce=function(){var Be=(0,o.Z)(function*(Fe,...Ct){const fn=this.transaction(Fe,le?"readwrite":"readonly");let Kt=fn.store;return re&&(Kt=Kt.index(Ct.shift())),(yield Promise.all([Kt[Q](...Ct),le&&fn.done]))[0]});return function(Ct){return Be.apply(this,arguments)}}();return We.set(ye,ce),ce}!function xe(G){Ne=G(Ne)}(G=>({...G,get:(ye,Q,re)=>Ze(ye,Q)||G.get(ye,Q,re),has:(ye,Q)=>!!Ze(ye,Q)||G.has(ye,Q)}))},5861:(_t,Ie,R)=>{function o(O,de,ue,pe,ae,me,ge){try{var q=O[me](ge),W=q.value}catch(ee){return void ue(ee)}q.done?de(W):Promise.resolve(W).then(pe,ae)}function ie(O){return function(){var de=this,ue=arguments;return new Promise(function(pe,ae){var me=O.apply(de,ue);function ge(W){o(me,pe,ae,ge,q,"next",W)}function q(W){o(me,pe,ae,ge,q,"throw",W)}ge(void 0)})}}R.d(Ie,{Z:()=>ie})}},_t=>{_t(_t.s=1529)}]);